/*
 jQuery JavaScript Library v3.2.1
 https://jquery.com/

 Includes Sizzle.js
 https://sizzlejs.com/

 Copyright JS Foundation and other contributors
 Released under the MIT license
 https://jquery.org/license

 Date: 2017-03-20T18:59Z
 Sizzle CSS Selector Engine v2.3.3
 https://sizzlejs.com/

 Copyright jQuery Foundation and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2016-08-08
*/
window.ContextHubKernelConfig={debug:!1,initializationTimeout:2E3,stores:{geolocation:{type:"contexthub.geolocation",required:!0,config:{geocoder:{enabled:!0}}},surferinfo:{type:"contexthub.surferinfo",required:!0},profile:{type:"granite.profile",required:!0},emulators:{type:"granite.emulators",required:!0},eventdata:{type:"aem.analyticsdata",required:!0},pagedata:{type:"aem.pagedata",required:!0},segmentation:{type:"aem.segmentation",required:!0},metadata:{type:"campaign.metadata",required:!1},seeddata:{type:"campaign.seeddata",
required:!1},abandonedproducts:{type:"commerce.abandonedproducts",required:!0},recentlyviewed:{type:"commerce.recentlyviewed",required:!0},cart:{type:"commerce.cart",required:!0},orderhistory:{type:"commerce.orderhistory",required:!0},relatedproducts:{type:"commerce.relatedproducts",required:!0},smartlists:{type:"commerce.smartlists",required:!0}}};
(function(g,l){"object"===typeof module&&"object"===typeof module.exports?module.exports=g.document?l(g,!0):function(g){if(!g.document)throw Error("jQuery requires a window with a document");return l(g)}:l(g)})("undefined"!==typeof window?window:this,function(g,l){function e(c,h){h=h||y;var a=h.createElement("script");a.text=c;h.head.appendChild(a).parentNode.removeChild(a)}function b(c){var h=!!c&&"length"in c&&c.length,a=k.type(c);return"function"===a||k.isWindow(c)?!1:"array"===a||0===h||"number"===
typeof h&&0<h&&h-1 in c}function a(c,h){return c.nodeName&&c.nodeName.toLowerCase()===h.toLowerCase()}function d(c,h,a){if(k.isFunction(h))return k.grep(c,function(c,b){return!!h.call(c,b,c)!==a});if(h.nodeType)return k.grep(c,function(c){return c===h!==a});if("string"!==typeof h)return k.grep(c,function(c){return-1<da.call(h,c)!==a});if(wb.test(h))return k.filter(h,c,a);h=k.filter(h,c);return k.grep(c,function(c){return-1<da.call(h,c)!==a&&1===c.nodeType})}function f(c,h){for(;(c=c[h])&&1!==c.nodeType;);
return c}function n(c){var h={};k.each(c.match(X)||[],function(c,a){h[a]=!0});return h}function m(c){return c}function r(c){throw c;}function q(c,h,a,b){var p;try{c&&k.isFunction(p=c.promise)?p.call(c).done(h).fail(a):c&&k.isFunction(p=c.then)?p.call(c,h,a):h.apply(void 0,[c].slice(b))}catch(ta){a.apply(void 0,[ta])}}function t(){y.removeEventListener("DOMContentLoaded",t);g.removeEventListener("load",t);k.ready()}function x(){this.expando=k.expando+x.uid++}function G(c,h,a){if(void 0===a&&1===c.nodeType)if(a=
"data-"+h.replace(xb,"-$\x26").toLowerCase(),a=c.getAttribute(a),"string"===typeof a){try{var b=a;a="true"===b?!0:"false"===b?!1:"null"===b?null:b===+b+""?+b:yb.test(b)?JSON.parse(b):b}catch(A){}P.set(c,h,a)}else a=void 0;return a}function z(c,h,a,b){var p=1,v=20,d=b?function(){return b.cur()}:function(){return k.css(c,h,"")},f=d(),g=a&&a[3]||(k.cssNumber[h]?"":"px"),e=(k.cssNumber[h]||"px"!==g&&+f)&&na.exec(k.css(c,h));if(e&&e[3]!==g){g=g||e[3];a=a||[];e=+f||1;do p=p||".5",e/=p,k.style(c,h,e+g);
while(p!==(p=d()/f)&&1!==p&&--v)}if(a){e=+e||+f||0;var m=a[1]?e+(a[1]+1)*a[2]:+a[2];b&&(b.unit=g,b.start=e,b.end=m)}return m}function E(c,h){for(var a,b,d=[],f=0,g=c.length;f<g;f++)if(b=c[f],b.style)if(a=b.style.display,h){if("none"===a&&(d[f]=w.get(b,"display")||null,d[f]||(b.style.display="")),""===b.style.display&&za(b)){a=f;var e=b.ownerDocument;b=b.nodeName;var m=Wa[b];m||(e=e.body.appendChild(e.createElement(b)),m=k.css(e,"display"),e.parentNode.removeChild(e),"none"===m&&(m="block"),Wa[b]=
m);e=m;d[a]=e}}else"none"!==a&&(d[f]="none",w.set(b,"display",a));for(f=0;f<g;f++)null!=d[f]&&(c[f].style.display=d[f]);return c}function B(c,h){var b="undefined"!==typeof c.getElementsByTagName?c.getElementsByTagName(h||"*"):"undefined"!==typeof c.querySelectorAll?c.querySelectorAll(h||"*"):[];return void 0===h||h&&a(c,h)?k.merge([c],b):b}function L(c,h){for(var a=0,b=c.length;a<b;a++)w.set(c[a],"globalEval",!h||w.get(h[a],"globalEval"))}function R(c,h,a,b,d){for(var p,v,f,g=h.createDocumentFragment(),
e=[],m=0,n=c.length;m<n;m++)if((p=c[m])||0===p)if("object"===k.type(p))k.merge(e,p.nodeType?[p]:p);else if(Ab.test(p)){v=v||g.appendChild(h.createElement("div"));f=(Xa.exec(p)||["",""])[1].toLowerCase();f=Q[f]||Q._default;v.innerHTML=f[1]+k.htmlPrefilter(p)+f[2];for(f=f[0];f--;)v=v.lastChild;k.merge(e,v.childNodes);v=g.firstChild;v.textContent=""}else e.push(h.createTextNode(p));g.textContent="";for(m=0;p=e[m++];)if(b&&-1<k.inArray(p,b))d&&d.push(p);else if(c=k.contains(p.ownerDocument,p),v=B(g.appendChild(p),
"script"),c&&L(v),a)for(f=0;p=v[f++];)Ya.test(p.type||"")&&a.push(p);return g}function U(){return!0}function W(){return!1}function C(){try{return y.activeElement}catch(c){}}function H(c,h,a,b,d,f){var p;if("object"===typeof h){"string"!==typeof a&&(b=b||a,a=void 0);for(p in h)H(c,p,a,b,h[p],f);return c}null==b&&null==d?(d=a,b=a=void 0):null==d&&("string"===typeof a?(d=b,b=void 0):(d=b,b=a,a=void 0));if(!1===d)d=W;else if(!d)return c;if(1===f){var v=d;d=function(c){k().off(c);return v.apply(this,arguments)};
d.guid=v.guid||(v.guid=k.guid++)}return c.each(function(){k.event.add(this,h,d,b,a)})}function N(c,h){return a(c,"table")&&a(11!==h.nodeType?h:h.firstChild,"tr")?k("\x3etbody",c)[0]||c:c}function La(c){c.type=(null!==c.getAttribute("type"))+"/"+c.type;return c}function S(c){var h=Bb.exec(c.type);h?c.type=h[1]:c.removeAttribute("type");return c}function V(c,h){var a,b;if(1===h.nodeType){if(w.hasData(c)){var d=w.access(c);var f=w.set(h,d);if(d=d.events)for(b in delete f.handle,f.events={},d)for(f=0,
a=d[b].length;f<a;f++)k.event.add(h,b,d[b][f])}P.hasData(c)&&(c=P.access(c),c=k.extend({},c),P.set(h,c))}}function J(c,h,a,b){h=Za.apply([],h);var p,d=0,v=c.length,f=v-1,g=h[0],m=k.isFunction(g);if(m||1<v&&"string"===typeof g&&!D.checkClone&&Cb.test(g))return c.each(function(p){var k=c.eq(p);m&&(h[0]=g.call(this,p,k.html()));J(k,h,a,b)});if(v){var n=R(h,c[0].ownerDocument,!1,c,b);var l=n.firstChild;1===n.childNodes.length&&(n=l);if(l||b){l=k.map(B(n,"script"),La);for(p=l.length;d<v;d++){var q=n;d!==
f&&(q=k.clone(q,!0,!0),p&&k.merge(l,B(q,"script")));a.call(c[d],q,d)}if(p)for(n=l[l.length-1].ownerDocument,k.map(l,S),d=0;d<p;d++)q=l[d],Ya.test(q.type||"")&&!w.access(q,"globalEval")&&k.contains(n,q)&&(q.src?k._evalUrl&&k._evalUrl(q.src):e(q.textContent.replace(Eb,""),n))}}return c}function Ga(c,h,a){for(var b=h?k.filter(h,c):c,p=0;null!=(h=b[p]);p++)a||1!==h.nodeType||k.cleanData(B(h)),h.parentNode&&(a&&k.contains(h.ownerDocument,h)&&L(B(h,"script")),h.parentNode.removeChild(h));return c}function u(c,
h,a){var b=c.style;if(a=a||oa(c)){var p=a.getPropertyValue(h)||a[h];""!==p||k.contains(c.ownerDocument,c)||(p=k.style(c,h));if(!D.pixelMarginRight()&&Ma.test(p)&&$a.test(h)){c=b.width;h=b.minWidth;var d=b.maxWidth;b.minWidth=b.maxWidth=b.width=p;p=a.width;b.width=c;b.minWidth=h;b.maxWidth=d}}return void 0!==p?p+"":p}function I(c,h){return{get:function(){if(c())delete this.get;else return(this.get=h).apply(this,arguments)}}}function Ca(c){var h=k.cssProps[c];if(!h){h=k.cssProps;a:{var a=c;if(!(a in
ab)){for(var b=a[0].toUpperCase()+a.slice(1),d=bb.length;d--;)if(a=bb[d]+b,a in ab)break a;a=void 0}}h=h[c]=a||c}return h}function ua(c,h,a){return(c=na.exec(h))?Math.max(0,c[2]-(a||0))+(c[3]||"px"):h}function Ha(c,h,a,b,d){var p=0;for(h=a===(b?"border":"content")?4:"width"===h?1:0;4>h;h+=2)"margin"===a&&(p+=k.css(c,a+ea[h],!0,d)),b?("content"===a&&(p-=k.css(c,"padding"+ea[h],!0,d)),"margin"!==a&&(p-=k.css(c,"border"+ea[h]+"Width",!0,d))):(p+=k.css(c,"padding"+ea[h],!0,d),"padding"!==a&&(p+=k.css(c,
"border"+ea[h]+"Width",!0,d)));return p}function Da(c,h,a){var b=oa(c),p=u(c,h,b),d="border-box"===k.css(c,"boxSizing",!1,b);if(Ma.test(p))return p;var f=d&&(D.boxSizingReliable()||p===c.style[h]);"auto"===p&&(p=c["offset"+h[0].toUpperCase()+h.slice(1)]);p=parseFloat(p)||0;return p+Ha(c,h,a||(d?"border":"content"),f,b)+"px"}function T(c,h,a,b,k){return new T.prototype.init(c,h,a,b,k)}function Z(){fa&&(!1===y.hidden&&g.requestAnimationFrame?g.requestAnimationFrame(Z):g.setTimeout(Z,k.fx.interval),
k.fx.tick())}function va(){g.setTimeout(function(){pa=void 0});return pa=k.now()}function Aa(c,h){var a=0,b={height:c};for(h=h?1:0;4>a;a+=2-h){var k=ea[a];b["margin"+k]=b["padding"+k]=c}h&&(b.opacity=b.width=c);return b}function Ea(c,h,a){for(var b,p=(aa.tweeners[h]||[]).concat(aa.tweeners["*"]),k=0,d=p.length;k<d;k++)if(b=p[k].call(a,h,c))return b}function wa(c,h){var a,b;for(a in c){var d=k.camelCase(a);var f=h[d];var g=c[a];Array.isArray(g)&&(f=g[1],g=c[a]=g[0]);a!==d&&(c[d]=g,delete c[a]);if((b=
k.cssHooks[d])&&"expand"in b)for(a in g=b.expand(g),delete c[d],g)a in c||(c[a]=g[a],h[a]=f);else h[d]=f}}function aa(c,h,a){var b,d=0,p=aa.prefilters.length,f=k.Deferred().always(function(){delete g.elem}),g=function(){if(b)return!1;var h=pa||va();h=Math.max(0,e.startTime+e.duration-h);for(var a=1-(h/e.duration||0),k=0,d=e.tweens.length;k<d;k++)e.tweens[k].run(a);f.notifyWith(c,[e,a,h]);if(1>a&&d)return h;d||f.notifyWith(c,[e,1,0]);f.resolveWith(c,[e]);return!1},e=f.promise({elem:c,props:k.extend({},
h),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},a),originalProperties:h,originalOptions:a,startTime:pa||va(),duration:a.duration,tweens:[],createTween:function(h,a){h=k.Tween(c,e.opts,h,a,e.opts.specialEasing[h]||e.opts.easing);e.tweens.push(h);return h},stop:function(h){var a=0,k=h?e.tweens.length:0;if(b)return this;for(b=!0;a<k;a++)e.tweens[a].run(1);h?(f.notifyWith(c,[e,1,0]),f.resolveWith(c,[e,h])):f.rejectWith(c,[e,h]);return this}});a=e.props;for(wa(a,e.opts.specialEasing);d<
p;d++)if(h=aa.prefilters[d].call(e,c,a,e.opts))return k.isFunction(h.stop)&&(k._queueHooks(e.elem,e.opts.queue).stop=k.proxy(h.stop,h)),h;k.map(a,Ea,e);k.isFunction(e.opts.start)&&e.opts.start.call(c,e);e.progress(e.opts.progress).done(e.opts.done,e.opts.complete).fail(e.opts.fail).always(e.opts.always);k.fx.timer(k.extend(g,{elem:c,anim:e,queue:e.opts.queue}));return e}function ha(c){return(c.match(X)||[]).join(" ")}function ia(c){return c.getAttribute&&c.getAttribute("class")||""}function Na(c,
h,a,b){var d;if(Array.isArray(h))k.each(h,function(h,k){a||Fb.test(c)?b(c,k):Na(c+"["+("object"===typeof k&&null!=k?h:"")+"]",k,a,b)});else if(a||"object"!==k.type(h))b(c,h);else for(d in h)Na(c+"["+d+"]",h[d],a,b)}function cb(c){return function(h,a){"string"!==typeof h&&(a=h,h="*");var b=0,d=h.toLowerCase().match(X)||[];if(k.isFunction(a))for(;h=d[b++];)"+"===h[0]?(h=h.slice(1)||"*",(c[h]=c[h]||[]).unshift(a)):(c[h]=c[h]||[]).push(a)}}function db(c,a,b,d){function h(e){var g;p[e]=!0;k.each(c[e]||
[],function(c,k){c=k(a,b,d);if("string"===typeof c&&!f&&!p[c])return a.dataTypes.unshift(c),h(c),!1;if(f)return!(g=c)});return g}var p={},f=c===Oa;return h(a.dataTypes[0])||!p["*"]&&h("*")}function Pa(c,a){var h,b,d=k.ajaxSettings.flatOptions||{};for(h in a)void 0!==a[h]&&((d[h]?c:b||(b={}))[h]=a[h]);b&&k.extend(!0,c,b);return c}var ja=[],y=g.document,Gb=Object.getPrototypeOf,ba=ja.slice,Za=ja.concat,Qa=ja.push,da=ja.indexOf,Ba={},eb=Ba.toString,Ia=Ba.hasOwnProperty,fb=Ia.toString,Hb=fb.call(Object),
D={},k=function(c,a){return new k.fn.init(c,a)},Ib=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Jb=/^-ms-/,Kb=/-([a-z])/g,Lb=function(c,a){return a.toUpperCase()};k.fn=k.prototype={jquery:"3.2.1",constructor:k,length:0,toArray:function(){return ba.call(this)},get:function(c){return null==c?ba.call(this):0>c?this[c+this.length]:this[c]},pushStack:function(c){c=k.merge(this.constructor(),c);c.prevObject=this;return c},each:function(c){return k.each(this,c)},map:function(c){return this.pushStack(k.map(this,
function(a,b){return c.call(a,b,a)}))},slice:function(){return this.pushStack(ba.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(c){var a=this.length;c=+c+(0>c?a:0);return this.pushStack(0<=c&&c<a?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:Qa,sort:ja.sort,splice:ja.splice};k.extend=k.fn.extend=function(){var c,a,b,d=arguments[0]||{},f=1,e=arguments.length,g=!1;"boolean"===typeof d&&(g=d,d=arguments[f]||
{},f++);"object"===typeof d||k.isFunction(d)||(d={});f===e&&(d=this,f--);for(;f<e;f++)if(null!=(c=arguments[f]))for(a in c){var m=d[a];var n=c[a];d!==n&&(g&&n&&(k.isPlainObject(n)||(b=Array.isArray(n)))?(b?(b=!1,m=m&&Array.isArray(m)?m:[]):m=m&&k.isPlainObject(m)?m:{},d[a]=k.extend(g,m,n)):void 0!==n&&(d[a]=n))}return d};k.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw Error(c);},noop:function(){},isFunction:function(c){return"function"===k.type(c)},
isWindow:function(c){return null!=c&&c===c.window},isNumeric:function(c){var a=k.type(c);return("number"===a||"string"===a)&&!isNaN(c-parseFloat(c))},isPlainObject:function(c){if(!c||"[object Object]"!==eb.call(c))return!1;c=Gb(c);if(!c)return!0;c=Ia.call(c,"constructor")&&c.constructor;return"function"===typeof c&&fb.call(c)===Hb},isEmptyObject:function(c){for(var a in c)return!1;return!0},type:function(c){return null==c?c+"":"object"===typeof c||"function"===typeof c?Ba[eb.call(c)]||"object":typeof c},
globalEval:function(c){e(c)},camelCase:function(c){return c.replace(Jb,"ms-").replace(Kb,Lb)},each:function(c,a){var h,d=0;if(b(c))for(h=c.length;d<h&&!1!==a.call(c[d],d,c[d]);d++);else for(d in c)if(!1===a.call(c[d],d,c[d]))break;return c},trim:function(c){return null==c?"":(c+"").replace(Ib,"")},makeArray:function(c,a){a=a||[];null!=c&&(b(Object(c))?k.merge(a,"string"===typeof c?[c]:c):Qa.call(a,c));return a},inArray:function(c,a,b){return null==a?-1:da.call(a,c,b)},merge:function(c,a){for(var h=
+a.length,b=0,d=c.length;b<h;b++)c[d++]=a[b];c.length=d;return c},grep:function(c,a,b){for(var h=[],d=0,k=c.length,p=!b;d<k;d++)b=!a(c[d],d),b!==p&&h.push(c[d]);return h},map:function(c,a,d){var h,k=0,p=[];if(b(c))for(h=c.length;k<h;k++){var f=a(c[k],k,d);null!=f&&p.push(f)}else for(k in c)f=a(c[k],k,d),null!=f&&p.push(f);return Za.apply([],p)},guid:1,proxy:function(c,a){if("string"===typeof a){var h=c[a];a=c;c=h}if(k.isFunction(c)){var b=ba.call(arguments,2);h=function(){return c.apply(a||this,b.concat(ba.call(arguments)))};
h.guid=c.guid=c.guid||k.guid++;return h}},now:Date.now,support:D});"function"===typeof Symbol&&(k.fn[Symbol.iterator]=ja[Symbol.iterator]);k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,a){Ba["[object "+a+"]"]=a.toLowerCase()});var ma=function(c){function a(c,a,h,b){var d,k,f,p,e=a&&a.ownerDocument,g=a?a.nodeType:9;h=h||[];if("string"!==typeof c||!c||1!==g&&9!==g&&11!==g)return h;if(!b&&((a?a.ownerDocument||a:C)!==u&&xa(a),a=a||u,y)){if(11!==g&&
(p=qa.exec(c)))if(d=p[1])if(9===g)if(k=a.getElementById(d)){if(k.id===d)return h.push(k),h}else return h;else{if(e&&(k=e.getElementById(d))&&H(a,k)&&k.id===d)return h.push(k),h}else{if(p[2])return Q.apply(h,a.getElementsByTagName(c)),h;if((d=p[3])&&O.getElementsByClassName&&a.getElementsByClassName)return Q.apply(h,a.getElementsByClassName(d)),h}if(!(!O.qsa||ua[c+" "]||I&&I.test(c))){if(1!==g){e=a;var m=c}else if("object"!==a.nodeName.toLowerCase()){(f=a.getAttribute("id"))?f=f.replace(na,ra):a.setAttribute("id",
f=M);k=fa(c);for(d=k.length;d--;)k[d]="#"+f+" "+t(k[d]);m=k.join(",");e=da.test(c)&&q(a.parentNode)||a}if(m)try{return Q.apply(h,e.querySelectorAll(m)),h}catch(pc){}finally{f===M&&a.removeAttribute("id")}}}return Ba(c.replace(va,"$1"),a,h,b)}function b(){function c(h,b){a.push(h+" ")>F.cacheLength&&delete c[a.shift()];return c[h+" "]=b}var a=[];return c}function d(c){c[M]=!0;return c}function k(c){var a=u.createElement("fieldset");try{return!!c(a)}catch(Y){return!1}finally{a.parentNode&&a.parentNode.removeChild(a)}}
function f(c,a){c=c.split("|");for(var h=c.length;h--;)F.attrHandle[c[h]]=a}function e(c,a){var h=a&&c,b=h&&1===c.nodeType&&1===a.nodeType&&c.sourceIndex-a.sourceIndex;if(b)return b;if(h)for(;h=h.nextSibling;)if(h===a)return-1;return c?1:-1}function g(c){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===c}}function m(c){return function(a){var h=a.nodeName.toLowerCase();return("input"===h||"button"===h)&&a.type===c}}function n(c){return function(a){return"form"in a?a.parentNode&&
!1===a.disabled?"label"in a?"label"in a.parentNode?a.parentNode.disabled===c:a.disabled===c:a.isDisabled===c||a.isDisabled!==!c&&ya(a)===c:a.disabled===c:"label"in a?a.disabled===c:!1}}function l(c){return d(function(a){a=+a;return d(function(h,b){for(var d,k=c([],h.length,a),f=k.length;f--;)h[d=k[f]]&&(h[d]=!(b[d]=h[d]))})})}function q(c){return c&&"undefined"!==typeof c.getElementsByTagName&&c}function r(){}function t(c){for(var a=0,h=c.length,b="";a<h;a++)b+=c[a].value;return b}function x(c,a,
h){var b=a.dir,d=a.next,k=d||b,f=h&&"parentNode"===k,p=Ga++;return a.first?function(a,h,d){for(;a=a[b];)if(1===a.nodeType||f)return c(a,h,d);return!1}:function(a,h,e){var g,m=[D,p];if(e)for(;a=a[b];){if((1===a.nodeType||f)&&c(a,h,e))return!0}else for(;a=a[b];)if(1===a.nodeType||f){var n=a[M]||(a[M]={});n=n[a.uniqueID]||(n[a.uniqueID]={});if(d&&d===a.nodeName.toLowerCase())a=a[b]||a;else{if((g=n[k])&&g[0]===D&&g[1]===p)return m[2]=g[2];n[k]=m;if(m[2]=c(a,h,e))return!0}}return!1}}function G(c){return 1<
c.length?function(a,h,b){for(var d=c.length;d--;)if(!c[d](a,h,b))return!1;return!0}:c[0]}function z(c,a,h,b,d){for(var k,f=[],p=0,e=c.length,g=null!=a;p<e;p++)if(k=c[p])if(!h||h(k,b,d))f.push(k),g&&a.push(p);return f}function S(c,h,b,k,f,p){k&&!k[M]&&(k=S(k));f&&!f[M]&&(f=S(f,p));return d(function(d,p,e,g){var m,n=[],v=[],l=p.length,q;if(!(q=d)){q=h||"*";for(var K=e.nodeType?[e]:e,A=[],r=0,ta=K.length;r<ta;r++)a(q,K[r],A);q=A}q=!c||!d&&h?q:z(q,n,c,e,g);K=b?f||(d?c:l||k)?[]:p:q;b&&b(q,K,e,g);if(k){var Y=
z(K,v);k(Y,[],e,g);for(e=Y.length;e--;)if(m=Y[e])K[v[e]]=!(q[v[e]]=m)}if(d){if(f||c){if(f){Y=[];for(e=K.length;e--;)(m=K[e])&&Y.push(q[e]=m);f(null,K=[],Y,g)}for(e=K.length;e--;)(m=K[e])&&-1<(Y=f?Z(d,m):n[e])&&(d[Y]=!(p[Y]=m))}}else K=z(K===p?K.splice(l,K.length):K),f?f(null,p,K,g):Q.apply(p,K)})}function E(c){var a,h,b=c.length,d=F.relative[c[0].type];var k=d||F.relative[" "];for(var f=d?1:0,p=x(function(c){return c===a},k,!0),e=x(function(c){return-1<Z(a,c)},k,!0),g=[function(c,h,b){c=!d&&(b||h!==
R)||((a=h).nodeType?p(c,h,b):e(c,h,b));a=null;return c}];f<b;f++)if(k=F.relative[c[f].type])g=[x(G(g),k)];else{k=F.filter[c[f].type].apply(null,c[f].matches);if(k[M]){for(h=++f;h<b&&!F.relative[c[h].type];h++);return S(1<f&&G(g),1<f&&t(c.slice(0,f-1).concat({value:" "===c[f-2].type?"*":""})).replace(va,"$1"),k,f<h&&E(c.slice(f,h)),h<b&&E(c=c.slice(h)),h<b&&t(c))}g.push(k)}return G(g)}function V(c,h){var b=0<h.length,k=0<c.length,f=function(d,f,p,e,g){var m,n,v=0,l="0",q=d&&[],K=[],A=R,r=d||k&&F.find.TAG("*",
g),ta=D+=null==A?1:Math.random()||.1,t=r.length;for(g&&(R=f===u||f||g);l!==t&&null!=(m=r[l]);l++){if(k&&m){var Y=0;f||m.ownerDocument===u||(xa(m),p=!y);for(;n=c[Y++];)if(n(m,f||u,p)){e.push(m);break}g&&(D=ta)}b&&((m=!n&&m)&&v--,d&&q.push(m))}v+=l;if(b&&l!==v){for(Y=0;n=h[Y++];)n(q,K,f,p);if(d){if(0<v)for(;l--;)q[l]||K[l]||(K[l]=aa.call(e));K=z(K)}Q.apply(e,K);g&&!d&&0<K.length&&1<v+h.length&&a.uniqueSort(e)}g&&(D=ta,R=A);return q};return b?d(f):f}var B,R,J,w,u,L,y,I,U,T,H,M="sizzle"+1*new Date,C=
c.document,D=0,Ga=0,W=b(),Ca=b(),ua=b(),N=function(c,a){c===a&&(w=!0);return 0},Aa={}.hasOwnProperty,P=[],aa=P.pop,X=P.push,Q=P.push,Da=P.slice,Z=function(c,a){for(var h=0,b=c.length;h<b;h++)if(c[h]===a)return h;return-1},Ha=/[\x20\t\r\n\f]+/g,va=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,ha=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ca=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ea=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,ia=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
ja=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ba={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ma=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,wa=
/^[^{]+\{\s*\[native \w/,qa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,da=/[+~]/,ka=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,la=function(c,a,h){c="0x"+a-65536;return c!==c||h?a:0>c?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,c&1023|56320)},na=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ra=function(c,a){return a?"\x00"===c?"\ufffd":c.slice(0,-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c},sa=function(){xa()},ya=x(function(c){return!0===c.disabled&&("form"in
c||"label"in c)},{dir:"parentNode",next:"legend"});try{Q.apply(P=Da.call(C.childNodes),C.childNodes),P[C.childNodes.length].nodeType}catch(K){Q={apply:P.length?function(c,a){X.apply(c,Da.call(a))}:function(c,a){for(var h=c.length,b=0;c[h++]=a[b++];);c.length=h-1}}}var O=a.support={};var za=a.isXML=function(c){return(c=c&&(c.ownerDocument||c).documentElement)?"HTML"!==c.nodeName:!1};var xa=a.setDocument=function(c){var a;c=c?c.ownerDocument||c:C;if(c===u||9!==c.nodeType||!c.documentElement)return u;
u=c;L=u.documentElement;y=!za(u);C!==u&&(a=u.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",sa,!1):a.attachEvent&&a.attachEvent("onunload",sa));O.attributes=k(function(c){c.className="i";return!c.getAttribute("className")});O.getElementsByTagName=k(function(c){c.appendChild(u.createComment(""));return!c.getElementsByTagName("*").length});O.getElementsByClassName=wa.test(u.getElementsByClassName);O.getById=k(function(c){L.appendChild(c).id=M;return!u.getElementsByName||!u.getElementsByName(M).length});
O.getById?(F.filter.ID=function(c){var a=c.replace(ka,la);return function(c){return c.getAttribute("id")===a}},F.find.ID=function(c,a){if("undefined"!==typeof a.getElementById&&y)return(c=a.getElementById(c))?[c]:[]}):(F.filter.ID=function(c){var a=c.replace(ka,la);return function(c){return(c="undefined"!==typeof c.getAttributeNode&&c.getAttributeNode("id"))&&c.value===a}},F.find.ID=function(c,a){if("undefined"!==typeof a.getElementById&&y){var h,b=a.getElementById(c);if(b){if((h=b.getAttributeNode("id"))&&
h.value===c)return[b];var d=a.getElementsByName(c);for(a=0;b=d[a++];)if((h=b.getAttributeNode("id"))&&h.value===c)return[b]}return[]}});F.find.TAG=O.getElementsByTagName?function(c,a){if("undefined"!==typeof a.getElementsByTagName)return a.getElementsByTagName(c);if(O.qsa)return a.querySelectorAll(c)}:function(c,a){var h=[],b=0;a=a.getElementsByTagName(c);if("*"===c){for(;c=a[b++];)1===c.nodeType&&h.push(c);return h}return a};F.find.CLASS=O.getElementsByClassName&&function(c,a){if("undefined"!==typeof a.getElementsByClassName&&
y)return a.getElementsByClassName(c)};U=[];I=[];if(O.qsa=wa.test(u.querySelectorAll))k(function(c){L.appendChild(c).innerHTML="\x3ca id\x3d'"+M+"'\x3e\x3c/a\x3e\x3cselect id\x3d'"+M+"-\r\\' msallowcapture\x3d''\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";c.querySelectorAll("[msallowcapture^\x3d'']").length&&I.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")");c.querySelectorAll("[selected]").length||I.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
c.querySelectorAll("[id~\x3d"+M+"-]").length||I.push("~\x3d");c.querySelectorAll(":checked").length||I.push(":checked");c.querySelectorAll("a#"+M+"+*").length||I.push(".#.+[+~]")}),k(function(c){c.innerHTML="\x3ca href\x3d'' disabled\x3d'disabled'\x3e\x3c/a\x3e\x3cselect disabled\x3d'disabled'\x3e\x3coption/\x3e\x3c/select\x3e";var a=u.createElement("input");a.setAttribute("type","hidden");c.appendChild(a).setAttribute("name","D");c.querySelectorAll("[name\x3dd]").length&&I.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?\x3d");
2!==c.querySelectorAll(":enabled").length&&I.push(":enabled",":disabled");L.appendChild(c).disabled=!0;2!==c.querySelectorAll(":disabled").length&&I.push(":enabled",":disabled");c.querySelectorAll("*,:x");I.push(",.*:")});(O.matchesSelector=wa.test(T=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&k(function(c){O.disconnectedMatch=T.call(c,"*");T.call(c,"[s!\x3d'']:x");U.push("!\x3d",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
I=I.length&&new RegExp(I.join("|"));U=U.length&&new RegExp(U.join("|"));H=(a=wa.test(L.compareDocumentPosition))||wa.test(L.contains)?function(c,a){var h=9===c.nodeType?c.documentElement:c;a=a&&a.parentNode;return c===a||!!(a&&1===a.nodeType&&(h.contains?h.contains(a):c.compareDocumentPosition&&c.compareDocumentPosition(a)&16))}:function(c,a){if(a)for(;a=a.parentNode;)if(a===c)return!0;return!1};N=a?function(c,a){if(c===a)return w=!0,0;var h=!c.compareDocumentPosition-!a.compareDocumentPosition;if(h)return h;
h=(c.ownerDocument||c)===(a.ownerDocument||a)?c.compareDocumentPosition(a):1;return h&1||!O.sortDetached&&a.compareDocumentPosition(c)===h?c===u||c.ownerDocument===C&&H(C,c)?-1:a===u||a.ownerDocument===C&&H(C,a)?1:J?Z(J,c)-Z(J,a):0:h&4?-1:1}:function(c,a){if(c===a)return w=!0,0;var h=0,b=c.parentNode,d=a.parentNode,k=[c],f=[a];if(!b||!d)return c===u?-1:a===u?1:b?-1:d?1:J?Z(J,c)-Z(J,a):0;if(b===d)return e(c,a);for(;c=c.parentNode;)k.unshift(c);for(c=a;c=c.parentNode;)f.unshift(c);for(;k[h]===f[h];)h++;
return h?e(k[h],f[h]):k[h]===C?-1:f[h]===C?1:0};return u};a.matches=function(c,h){return a(c,null,null,h)};a.matchesSelector=function(c,h){(c.ownerDocument||c)!==u&&xa(c);h=h.replace(ea,"\x3d'$1']");if(!(!O.matchesSelector||!y||ua[h+" "]||U&&U.test(h)||I&&I.test(h)))try{var b=T.call(c,h);if(b||O.disconnectedMatch||c.document&&11!==c.document.nodeType)return b}catch(oc){}return 0<a(h,u,null,[c]).length};a.contains=function(c,a){(c.ownerDocument||c)!==u&&xa(c);return H(c,a)};a.attr=function(c,a){(c.ownerDocument||
c)!==u&&xa(c);var h=F.attrHandle[a.toLowerCase()];h=h&&Aa.call(F.attrHandle,a.toLowerCase())?h(c,a,!y):void 0;return void 0!==h?h:O.attributes||!y?c.getAttribute(a):(h=c.getAttributeNode(a))&&h.specified?h.value:null};a.escape=function(c){return(c+"").replace(na,ra)};a.error=function(c){throw Error("Syntax error, unrecognized expression: "+c);};a.uniqueSort=function(c){var a,h=[],b=0,d=0;w=!O.detectDuplicates;J=!O.sortStable&&c.slice(0);c.sort(N);if(w){for(;a=c[d++];)a===c[d]&&(b=h.push(d));for(;b--;)c.splice(h[b],
1)}J=null;return c};var oa=a.getText=function(c){var a="",h=0;var b=c.nodeType;if(!b)for(;b=c[h++];)a+=oa(b);else if(1===b||9===b||11===b){if("string"===typeof c.textContent)return c.textContent;for(c=c.firstChild;c;c=c.nextSibling)a+=oa(c)}else if(3===b||4===b)return c.nodeValue;return a};var F=a.selectors={cacheLength:50,createPseudo:d,match:ba,attrHandle:{},find:{},relative:{"\x3e":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(c){c[1]=c[1].replace(ka,la);c[3]=(c[3]||c[4]||c[5]||"").replace(ka,la);"~\x3d"===c[2]&&(c[3]=" "+c[3]+" ");return c.slice(0,4)},CHILD:function(c){c[1]=c[1].toLowerCase();"nth"===c[1].slice(0,3)?(c[3]||a.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):c[3]&&a.error(c[0]);return c},PSEUDO:function(c){var a,h=!c[6]&&c[2];if(ba.CHILD.test(c[0]))return null;c[3]?c[2]=c[4]||c[5]||"":h&&ia.test(h)&&(a=fa(h,!0))&&(a=h.indexOf(")",
h.length-a)-h.length)&&(c[0]=c[0].slice(0,a),c[2]=h.slice(0,a));return c.slice(0,3)}},filter:{TAG:function(c){var a=c.replace(ka,la).toLowerCase();return"*"===c?function(){return!0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===a}},CLASS:function(c){var a=W[c+" "];return a||(a=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+c+"([\\x20\\t\\r\\n\\f]|$)"),W(c,function(c){return a.test("string"===typeof c.className&&c.className||"undefined"!==typeof c.getAttribute&&c.getAttribute("class")||"")}))},ATTR:function(c,
h,b){return function(d){d=a.attr(d,c);if(null==d)return"!\x3d"===h;if(!h)return!0;d+="";return"\x3d"===h?d===b:"!\x3d"===h?d!==b:"^\x3d"===h?b&&0===d.indexOf(b):"*\x3d"===h?b&&-1<d.indexOf(b):"$\x3d"===h?b&&d.slice(-b.length)===b:"~\x3d"===h?-1<(" "+d.replace(Ha," ")+" ").indexOf(b):"|\x3d"===h?d===b||d.slice(0,b.length+1)===b+"-":!1}},CHILD:function(c,a,h,b,d){var k="nth"!==c.slice(0,3),f="last"!==c.slice(-4),p="of-type"===a;return 1===b&&0===d?function(c){return!!c.parentNode}:function(a,h,e){var g,
m;h=k!==f?"nextSibling":"previousSibling";var n=a.parentNode,v=p&&a.nodeName.toLowerCase();e=!e&&!p;var l=!1;if(n){if(k){for(;h;){for(g=a;g=g[h];)if(p?g.nodeName.toLowerCase()===v:1===g.nodeType)return!1;var q=h="only"===c&&!q&&"nextSibling"}return!0}q=[f?n.firstChild:n.lastChild];if(f&&e){g=n;var A=g[M]||(g[M]={});A=A[g.uniqueID]||(A[g.uniqueID]={});l=A[c]||[];l=(m=l[0]===D&&l[1])&&l[2];for(g=m&&n.childNodes[m];g=++m&&g&&g[h]||(l=m=0)||q.pop();)if(1===g.nodeType&&++l&&g===a){A[c]=[D,m,l];break}}else if(e&&
(g=a,A=g[M]||(g[M]={}),A=A[g.uniqueID]||(A[g.uniqueID]={}),l=A[c]||[],l=m=l[0]===D&&l[1]),!1===l)for(;(g=++m&&g&&g[h]||(l=m=0)||q.pop())&&((p?g.nodeName.toLowerCase()!==v:1!==g.nodeType)||!++l||(e&&(A=g[M]||(g[M]={}),A=A[g.uniqueID]||(A[g.uniqueID]={}),A[c]=[D,l]),g!==a)););l-=d;return l===b||0===l%b&&0<=l/b}}},PSEUDO:function(c,h){var b=F.pseudos[c]||F.setFilters[c.toLowerCase()]||a.error("unsupported pseudo: "+c);if(b[M])return b(h);if(1<b.length){var k=[c,c,"",h];return F.setFilters.hasOwnProperty(c.toLowerCase())?
d(function(c,a){for(var d,k=b(c,h),f=k.length;f--;)d=Z(c,k[f]),c[d]=!(a[d]=k[f])}):function(c){return b(c,0,k)}}return b}},pseudos:{not:d(function(c){var a=[],h=[],b=Ea(c.replace(va,"$1"));return b[M]?d(function(c,a,h,d){d=b(c,null,d,[]);for(var k=c.length;k--;)if(h=d[k])c[k]=!(a[k]=h)}):function(c,d,k){a[0]=c;b(a,null,k,h);a[0]=null;return!h.pop()}}),has:d(function(c){return function(h){return 0<a(c,h).length}}),contains:d(function(c){c=c.replace(ka,la);return function(a){return-1<(a.textContent||
a.innerText||oa(a)).indexOf(c)}}),lang:d(function(c){ja.test(c||"")||a.error("unsupported lang: "+c);c=c.replace(ka,la).toLowerCase();return function(a){var h;do if(h=y?a.lang:a.getAttribute("xml:lang")||a.getAttribute("lang"))return h=h.toLowerCase(),h===c||0===h.indexOf(c+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var h=c.location&&c.location.hash;return h&&h.slice(1)===a.id},root:function(c){return c===L},focus:function(c){return c===u.activeElement&&(!u.hasFocus||
u.hasFocus())&&!!(c.type||c.href||~c.tabIndex)},enabled:n(!1),disabled:n(!0),checked:function(c){var a=c.nodeName.toLowerCase();return"input"===a&&!!c.checked||"option"===a&&!!c.selected},selected:function(c){c.parentNode&&c.parentNode.selectedIndex;return!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if(6>c.nodeType)return!1;return!0},parent:function(c){return!F.pseudos.empty(c)},header:function(c){return pa.test(c.nodeName)},input:function(c){return ma.test(c.nodeName)},
button:function(c){var a=c.nodeName.toLowerCase();return"input"===a&&"button"===c.type||"button"===a},text:function(c){var a;return"input"===c.nodeName.toLowerCase()&&"text"===c.type&&(null==(a=c.getAttribute("type"))||"text"===a.toLowerCase())},first:l(function(){return[0]}),last:l(function(c,a){return[a-1]}),eq:l(function(c,a,h){return[0>h?h+a:h]}),even:l(function(c,a){for(var h=0;h<a;h+=2)c.push(h);return c}),odd:l(function(c,a){for(var h=1;h<a;h+=2)c.push(h);return c}),lt:l(function(c,a,h){for(a=
0>h?h+a:h;0<=--a;)c.push(a);return c}),gt:l(function(c,a,h){for(h=0>h?h+a:h;++h<a;)c.push(h);return c})}};F.pseudos.nth=F.pseudos.eq;for(B in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})F.pseudos[B]=g(B);for(B in{submit:!0,reset:!0})F.pseudos[B]=m(B);r.prototype=F.filters=F.pseudos;F.setFilters=new r;var fa=a.tokenize=function(c,h){var b,d,k,f,g;if(f=Ca[c+" "])return h?0:f.slice(0);f=c;var p=[];for(g=F.preFilter;f;){if(!e||(b=ha.exec(f)))b&&(f=f.slice(b[0].length)||f),p.push(d=[]);var e=!1;
if(b=ca.exec(f))e=b.shift(),d.push({value:e,type:b[0].replace(va," ")}),f=f.slice(e.length);for(k in F.filter)!(b=ba[k].exec(f))||g[k]&&!(b=g[k](b))||(e=b.shift(),d.push({value:e,type:k,matches:b}),f=f.slice(e.length));if(!e)break}return h?f.length:f?a.error(c):Ca(c,p).slice(0)};var Ea=a.compile=function(c,a){var h,b=[],d=[],k=ua[c+" "];if(!k){a||(a=fa(c));for(h=a.length;h--;)k=E(a[h]),k[M]?b.push(k):d.push(k);k=ua(c,V(d,b));k.selector=c}return k};var Ba=a.select=function(c,a,h,b){var d,k,f,g="function"===
typeof c&&c,p=!b&&fa(c=g.selector||c);h=h||[];if(1===p.length){var e=p[0]=p[0].slice(0);if(2<e.length&&"ID"===(k=e[0]).type&&9===a.nodeType&&y&&F.relative[e[1].type]){a=(F.find.ID(k.matches[0].replace(ka,la),a)||[])[0];if(!a)return h;g&&(a=a.parentNode);c=c.slice(e.shift().value.length)}for(d=ba.needsContext.test(c)?0:e.length;d--;){k=e[d];if(F.relative[f=k.type])break;if(f=F.find[f])if(b=f(k.matches[0].replace(ka,la),da.test(e[0].type)&&q(a.parentNode)||a)){e.splice(d,1);c=b.length&&t(e);if(!c)return Q.apply(h,
b),h;break}}}(g||Ea(c,p))(b,a,!y,h,!a||da.test(c)&&q(a.parentNode)||a);return h};O.sortStable=M.split("").sort(N).join("")===M;O.detectDuplicates=!!w;xa();O.sortDetached=k(function(c){return c.compareDocumentPosition(u.createElement("fieldset"))&1});k(function(c){c.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e";return"#"===c.firstChild.getAttribute("href")})||f("type|href|height|width",function(c,a,h){if(!h)return c.getAttribute(a,"type"===a.toLowerCase()?1:2)});O.attributes&&k(function(c){c.innerHTML=
"\x3cinput/\x3e";c.firstChild.setAttribute("value","");return""===c.firstChild.getAttribute("value")})||f("value",function(c,a,h){if(!h&&"input"===c.nodeName.toLowerCase())return c.defaultValue});k(function(c){return null==c.getAttribute("disabled")})||f("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(c,a,h){var b;if(!h)return!0===c[a]?a.toLowerCase():(b=c.getAttributeNode(a))&&b.specified?b.value:null});return a}(g);
k.find=ma;k.expr=ma.selectors;k.expr[":"]=k.expr.pseudos;k.uniqueSort=k.unique=ma.uniqueSort;k.text=ma.getText;k.isXMLDoc=ma.isXML;k.contains=ma.contains;k.escapeSelector=ma.escape;var qa=function(c,a,b){for(var h=[],d=void 0!==b;(c=c[a])&&9!==c.nodeType;)if(1===c.nodeType){if(d&&k(c).is(b))break;h.push(c)}return h},hb=function(c,a){for(var h=[];c;c=c.nextSibling)1===c.nodeType&&c!==a&&h.push(c);return h},ib=k.expr.match.needsContext,jb=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,
wb=/^.[^:#\[\.,]*$/;k.filter=function(c,a,b){var h=a[0];b&&(c=":not("+c+")");return 1===a.length&&1===h.nodeType?k.find.matchesSelector(h,c)?[h]:[]:k.find.matches(c,k.grep(a,function(c){return 1===c.nodeType}))};k.fn.extend({find:function(c){var a,b=this.length,d=this;if("string"!==typeof c)return this.pushStack(k(c).filter(function(){for(a=0;a<b;a++)if(k.contains(d[a],this))return!0}));var f=this.pushStack([]);for(a=0;a<b;a++)k.find(c,d[a],f);return 1<b?k.uniqueSort(f):f},filter:function(c){return this.pushStack(d(this,
c||[],!1))},not:function(c){return this.pushStack(d(this,c||[],!0))},is:function(c){return!!d(this,"string"===typeof c&&ib.test(c)?k(c):c||[],!1).length}});var Nb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(c,a,b){if(!c)return this;b=b||Ob;if("string"===typeof c){var h="\x3c"===c[0]&&"\x3e"===c[c.length-1]&&3<=c.length?[null,c,null]:Nb.exec(c);if(!h||!h[1]&&a)return!a||a.jquery?(a||b).find(c):this.constructor(a).find(c);if(h[1]){if(a=a instanceof k?a[0]:a,k.merge(this,k.parseHTML(h[1],
a&&a.nodeType?a.ownerDocument||a:y,!0)),jb.test(h[1])&&k.isPlainObject(a))for(h in a)if(k.isFunction(this[h]))this[h](a[h]);else this.attr(h,a[h])}else if(c=y.getElementById(h[2]))this[0]=c,this.length=1;return this}return c.nodeType?(this[0]=c,this.length=1,this):k.isFunction(c)?void 0!==b.ready?b.ready(c):c(k):k.makeArray(c,this)}).prototype=k.fn;var Ob=k(y);var Pb=/^(?:parents|prev(?:Until|All))/,Qb={children:!0,contents:!0,next:!0,prev:!0};k.fn.extend({has:function(c){var a=k(c,this),b=a.length;
return this.filter(function(){for(var c=0;c<b;c++)if(k.contains(this,a[c]))return!0})},closest:function(c,a){var h,b=0,d=this.length,f=[],e="string"!==typeof c&&k(c);if(!ib.test(c))for(;b<d;b++)for(h=this[b];h&&h!==a;h=h.parentNode)if(11>h.nodeType&&(e?-1<e.index(h):1===h.nodeType&&k.find.matchesSelector(h,c))){f.push(h);break}return this.pushStack(1<f.length?k.uniqueSort(f):f)},index:function(c){return c?"string"===typeof c?da.call(k(c),this[0]):da.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?
this.first().prevAll().length:-1},add:function(c,a){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(c,a))))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}});k.each({parent:function(c){return(c=c.parentNode)&&11!==c.nodeType?c:null},parents:function(c){return qa(c,"parentNode")},parentsUntil:function(c,a,b){return qa(c,"parentNode",b)},next:function(c){return f(c,"nextSibling")},prev:function(c){return f(c,"previousSibling")},nextAll:function(c){return qa(c,
"nextSibling")},prevAll:function(c){return qa(c,"previousSibling")},nextUntil:function(c,a,b){return qa(c,"nextSibling",b)},prevUntil:function(c,a,b){return qa(c,"previousSibling",b)},siblings:function(c){return hb((c.parentNode||{}).firstChild,c)},children:function(c){return hb(c.firstChild)},contents:function(c){if(a(c,"iframe"))return c.contentDocument;a(c,"template")&&(c=c.content||c);return k.merge([],c.childNodes)}},function(c,a){k.fn[c]=function(h,b){var d=k.map(this,a,h);"Until"!==c.slice(-5)&&
(b=h);b&&"string"===typeof b&&(d=k.filter(b,d));1<this.length&&(Qb[c]||k.uniqueSort(d),Pb.test(c)&&d.reverse());return this.pushStack(d)}});var X=/[^\x20\t\r\n\f]+/g;k.Callbacks=function(c){c="string"===typeof c?n(c):k.extend({},c);var a,b,d,f,e=[],g=[],m=-1,l=function(){f=f||c.once;for(d=a=!0;g.length;m=-1)for(b=g.shift();++m<e.length;)!1===e[m].apply(b[0],b[1])&&c.stopOnFalse&&(m=e.length,b=!1);c.memory||(b=!1);a=!1;f&&(e=b?[]:"")},q={add:function(){e&&(b&&!a&&(m=e.length-1,g.push(b)),function Db(a){k.each(a,
function(a,h){k.isFunction(h)?c.unique&&q.has(h)||e.push(h):h&&h.length&&"string"!==k.type(h)&&Db(h)})}(arguments),b&&!a&&l());return this},remove:function(){k.each(arguments,function(c,a){for(var h;-1<(h=k.inArray(a,e,h));)e.splice(h,1),h<=m&&m--});return this},has:function(c){return c?-1<k.inArray(c,e):0<e.length},empty:function(){e&&(e=[]);return this},disable:function(){f=g=[];e=b="";return this},disabled:function(){return!e},lock:function(){f=g=[];b||a||(e=b="");return this},locked:function(){return!!f},
fireWith:function(c,h){f||(h=h||[],h=[c,h.slice?h.slice():h],g.push(h),a||l());return this},fire:function(){q.fireWith(this,arguments);return this},fired:function(){return!!d}};return q};k.extend({Deferred:function(c){var a=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],b="pending",d={state:function(){return b},
always:function(){f.done(arguments).fail(arguments);return this},"catch":function(c){return d.then(null,c)},pipe:function(){var c=arguments;return k.Deferred(function(h){k.each(a,function(a,b){var d=k.isFunction(c[b[4]])&&c[b[4]];f[b[1]](function(){var c=d&&d.apply(this,arguments);if(c&&k.isFunction(c.promise))c.promise().progress(h.notify).done(h.resolve).fail(h.reject);else h[b[0]+"With"](this,d?[c]:arguments)})});c=null}).promise()},then:function(c,h,b){function d(c,a,h,b){return function(){var e=
this,p=arguments,n=function(){if(!(c<f)){var g=h.apply(e,p);if(g===a.promise())throw new TypeError("Thenable self-resolution");var n=g&&("object"===typeof g||"function"===typeof g)&&g.then;k.isFunction(n)?b?n.call(g,d(f,a,m,b),d(f,a,r,b)):(f++,n.call(g,d(f,a,m,b),d(f,a,r,b),d(f,a,m,a.notifyWith))):(h!==m&&(e=void 0,p=[g]),(b||a.resolveWith)(e,p))}},l=b?n:function(){try{n()}catch(gb){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(gb,l.stackTrace),c+1>=f&&(h!==r&&(e=void 0,p=[gb]),a.rejectWith(e,
p))}};c?l():(k.Deferred.getStackHook&&(l.stackTrace=k.Deferred.getStackHook()),g.setTimeout(l))}}var f=0;return k.Deferred(function(f){a[0][3].add(d(0,f,k.isFunction(b)?b:m,f.notifyWith));a[1][3].add(d(0,f,k.isFunction(c)?c:m));a[2][3].add(d(0,f,k.isFunction(h)?h:r))}).promise()},promise:function(c){return null!=c?k.extend(c,d):d}},f={};k.each(a,function(c,h){var k=h[2],e=h[5];d[h[1]]=k.add;e&&k.add(function(){b=e},a[3-c][2].disable,a[0][2].lock);k.add(h[3].fire);f[h[0]]=function(){f[h[0]+"With"](this===
f?void 0:this,arguments);return this};f[h[0]+"With"]=k.fireWith});d.promise(f);c&&c.call(f,f);return f},when:function(c){var a=arguments.length,b=a,d=Array(b),f=ba.call(arguments),e=k.Deferred(),g=function(c){return function(h){d[c]=this;f[c]=1<arguments.length?ba.call(arguments):h;--a||e.resolveWith(d,f)}};if(1>=a&&(q(c,e.done(g(b)).resolve,e.reject,!a),"pending"===e.state()||k.isFunction(f[b]&&f[b].then)))return e.then();for(;b--;)q(f[b],g(b),e.reject);return e.promise()}});var Rb=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
k.Deferred.exceptionHook=function(c,a){g.console&&g.console.warn&&c&&Rb.test(c.name)&&g.console.warn("jQuery.Deferred exception: "+c.message,c.stack,a)};k.readyException=function(c){g.setTimeout(function(){throw c;})};var Sa=k.Deferred();k.fn.ready=function(c){Sa.then(c).catch(function(c){k.readyException(c)});return this};k.extend({isReady:!1,readyWait:1,ready:function(c){(!0===c?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==c&&0<--k.readyWait||Sa.resolveWith(y,[k]))}});k.ready.then=Sa.then;"complete"===
y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?g.setTimeout(k.ready):(y.addEventListener("DOMContentLoaded",t),g.addEventListener("load",t));var ca=function(c,a,b,d,f,e,g){var h=0,p=c.length,m=null==b;if("object"===k.type(b))for(h in f=!0,b)ca(c,a,h,b[h],!0,e,g);else if(void 0!==d&&(f=!0,k.isFunction(d)||(g=!0),m&&(g?(a.call(c,d),a=null):(m=a,a=function(c,a,h){return m.call(k(c),h)})),a))for(;h<p;h++)a(c[h],b,g?d:d.call(c[h],h,a(c[h],b)));return f?c:m?a.call(c):p?a(c[0],b):e},
Ja=function(c){return 1===c.nodeType||9===c.nodeType||!+c.nodeType};x.uid=1;x.prototype={cache:function(c){var a=c[this.expando];a||(a={},Ja(c)&&(c.nodeType?c[this.expando]=a:Object.defineProperty(c,this.expando,{value:a,configurable:!0})));return a},set:function(c,a,b){var h;c=this.cache(c);if("string"===typeof a)c[k.camelCase(a)]=b;else for(h in a)c[k.camelCase(h)]=a[h];return c},get:function(c,a){return void 0===a?this.cache(c):c[this.expando]&&c[this.expando][k.camelCase(a)]},access:function(c,
a,b){if(void 0===a||a&&"string"===typeof a&&void 0===b)return this.get(c,a);this.set(c,a,b);return void 0!==b?b:a},remove:function(c,a){var b,h=c[this.expando];if(void 0!==h){if(void 0!==a)for(Array.isArray(a)?a=a.map(k.camelCase):(a=k.camelCase(a),a=a in h?[a]:a.match(X)||[]),b=a.length;b--;)delete h[a[b]];if(void 0===a||k.isEmptyObject(h))c.nodeType?c[this.expando]=void 0:delete c[this.expando]}},hasData:function(c){c=c[this.expando];return void 0!==c&&!k.isEmptyObject(c)}};var w=new x,P=new x,
yb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xb=/[A-Z]/g;k.extend({hasData:function(c){return P.hasData(c)||w.hasData(c)},data:function(c,a,b){return P.access(c,a,b)},removeData:function(c,a){P.remove(c,a)},_data:function(c,a,b){return w.access(c,a,b)},_removeData:function(c,a){w.remove(c,a)}});k.fn.extend({data:function(c,a){var b,h=this[0],d=h&&h.attributes;if(void 0===c){if(this.length){var f=P.get(h);if(1===h.nodeType&&!w.get(h,"hasDataAttrs")){for(b=d.length;b--;)if(d[b]){var e=d[b].name;0===e.indexOf("data-")&&
(e=k.camelCase(e.slice(5)),G(h,e,f[e]))}w.set(h,"hasDataAttrs",!0)}}return f}return"object"===typeof c?this.each(function(){P.set(this,c)}):ca(this,function(a){if(h&&void 0===a){var b=P.get(h,c);if(void 0!==b)return b;b=G(h,c);if(void 0!==b)return b}else this.each(function(){P.set(this,c,a)})},null,a,1<arguments.length,null,!0)},removeData:function(c){return this.each(function(){P.remove(this,c)})}});k.extend({queue:function(c,a,b){if(c){a=(a||"fx")+"queue";var h=w.get(c,a);b&&(!h||Array.isArray(b)?
h=w.access(c,a,k.makeArray(b)):h.push(b));return h||[]}},dequeue:function(c,a){a=a||"fx";var b=k.queue(c,a),h=b.length,d=b.shift(),f=k._queueHooks(c,a),e=function(){k.dequeue(c,a)};"inprogress"===d&&(d=b.shift(),h--);d&&("fx"===a&&b.unshift("inprogress"),delete f.stop,d.call(c,e,f));!h&&f&&f.empty.fire()},_queueHooks:function(c,a){var b=a+"queueHooks";return w.get(c,b)||w.access(c,b,{empty:k.Callbacks("once memory").add(function(){w.remove(c,[a+"queue",b])})})}});k.fn.extend({queue:function(c,a){var b=
2;"string"!==typeof c&&(a=c,c="fx",b--);return arguments.length<b?k.queue(this[0],c):void 0===a?this:this.each(function(){var b=k.queue(this,c,a);k._queueHooks(this,c);"fx"===c&&"inprogress"!==b[0]&&k.dequeue(this,c)})},dequeue:function(c){return this.each(function(){k.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,a){var b,h=1,d=k.Deferred(),f=this,e=this.length,g=function(){--h||d.resolveWith(f,[f])};"string"!==typeof c&&(a=c,c=void 0);for(c=c||"fx";e--;)(b=
w.get(f[e],c+"queueHooks"))&&b.empty&&(h++,b.empty.add(g));g();return d.promise(a)}});var kb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,na=new RegExp("^(?:([+-])\x3d|)("+kb+")([a-z%]*)$","i"),ea=["Top","Right","Bottom","Left"],za=function(c,a){c=a||c;return"none"===c.style.display||""===c.style.display&&k.contains(c.ownerDocument,c)&&"none"===k.css(c,"display")},lb=function(c,a,b,d){var h,k={};for(h in a)k[h]=c.style[h],c.style[h]=a[h];b=b.apply(c,d||[]);for(h in a)c.style[h]=k[h];return b},Wa=
{};k.fn.extend({show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(c){return"boolean"===typeof c?c?this.show():this.hide():this.each(function(){za(this)?k(this).show():k(this).hide()})}});var mb=/^(?:checkbox|radio)$/i,Xa=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ya=/^$|\/(?:java|ecma)script/i,Q={option:[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],
tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],_default:[0,"",""]};Q.optgroup=Q.option;Q.tbody=Q.tfoot=Q.colgroup=Q.caption=Q.thead;Q.th=Q.td;var Ab=/<|&#?\w+;/;(function(){var c=y.createDocumentFragment().appendChild(y.createElement("div")),a=y.createElement("input");a.setAttribute("type","radio");a.setAttribute("checked","checked");a.setAttribute("name","t");c.appendChild(a);D.checkClone=
c.cloneNode(!0).cloneNode(!0).lastChild.checked;c.innerHTML="\x3ctextarea\x3ex\x3c/textarea\x3e";D.noCloneChecked=!!c.cloneNode(!0).lastChild.defaultValue})();var Ka=y.documentElement,Sb=/^key/,Tb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,nb=/^([^.]*)(?:\.(.+)|)/;k.event={global:{},add:function(c,a,b,d,f){var h,e,g,m,p;if(g=w.get(c)){if(b.handler){var n=b;b=n.handler;f=n.selector}f&&k.find.matchesSelector(Ka,f);b.guid||(b.guid=k.guid++);(e=g.events)||(e=g.events={});(h=g.handle)||(h=g.handle=
function(a){return"undefined"!==typeof k&&k.event.triggered!==a.type?k.event.dispatch.apply(c,arguments):void 0});a=(a||"").match(X)||[""];for(g=a.length;g--;){var l=nb.exec(a[g])||[];var v=m=l[1];var q=(l[2]||"").split(".").sort();v&&(l=k.event.special[v]||{},v=(f?l.delegateType:l.bindType)||v,l=k.event.special[v]||{},m=k.extend({type:v,origType:m,data:d,handler:b,guid:b.guid,selector:f,needsContext:f&&k.expr.match.needsContext.test(f),namespace:q.join(".")},n),(p=e[v])||(p=e[v]=[],p.delegateCount=
0,l.setup&&!1!==l.setup.call(c,d,q,h)||c.addEventListener&&c.addEventListener(v,h)),l.add&&(l.add.call(c,m),m.handler.guid||(m.handler.guid=b.guid)),f?p.splice(p.delegateCount++,0,m):p.push(m),k.event.global[v]=!0)}}},remove:function(c,a,b,d,f){var h,e,g,m,p,n=w.hasData(c)&&w.get(c);if(n&&(g=n.events)){a=(a||"").match(X)||[""];for(m=a.length;m--;){var l=nb.exec(a[m])||[];var v=p=l[1];var q=(l[2]||"").split(".").sort();if(v){var r=k.event.special[v]||{};v=(d?r.delegateType:r.bindType)||v;var t=g[v]||
[];l=l[2]&&new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)");for(e=h=t.length;h--;){var A=t[h];!f&&p!==A.origType||b&&b.guid!==A.guid||l&&!l.test(A.namespace)||d&&d!==A.selector&&("**"!==d||!A.selector)||(t.splice(h,1),A.selector&&t.delegateCount--,r.remove&&r.remove.call(c,A))}e&&!t.length&&(r.teardown&&!1!==r.teardown.call(c,q,n.handle)||k.removeEvent(c,v,n.handle),delete g[v])}else for(v in g)k.event.remove(c,v+a[m],b,d,!0)}k.isEmptyObject(g)&&w.remove(c,"handle events")}},dispatch:function(c){var a=
k.event.fix(c),b,d,f,e=Array(arguments.length);var g=(w.get(this,"events")||{})[a.type]||[];var m=k.event.special[a.type]||{};e[0]=a;for(b=1;b<arguments.length;b++)e[b]=arguments[b];a.delegateTarget=this;if(!m.preDispatch||!1!==m.preDispatch.call(this,a)){var n=k.event.handlers.call(this,a,g);for(b=0;(f=n[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(d=f.handlers[g++])&&!a.isImmediatePropagationStopped();)if(!a.rnamespace||a.rnamespace.test(d.namespace))a.handleObj=d,a.data=d.data,
d=((k.event.special[d.origType]||{}).handle||d.handler).apply(f.elem,e),void 0!==d&&!1===(a.result=d)&&(a.preventDefault(),a.stopPropagation());m.postDispatch&&m.postDispatch.call(this,a);return a.result}},handlers:function(c,a){var b,h=[],d=a.delegateCount,f=c.target;if(d&&f.nodeType&&!("click"===c.type&&1<=c.button))for(;f!==this;f=f.parentNode||this)if(1===f.nodeType&&("click"!==c.type||!0!==f.disabled)){var e=[];var g={};for(b=0;b<d;b++){var m=a[b];var n=m.selector+" ";void 0===g[n]&&(g[n]=m.needsContext?
-1<k(n,this).index(f):k.find(n,this,null,[f]).length);g[n]&&e.push(m)}e.length&&h.push({elem:f,handlers:e})}d<a.length&&h.push({elem:this,handlers:a.slice(d)});return h},addProp:function(c,a){Object.defineProperty(k.Event.prototype,c,{enumerable:!0,configurable:!0,get:k.isFunction(a)?function(){if(this.originalEvent)return a(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},set:function(a){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:a})}})},
fix:function(c){return c[k.expando]?c:new k.Event(c)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&a(this,"input"))return this.click(),!1},_default:function(c){return a(c.target,"a")}},beforeunload:{postDispatch:function(c){void 0!==c.result&&c.originalEvent&&
(c.originalEvent.returnValue=c.result)}}}};k.removeEvent=function(c,a,b){c.removeEventListener&&c.removeEventListener(a,b)};k.Event=function(c,a){if(!(this instanceof k.Event))return new k.Event(c,a);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||void 0===c.defaultPrevented&&!1===c.returnValue?U:W,this.target=c.target&&3===c.target.nodeType?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,this.relatedTarget=c.relatedTarget):this.type=c;
a&&k.extend(this,a);this.timeStamp=c&&c.timeStamp||k.now();this[k.expando]=!0};k.Event.prototype={constructor:k.Event,isDefaultPrevented:W,isPropagationStopped:W,isImmediatePropagationStopped:W,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=U;c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=U;c&&!this.isSimulated&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;
this.isImmediatePropagationStopped=U;c&&!this.isSimulated&&c.stopImmediatePropagation();this.stopPropagation()}};k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(c){var a=c.button;return null==c.which&&
Sb.test(c.type)?null!=c.charCode?c.charCode:c.keyCode:!c.which&&void 0!==a&&Tb.test(c.type)?a&1?1:a&2?3:a&4?2:0:c.which}},k.event.addProp);k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,a){k.event.special[c]={delegateType:a,bindType:a,handle:function(c){var b=c.relatedTarget,h=c.handleObj;if(!b||b!==this&&!k.contains(this,b)){c.type=h.origType;var d=h.handler.apply(this,arguments);c.type=a}return d}}});k.fn.extend({on:function(c,
a,b,d){return H(this,c,a,b,d)},one:function(c,a,b,d){return H(this,c,a,b,d,1)},off:function(c,a,b){if(c&&c.preventDefault&&c.handleObj){var h=c.handleObj;k(c.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler);return this}if("object"===typeof c){for(h in c)this.off(h,a,c[h]);return this}if(!1===a||"function"===typeof a)b=a,a=void 0;!1===b&&(b=W);return this.each(function(){k.event.remove(this,c,b,a)})}});var Ub=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
Vb=/<script|<style|<link/i,Cb=/checked\s*(?:[^=]|=\s*.checked.)/i,Bb=/^true\/(.*)/,Eb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;k.extend({htmlPrefilter:function(c){return c.replace(Ub,"\x3c$1\x3e\x3c/$2\x3e")},clone:function(c,a,b){var h,d=c.cloneNode(!0),f=k.contains(c.ownerDocument,c);if(!(D.noCloneChecked||1!==c.nodeType&&11!==c.nodeType||k.isXMLDoc(c))){var e=B(d);var g=B(c);var m=0;for(h=g.length;m<h;m++){var n=g[m],l=e[m],p=l.nodeName.toLowerCase();if("input"===p&&mb.test(n.type))l.checked=
n.checked;else if("input"===p||"textarea"===p)l.defaultValue=n.defaultValue}}if(a)if(b)for(g=g||B(c),e=e||B(d),m=0,h=g.length;m<h;m++)V(g[m],e[m]);else V(c,d);e=B(d,"script");0<e.length&&L(e,!f&&B(c,"script"));return d},cleanData:function(c){for(var a,b,d,f=k.event.special,e=0;void 0!==(b=c[e]);e++)if(Ja(b)){if(a=b[w.expando]){if(a.events)for(d in a.events)f[d]?k.event.remove(b,d):k.removeEvent(b,d,a.handle);b[w.expando]=void 0}b[P.expando]&&(b[P.expando]=void 0)}}});k.fn.extend({detach:function(c){return Ga(this,
c,!0)},remove:function(c){return Ga(this,c)},text:function(c){return ca(this,function(c){return void 0===c?k.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=c})},null,c,arguments.length)},append:function(){return J(this,arguments,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||N(this,c).appendChild(c)})},prepend:function(){return J(this,arguments,function(c){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var a=
N(this,c);a.insertBefore(c,a.firstChild)}})},before:function(){return J(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return J(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,a=0;null!=(c=this[a]);a++)1===c.nodeType&&(k.cleanData(B(c,!1)),c.textContent="");return this},clone:function(c,a){c=null==c?!1:c;a=null==a?c:a;return this.map(function(){return k.clone(this,c,a)})},
html:function(c){return ca(this,function(c){var a=this[0]||{},b=0,h=this.length;if(void 0===c&&1===a.nodeType)return a.innerHTML;if("string"===typeof c&&!Vb.test(c)&&!Q[(Xa.exec(c)||["",""])[1].toLowerCase()]){c=k.htmlPrefilter(c);try{for(;b<h;b++)a=this[b]||{},1===a.nodeType&&(k.cleanData(B(a,!1)),a.innerHTML=c);a=0}catch(ta){}}a&&this.empty().append(c)},null,c,arguments.length)},replaceWith:function(){var c=[];return J(this,arguments,function(a){var b=this.parentNode;0>k.inArray(this,c)&&(k.cleanData(B(this)),
b&&b.replaceChild(a,this))},c)}});k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,a){k.fn[c]=function(c){for(var b=[],h=k(c),d=h.length-1,f=0;f<=d;f++)c=f===d?this:this.clone(!0),k(h[f])[a](c),Qa.apply(b,c.get());return this.pushStack(b)}});var $a=/^margin/,Ma=new RegExp("^("+kb+")(?!px)[a-z%]+$","i"),oa=function(c){var a=c.ownerDocument.defaultView;a&&a.opener||(a=g);return a.getComputedStyle(c)};(function(){function c(){if(m){m.style.cssText=
"box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";m.innerHTML="";Ka.appendChild(e);var c=g.getComputedStyle(m);a="1%"!==c.top;f="2px"===c.marginLeft;b="4px"===c.width;m.style.marginRight="50%";d="4px"===c.marginRight;Ka.removeChild(e);m=null}}var a,b,d,f,e=y.createElement("div"),m=y.createElement("div");m.style&&(m.style.backgroundClip="content-box",m.cloneNode(!0).style.backgroundClip="",D.clearCloneStyle="content-box"===m.style.backgroundClip,
e.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",e.appendChild(m),k.extend(D,{pixelPosition:function(){c();return a},boxSizingReliable:function(){c();return b},pixelMarginRight:function(){c();return d},reliableMarginLeft:function(){c();return f}}))})();var Wb=/^(none|table(?!-c[ea]).+)/,ob=/^--/,Xb={position:"absolute",visibility:"hidden",display:"block"},pb={letterSpacing:"0",fontWeight:"400"},bb=["Webkit","Moz","ms"],ab=y.createElement("div").style;
k.extend({cssHooks:{opacity:{get:function(c,a){if(a)return c=u(c,"opacity"),""===c?"1":c}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(c,a,b,d){if(c&&3!==c.nodeType&&8!==c.nodeType&&c.style){var h,f=k.camelCase(a),e=ob.test(a),g=c.style;e||(a=Ca(f));var m=k.cssHooks[a]||k.cssHooks[f];if(void 0!==b){var n=typeof b;"string"===
n&&(h=na.exec(b))&&h[1]&&(b=z(c,a,h),n="number");null!=b&&b===b&&("number"===n&&(b+=h&&h[3]||(k.cssNumber[f]?"":"px")),D.clearCloneStyle||""!==b||0!==a.indexOf("background")||(g[a]="inherit"),m&&"set"in m&&void 0===(b=m.set(c,b,d))||(e?g.setProperty(a,b):g[a]=b))}else return m&&"get"in m&&void 0!==(h=m.get(c,!1,d))?h:g[a]}},css:function(c,a,b,d){var h;var f=k.camelCase(a);ob.test(a)||(a=Ca(f));(f=k.cssHooks[a]||k.cssHooks[f])&&"get"in f&&(h=f.get(c,!0,b));void 0===h&&(h=u(c,a,d));"normal"===h&&a in
pb&&(h=pb[a]);return""===b||b?(c=parseFloat(h),!0===b||isFinite(c)?c||0:h):h}});k.each(["height","width"],function(c,a){k.cssHooks[a]={get:function(c,b,h){if(b)return!Wb.test(k.css(c,"display"))||c.getClientRects().length&&c.getBoundingClientRect().width?Da(c,a,h):lb(c,Xb,function(){return Da(c,a,h)})},set:function(c,b,h){var d,f=h&&oa(c);(h=h&&Ha(c,a,h,"border-box"===k.css(c,"boxSizing",!1,f),f))&&(d=na.exec(b))&&"px"!==(d[3]||"px")&&(c.style[a]=b,b=k.css(c,a));return ua(c,b,h)}}});k.cssHooks.marginLeft=
I(D.reliableMarginLeft,function(c,a){if(a)return(parseFloat(u(c,"marginLeft"))||c.getBoundingClientRect().left-lb(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"});k.each({margin:"",padding:"",border:"Width"},function(c,a){k.cssHooks[c+a]={expand:function(b){var h=0,d={};for(b="string"===typeof b?b.split(" "):[b];4>h;h++)d[c+ea[h]+a]=b[h]||b[h-2]||b[0];return d}};$a.test(c)||(k.cssHooks[c+a].set=ua)});k.fn.extend({css:function(c,a){return ca(this,function(c,a,b){var h,d=
{},f=0;if(Array.isArray(a)){b=oa(c);for(h=a.length;f<h;f++)d[a[f]]=k.css(c,a[f],!1,b);return d}return void 0!==b?k.style(c,a,b):k.css(c,a)},c,a,1<arguments.length)}});k.Tween=T;T.prototype={constructor:T,init:function(c,a,b,d,f,e){this.elem=c;this.prop=b;this.easing=f||k.easing._default;this.options=a;this.start=this.now=this.cur();this.end=d;this.unit=e||(k.cssNumber[b]?"":"px")},cur:function(){var c=T.propHooks[this.prop];return c&&c.get?c.get(this):T.propHooks._default.get(this)},run:function(c){var a,
b=T.propHooks[this.prop];this.pos=this.options.duration?a=k.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):a=c;this.now=(this.end-this.start)*a+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);b&&b.set?b.set(this):T.propHooks._default.set(this);return this}};T.prototype.init.prototype=T.prototype;T.propHooks={_default:{get:function(c){return 1!==c.elem.nodeType||null!=c.elem[c.prop]&&null==c.elem.style[c.prop]?c.elem[c.prop]:(c=k.css(c.elem,c.prop,
""))&&"auto"!==c?c:0},set:function(c){if(k.fx.step[c.prop])k.fx.step[c.prop](c);else 1!==c.elem.nodeType||null==c.elem.style[k.cssProps[c.prop]]&&!k.cssHooks[c.prop]?c.elem[c.prop]=c.now:k.style(c.elem,c.prop,c.now+c.unit)}}};T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}};k.easing={linear:function(c){return c},swing:function(c){return.5-Math.cos(c*Math.PI)/2},_default:"swing"};k.fx=T.prototype.init;k.fx.step={};var pa,fa,
Yb=/^(?:toggle|show|hide)$/,Zb=/queueHooks$/;k.Animation=k.extend(aa,{tweeners:{"*":[function(c,a){var b=this.createTween(c,a);z(b.elem,c,na.exec(a),b);return b}]},tweener:function(c,a){k.isFunction(c)?(a=c,c=["*"]):c=c.match(X);for(var b,h=0,d=c.length;h<d;h++)b=c[h],aa.tweeners[b]=aa.tweeners[b]||[],aa.tweeners[b].unshift(a)},prefilters:[function(c,a,b){var h;var d="width"in a||"height"in a;var f=this,e={},g=c.style,m=c.nodeType&&za(c),n=w.get(c,"fxshow");if(!b.queue){var l=k._queueHooks(c,"fx");
if(null==l.unqueued){l.unqueued=0;var p=l.empty.fire;l.empty.fire=function(){l.unqueued||p()}}l.unqueued++;f.always(function(){f.always(function(){l.unqueued--;k.queue(c,"fx").length||l.empty.fire()})})}for(h in a){var q=a[h];if(Yb.test(q)){delete a[h];var r=r||"toggle"===q;if(q===(m?"hide":"show"))if("show"===q&&n&&void 0!==n[h])m=!0;else continue;e[h]=n&&n[h]||k.style(c,h)}}if((a=!k.isEmptyObject(a))||!k.isEmptyObject(e)){if(d&&1===c.nodeType){b.overflow=[g.overflow,g.overflowX,g.overflowY];var t=
n&&n.display;null==t&&(t=w.get(c,"display"));d=k.css(c,"display");"none"===d&&(t?d=t:(E([c],!0),t=c.style.display||t,d=k.css(c,"display"),E([c])));("inline"===d||"inline-block"===d&&null!=t)&&"none"===k.css(c,"float")&&(a||(f.done(function(){g.display=t}),null==t&&(d=g.display,t="none"===d?"":d)),g.display="inline-block")}b.overflow&&(g.overflow="hidden",f.always(function(){g.overflow=b.overflow[0];g.overflowX=b.overflow[1];g.overflowY=b.overflow[2]}));a=!1;for(h in e)a||(n?"hidden"in n&&(m=n.hidden):
n=w.access(c,"fxshow",{display:t}),r&&(n.hidden=!m),m&&E([c],!0),f.done(function(){m||E([c]);w.remove(c,"fxshow");for(h in e)k.style(c,h,e[h])})),a=Ea(m?n[h]:0,h,f),h in n||(n[h]=a.start,m&&(a.end=a.start,a.start=0))}}],prefilter:function(c,a){a?aa.prefilters.unshift(c):aa.prefilters.push(c)}});k.speed=function(c,a,b){var h=c&&"object"===typeof c?k.extend({},c):{complete:b||!b&&a||k.isFunction(c)&&c,duration:c,easing:b&&a||a&&!k.isFunction(a)&&a};k.fx.off?h.duration=0:"number"!==typeof h.duration&&
(h.duration=h.duration in k.fx.speeds?k.fx.speeds[h.duration]:k.fx.speeds._default);if(null==h.queue||!0===h.queue)h.queue="fx";h.old=h.complete;h.complete=function(){k.isFunction(h.old)&&h.old.call(this);h.queue&&k.dequeue(this,h.queue)};return h};k.fn.extend({fadeTo:function(c,a,b,d){return this.filter(za).css("opacity",0).show().end().animate({opacity:a},c,b,d)},animate:function(c,a,b,d){var h=k.isEmptyObject(c),f=k.speed(a,b,d);a=function(){var a=aa(this,k.extend({},c),f);(h||w.get(this,"finish"))&&
a.stop(!0)};a.finish=a;return h||!1===f.queue?this.each(a):this.queue(f.queue,a)},stop:function(c,a,b){var h=function(c){var a=c.stop;delete c.stop;a(b)};"string"!==typeof c&&(b=a,a=c,c=void 0);a&&!1!==c&&this.queue(c||"fx",[]);return this.each(function(){var a=!0,d=null!=c&&c+"queueHooks",f=k.timers,e=w.get(this);if(d)e[d]&&e[d].stop&&h(e[d]);else for(d in e)e[d]&&e[d].stop&&Zb.test(d)&&h(e[d]);for(d=f.length;d--;)f[d].elem!==this||null!=c&&f[d].queue!==c||(f[d].anim.stop(b),a=!1,f.splice(d,1));
!a&&b||k.dequeue(this,c)})},finish:function(c){!1!==c&&(c=c||"fx");return this.each(function(){var a=w.get(this),b=a[c+"queue"];var d=a[c+"queueHooks"];var f=k.timers,e=b?b.length:0;a.finish=!0;k.queue(this,c,[]);d&&d.stop&&d.stop.call(this,!0);for(d=f.length;d--;)f[d].elem===this&&f[d].queue===c&&(f[d].anim.stop(!0),f.splice(d,1));for(d=0;d<e;d++)b[d]&&b[d].finish&&b[d].finish.call(this);delete a.finish})}});k.each(["toggle","show","hide"],function(c,a){var b=k.fn[a];k.fn[a]=function(c,h,d){return null==
c||"boolean"===typeof c?b.apply(this,arguments):this.animate(Aa(a,!0),c,h,d)}});k.each({slideDown:Aa("show"),slideUp:Aa("hide"),slideToggle:Aa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,a){k.fn[c]=function(c,b,h){return this.animate(a,c,b,h)}});k.timers=[];k.fx.tick=function(){var c=0,a=k.timers;for(pa=k.now();c<a.length;c++){var b=a[c];b()||a[c]!==b||a.splice(c--,1)}a.length||k.fx.stop();pa=void 0};k.fx.timer=function(c){k.timers.push(c);
k.fx.start()};k.fx.interval=13;k.fx.start=function(){fa||(fa=!0,Z())};k.fx.stop=function(){fa=null};k.fx.speeds={slow:600,fast:200,_default:400};k.fn.delay=function(c,a){c=k.fx?k.fx.speeds[c]||c:c;return this.queue(a||"fx",function(a,b){var h=g.setTimeout(a,c);b.stop=function(){g.clearTimeout(h)}})};(function(){var c=y.createElement("input"),a=y.createElement("select").appendChild(y.createElement("option"));c.type="checkbox";D.checkOn=""!==c.value;D.optSelected=a.selected;c=y.createElement("input");
c.value="t";c.type="radio";D.radioValue="t"===c.value})();var ra=k.expr.attrHandle;k.fn.extend({attr:function(c,a){return ca(this,k.attr,c,a,1<arguments.length)},removeAttr:function(c){return this.each(function(){k.removeAttr(this,c)})}});k.extend({attr:function(c,a,b){var h,d,f=c.nodeType;if(3!==f&&8!==f&&2!==f){if("undefined"===typeof c.getAttribute)return k.prop(c,a,b);1===f&&k.isXMLDoc(c)||(d=k.attrHooks[a.toLowerCase()]||(k.expr.match.bool.test(a)?$b:void 0));if(void 0!==b){if(null===b){k.removeAttr(c,
a);return}if(d&&"set"in d&&void 0!==(h=d.set(c,b,a)))return h;c.setAttribute(a,b+"");return b}if(d&&"get"in d&&null!==(h=d.get(c,a)))return h;h=k.find.attr(c,a);return null==h?void 0:h}},attrHooks:{type:{set:function(c,b){if(!D.radioValue&&"radio"===b&&a(c,"input")){var d=c.value;c.setAttribute("type",b);d&&(c.value=d);return b}}}},removeAttr:function(c,a){var b=0,d=a&&a.match(X);if(d&&1===c.nodeType)for(;a=d[b++];)c.removeAttribute(a)}});var $b={set:function(c,a,b){!1===a?k.removeAttr(c,b):c.setAttribute(b,
b);return b}};k.each(k.expr.match.bool.source.match(/\w+/g),function(c,a){var b=ra[a]||k.find.attr;ra[a]=function(c,a,d){var h=a.toLowerCase();if(!d){var f=ra[h];ra[h]=k;var k=null!=b(c,a,d)?h:null;ra[h]=f}return k}});var ac=/^(?:input|select|textarea|button)$/i,bc=/^(?:a|area)$/i;k.fn.extend({prop:function(c,a){return ca(this,k.prop,c,a,1<arguments.length)},removeProp:function(c){return this.each(function(){delete this[k.propFix[c]||c]})}});k.extend({prop:function(c,a,b){var d,h=c.nodeType;if(3!==
h&&8!==h&&2!==h){if(1!==h||!k.isXMLDoc(c)){a=k.propFix[a]||a;var f=k.propHooks[a]}return void 0!==b?f&&"set"in f&&void 0!==(d=f.set(c,b,a))?d:c[a]=b:f&&"get"in f&&null!==(d=f.get(c,a))?d:c[a]}},propHooks:{tabIndex:{get:function(c){var a=k.find.attr(c,"tabindex");return a?parseInt(a,10):ac.test(c.nodeName)||bc.test(c.nodeName)&&c.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});D.optSelected||(k.propHooks.selected={get:function(c){(c=c.parentNode)&&c.parentNode&&c.parentNode.selectedIndex;
return null},set:function(c){if(c=c.parentNode)c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex}});k.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){k.propFix[this.toLowerCase()]=this});k.fn.extend({addClass:function(c){var a,b,d,f,e,g=0;if(k.isFunction(c))return this.each(function(a){k(this).addClass(c.call(this,a,ia(this)))});if("string"===typeof c&&c)for(a=c.match(X)||[];b=this[g++];){var m=ia(b);if(d=1===
b.nodeType&&" "+ha(m)+" "){for(e=0;f=a[e++];)0>d.indexOf(" "+f+" ")&&(d+=f+" ");d=ha(d);m!==d&&b.setAttribute("class",d)}}return this},removeClass:function(c){var a,b,d,f,e,g=0;if(k.isFunction(c))return this.each(function(a){k(this).removeClass(c.call(this,a,ia(this)))});if(!arguments.length)return this.attr("class","");if("string"===typeof c&&c)for(a=c.match(X)||[];b=this[g++];){var m=ia(b);if(d=1===b.nodeType&&" "+ha(m)+" "){for(e=0;f=a[e++];)for(;-1<d.indexOf(" "+f+" ");)d=d.replace(" "+f+" ",
" ");d=ha(d);m!==d&&b.setAttribute("class",d)}}return this},toggleClass:function(c,a){var b=typeof c;return"boolean"===typeof a&&"string"===b?a?this.addClass(c):this.removeClass(c):k.isFunction(c)?this.each(function(b){k(this).toggleClass(c.call(this,b,ia(this),a),a)}):this.each(function(){var a,d;if("string"===b){var h=0;var f=k(this);for(d=c.match(X)||[];a=d[h++];)f.hasClass(a)?f.removeClass(a):f.addClass(a)}else if(void 0===c||"boolean"===b)(a=ia(this))&&w.set(this,"__className__",a),this.setAttribute&&
this.setAttribute("class",a||!1===c?"":w.get(this,"__className__")||"")})},hasClass:function(c){var a,b=0;for(c=" "+c+" ";a=this[b++];)if(1===a.nodeType&&-1<(" "+ha(ia(a))+" ").indexOf(c))return!0;return!1}});var cc=/\r/g;k.fn.extend({val:function(c){var a,b,d=this[0];if(arguments.length){var f=k.isFunction(c);return this.each(function(b){1===this.nodeType&&(b=f?c.call(this,b,k(this).val()):c,null==b?b="":"number"===typeof b?b+="":Array.isArray(b)&&(b=k.map(b,function(c){return null==c?"":c+""})),
a=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()],a&&"set"in a&&void 0!==a.set(this,b,"value")||(this.value=b))})}if(d){if((a=k.valHooks[d.type]||k.valHooks[d.nodeName.toLowerCase()])&&"get"in a&&void 0!==(b=a.get(d,"value")))return b;b=d.value;return"string"===typeof b?b.replace(cc,""):null==b?"":b}}});k.extend({valHooks:{option:{get:function(c){var a=k.find.attr(c,"value");return null!=a?a:ha(k.text(c))}},select:{get:function(c){var b=c.options,d=c.selectedIndex,f="select-one"===
c.type,e=f?null:[],g=f?d+1:b.length;for(c=0>d?g:f?d:0;c<g;c++){var m=b[c];if(!(!m.selected&&c!==d||m.disabled||m.parentNode.disabled&&a(m.parentNode,"optgroup"))){m=k(m).val();if(f)return m;e.push(m)}}return e},set:function(c,a){for(var b,d=c.options,h=k.makeArray(a),f=d.length;f--;)if(a=d[f],a.selected=-1<k.inArray(k.valHooks.option.get(a),h))b=!0;b||(c.selectedIndex=-1);return h}}}});k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(c,a){if(Array.isArray(a))return c.checked=
-1<k.inArray(k(c).val(),a)}};D.checkOn||(k.valHooks[this].get=function(c){return null===c.getAttribute("value")?"on":c.value})});var qb=/^(?:focusinfocus|focusoutblur)$/;k.extend(k.event,{trigger:function(c,a,b,d){var h,f,e=[b||y],m=Ia.call(c,"type")?c.type:c;var n=Ia.call(c,"namespace")?c.namespace.split("."):[];var l=h=b=b||y;if(3!==b.nodeType&&8!==b.nodeType&&!qb.test(m+k.event.triggered)){-1<m.indexOf(".")&&(n=m.split("."),m=n.shift(),n.sort());var q=0>m.indexOf(":")&&"on"+m;c=c[k.expando]?c:
new k.Event(m,"object"===typeof c&&c);c.isTrigger=d?2:3;c.namespace=n.join(".");c.rnamespace=c.namespace?new RegExp("(^|\\.)"+n.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;c.result=void 0;c.target||(c.target=b);a=null==a?[c]:k.makeArray(a,[c]);n=k.event.special[m]||{};if(d||!n.trigger||!1!==n.trigger.apply(b,a)){if(!d&&!n.noBubble&&!k.isWindow(b)){var r=n.delegateType||m;qb.test(r+m)||(l=l.parentNode);for(;l;l=l.parentNode)e.push(l),h=l;h===(b.ownerDocument||y)&&e.push(h.defaultView||h.parentWindow||g)}for(h=
0;(l=e[h++])&&!c.isPropagationStopped();)c.type=1<h?r:n.bindType||m,(f=(w.get(l,"events")||{})[c.type]&&w.get(l,"handle"))&&f.apply(l,a),(f=q&&l[q])&&f.apply&&Ja(l)&&(c.result=f.apply(l,a),!1===c.result&&c.preventDefault());c.type=m;d||c.isDefaultPrevented()||n._default&&!1!==n._default.apply(e.pop(),a)||!Ja(b)||!q||!k.isFunction(b[m])||k.isWindow(b)||((h=b[q])&&(b[q]=null),k.event.triggered=m,b[m](),k.event.triggered=void 0,h&&(b[q]=h));return c.result}}},simulate:function(c,a,b){c=k.extend(new k.Event,
b,{type:c,isSimulated:!0});k.event.trigger(c,null,a)}});k.fn.extend({trigger:function(c,a){return this.each(function(){k.event.trigger(c,a,this)})},triggerHandler:function(c,a){var b=this[0];if(b)return k.event.trigger(c,a,b,!0)}});k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(c,a){k.fn[a]=function(c,b){return 0<arguments.length?this.on(a,
null,c,b):this.trigger(a)}});k.fn.extend({hover:function(c,a){return this.mouseenter(c).mouseleave(a||c)}});D.focusin="onfocusin"in g;D.focusin||k.each({focus:"focusin",blur:"focusout"},function(c,a){var b=function(c){k.event.simulate(a,c.target,k.event.fix(c))};k.event.special[a]={setup:function(){var d=this.ownerDocument||this,h=w.access(d,a);h||d.addEventListener(c,b,!0);w.access(d,a,(h||0)+1)},teardown:function(){var d=this.ownerDocument||this,h=w.access(d,a)-1;h?w.access(d,a,h):(d.removeEventListener(c,
b,!0),w.remove(d,a))}}});var sa=g.location,rb=k.now(),Ta=/\?/;k.parseXML=function(c){if(!c||"string"!==typeof c)return null;try{var a=(new g.DOMParser).parseFromString(c,"text/xml")}catch(p){a=void 0}a&&!a.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+c);return a};var Fb=/\[\]$/,sb=/\r?\n/g,dc=/^(?:submit|button|image|reset|file)$/i,ec=/^(?:input|select|textarea|keygen)/i;k.param=function(c,a){var b,d=[],h=function(c,a){a=k.isFunction(a)?a():a;d[d.length]=encodeURIComponent(c)+
"\x3d"+encodeURIComponent(null==a?"":a)};if(Array.isArray(c)||c.jquery&&!k.isPlainObject(c))k.each(c,function(){h(this.name,this.value)});else for(b in c)Na(b,c[b],a,h);return d.join("\x26")};k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=k.prop(this,"elements");return c?k.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!k(this).is(":disabled")&&ec.test(this.nodeName)&&!dc.test(c)&&(this.checked||
!mb.test(c))}).map(function(c,a){c=k(this).val();return null==c?null:Array.isArray(c)?k.map(c,function(c){return{name:a.name,value:c.replace(sb,"\r\n")}}):{name:a.name,value:c.replace(sb,"\r\n")}}).get()}});var fc=/%20/g,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)$/mg,jc=/^(?:GET|HEAD)$/,kc=/^\/\//,tb={},Oa={},ub="*/".concat("*"),Ua=y.createElement("a");Ua.href=sa.href;k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:sa.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(sa.protocol),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,a){return a?
Pa(Pa(c,k.ajaxSettings),a):Pa(k.ajaxSettings,c)},ajaxPrefilter:cb(tb),ajaxTransport:cb(Oa),ajax:function(c,a){function b(c,a,b,f){var n=a;if(!J){J=!0;e&&g.clearTimeout(e);d=void 0;h=f||"";u.readyState=0<c?4:0;f=200<=c&&300>c||304===c;if(b){var p=l;for(var v=u,z,S,E,A,B=p.contents,I=p.dataTypes;"*"===I[0];)I.shift(),void 0===z&&(z=p.mimeType||v.getResponseHeader("Content-Type"));if(z)for(S in B)if(B[S]&&B[S].test(z)){I.unshift(S);break}if(I[0]in b)E=I[0];else{for(S in b){if(!I[0]||p.converters[S+" "+
I[0]]){E=S;break}A||(A=S)}E=E||A}E?(E!==I[0]&&I.unshift(E),p=b[E]):p=void 0}a:{b=l;z=p;S=u;E=f;var Fa;v={};B=b.dataTypes.slice();if(B[1])for(w in b.converters)v[w.toLowerCase()]=b.converters[w];for(A=B.shift();A;){b.responseFields[A]&&(S[b.responseFields[A]]=z);!R&&E&&b.dataFilter&&(z=b.dataFilter(z,b.dataType));var R=A;if(A=B.shift())if("*"===A)A=R;else if("*"!==R&&R!==A){var w=v[R+" "+A]||v["* "+A];if(!w)for(Fa in v)if(p=Fa.split(" "),p[1]===A&&(w=v[R+" "+p[0]]||v["* "+p[0]])){!0===w?w=v[Fa]:!0!==
v[Fa]&&(A=p[0],B.unshift(p[1]));break}if(!0!==w)if(w&&b.throwsQ)z=w(z);else try{z=w(z)}catch(Mb){p={state:"parsererror",error:w?Mb:"No conversion from "+R+" to "+A};break a}}}p={state:"success",data:z}}if(f)if(l.ifModified&&((n=u.getResponseHeader("Last-Modified"))&&(k.lastModified[V]=n),(n=u.getResponseHeader("etag"))&&(k.etag[V]=n)),204===c||"HEAD"===l.type)n="nocontent";else if(304===c)n="notmodified";else{n=p.state;var L=p.data;var y=p.error;f=!y}else if(y=n,c||!n)n="error",0>c&&(c=0);u.status=
c;u.statusText=(a||n)+"";f?t.resolveWith(q,[L,n,u]):t.rejectWith(q,[u,n,y]);u.statusCode(G);G=void 0;m&&r.trigger(f?"ajaxSuccess":"ajaxError",[u,l,f?L:y]);x.fireWith(q,[u,n]);m&&(r.trigger("ajaxComplete",[u,l]),--k.active||k.event.trigger("ajaxStop"))}}"object"===typeof c&&(a=c,c=void 0);a=a||{};var d,h,f,e,m,n,l=k.ajaxSetup({},a),q=l.context||l,r=l.context&&(q.nodeType||q.jquery)?k(q):k.event,t=k.Deferred(),x=k.Callbacks("once memory"),G=l.statusCode||{},z={},S={},E="canceled",u={readyState:0,getResponseHeader:function(c){var a;
if(J){if(!f)for(f={};a=ic.exec(h);)f[a[1].toLowerCase()]=a[2];a=f[c.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return J?h:null},setRequestHeader:function(c,a){null==J&&(c=S[c.toLowerCase()]=S[c.toLowerCase()]||c,z[c]=a);return this},overrideMimeType:function(c){null==J&&(l.mimeType=c);return this},statusCode:function(c){var a;if(c)if(J)u.always(c[u.status]);else for(a in c)G[a]=[G[a],c[a]];return this},abort:function(c){c=c||E;d&&d.abort(c);b(0,c);return this}};t.promise(u);
l.url=((c||l.url||sa.href)+"").replace(kc,sa.protocol+"//");l.type=a.method||a.type||l.method||l.type;l.dataTypes=(l.dataType||"*").toLowerCase().match(X)||[""];if(null==l.crossDomain){c=y.createElement("a");try{c.href=l.url,c.href=c.href,l.crossDomain=Ua.protocol+"//"+Ua.host!==c.protocol+"//"+c.host}catch(Ra){l.crossDomain=!0}}l.data&&l.processData&&"string"!==typeof l.data&&(l.data=k.param(l.data,l.traditional));db(tb,l,a,u);if(J)return u;(m=k.event&&l.global)&&0===k.active++&&k.event.trigger("ajaxStart");
l.type=l.type.toUpperCase();l.hasContent=!jc.test(l.type);var V=l.url.replace(gc,"");l.hasContent?l.data&&l.processData&&0===(l.contentType||"").indexOf("application/x-www-form-urlencoded")&&(l.data=l.data.replace(fc,"+")):(c=l.url.slice(V.length),l.data&&(V+=(Ta.test(V)?"\x26":"?")+l.data,delete l.data),!1===l.cache&&(V=V.replace(hc,"$1"),c=(Ta.test(V)?"\x26":"?")+"_\x3d"+rb++ +c),l.url=V+c);l.ifModified&&(k.lastModified[V]&&u.setRequestHeader("If-Modified-Since",k.lastModified[V]),k.etag[V]&&u.setRequestHeader("If-None-Match",
k.etag[V]));(l.data&&l.hasContent&&!1!==l.contentType||a.contentType)&&u.setRequestHeader("Content-Type",l.contentType);u.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+ub+"; q\x3d0.01":""):l.accepts["*"]);for(n in l.headers)u.setRequestHeader(n,l.headers[n]);if(l.beforeSend&&(!1===l.beforeSend.call(q,u,l)||J))return u.abort();E="abort";x.add(l.complete);u.done(l.success);u.fail(l.error);if(d=db(Oa,l,a,u)){u.readyState=1;m&&
r.trigger("ajaxSend",[u,l]);if(J)return u;l.async&&0<l.timeout&&(e=g.setTimeout(function(){u.abort("timeout")},l.timeout));try{var J=!1;d.send(z,b)}catch(Ra){if(J)throw Ra;b(-1,Ra)}}else b(-1,"No Transport");return u},getJSON:function(c,a,b){return k.get(c,a,b,"json")},getScript:function(c,a){return k.get(c,void 0,a,"script")}});k.each(["get","post"],function(c,a){k[a]=function(c,b,d,h){k.isFunction(b)&&(h=h||d,d=b,b=void 0);return k.ajax(k.extend({url:c,type:a,dataType:h,data:b,success:d},k.isPlainObject(c)&&
c))}});k._evalUrl=function(c){return k.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throwsQ:!0})};k.fn.extend({wrapAll:function(c){this[0]&&(k.isFunction(c)&&(c=c.call(this[0])),c=k(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&c.insertBefore(this[0]),c.map(function(){for(var c=this;c.firstElementChild;)c=c.firstElementChild;return c}).append(this));return this},wrapInner:function(c){return k.isFunction(c)?this.each(function(a){k(this).wrapInner(c.call(this,
a))}):this.each(function(){var a=k(this),b=a.contents();b.length?b.wrapAll(c):a.append(c)})},wrap:function(c){var a=k.isFunction(c);return this.each(function(b){k(this).wrapAll(a?c.call(this,b):c)})},unwrap:function(c){this.parent(c).not("body").each(function(){k(this).replaceWith(this.childNodes)});return this}});k.expr.pseudos.hidden=function(c){return!k.expr.pseudos.visible(c)};k.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)};k.ajaxSettings.xhr=
function(){try{return new g.XMLHttpRequest}catch(c){}};var lc={0:200,1223:204},ya=k.ajaxSettings.xhr();D.cors=!!ya&&"withCredentials"in ya;D.ajax=ya=!!ya;k.ajaxTransport(function(c){var a,b;if(D.cors||ya&&!c.crossDomain)return{send:function(d,f){var h,k=c.xhr();k.open(c.type,c.url,c.async,c.username,c.password);if(c.xhrFields)for(h in c.xhrFields)k[h]=c.xhrFields[h];c.mimeType&&k.overrideMimeType&&k.overrideMimeType(c.mimeType);c.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");
for(h in d)k.setRequestHeader(h,d[h]);a=function(c){return function(){a&&(a=b=k.onload=k.onerror=k.onabort=k.onreadystatechange=null,"abort"===c?k.abort():"error"===c?"number"!==typeof k.status?f(0,"error"):f(k.status,k.statusText):f(lc[k.status]||k.status,k.statusText,"text"!==(k.responseType||"text")||"string"!==typeof k.responseText?{binary:k.response}:{text:k.responseText},k.getAllResponseHeaders()))}};k.onload=a();b=k.onerror=a("error");void 0!==k.onabort?k.onabort=b:k.onreadystatechange=function(){4===
k.readyState&&g.setTimeout(function(){a&&b()})};a=a("abort");try{k.send(c.hasContent&&c.data||null)}catch(zb){if(a)throw zb;}},abort:function(){a&&a()}}});k.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)});k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(c){k.globalEval(c);return c}}});k.ajaxPrefilter("script",function(c){void 0===
c.cache&&(c.cache=!1);c.crossDomain&&(c.type="GET")});k.ajaxTransport("script",function(c){if(c.crossDomain){var a,b;return{send:function(d,f){a=k("\x3cscript\x3e").prop({charset:c.scriptCharset,src:c.url}).on("load error",b=function(c){a.remove();b=null;c&&f("error"===c.type?404:200,c.type)});y.head.appendChild(a[0])},abort:function(){b&&b()}}}});var vb=[],Va=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=vb.pop()||k.expando+"_"+rb++;this[c]=!0;return c}});k.ajaxPrefilter("json jsonp",
function(c,a,b){var d,f=!1!==c.jsonp&&(Va.test(c.url)?"url":"string"===typeof c.data&&0===(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Va.test(c.data)&&"data");if(f||"jsonp"===c.dataTypes[0]){var h=c.jsonpCallback=k.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback;f?c[f]=c[f].replace(Va,"$1"+h):!1!==c.jsonp&&(c.url+=(Ta.test(c.url)?"\x26":"?")+c.jsonp+"\x3d"+h);c.converters["script json"]=function(){d||k.error(h+" was not called");return d[0]};c.dataTypes[0]="json";
var e=g[h];g[h]=function(){d=arguments};b.always(function(){void 0===e?k(g).removeProp(h):g[h]=e;c[h]&&(c.jsonpCallback=a.jsonpCallback,vb.push(h));d&&k.isFunction(e)&&e(d[0]);d=e=void 0});return"script"}});D.createHTMLDocument=function(){var c=y.implementation.createHTMLDocument("").body;c.innerHTML="\x3cform\x3e\x3c/form\x3e\x3cform\x3e\x3c/form\x3e";return 2===c.childNodes.length}();k.parseHTML=function(c,a,b){if("string"!==typeof c)return[];"boolean"===typeof a&&(b=a,a=!1);if(!a)if(D.createHTMLDocument){a=
y.implementation.createHTMLDocument("");var d=a.createElement("base");d.href=y.location.href;a.head.appendChild(d)}else a=y;d=jb.exec(c);b=!b&&[];if(d)return[a.createElement(d[1])];d=R([c],a,b);b&&b.length&&k(b).remove();return k.merge([],d.childNodes)};k.fn.load=function(c,a,b){var d,f,h=this,e=c.indexOf(" ");if(-1<e){var g=ha(c.slice(e));c=c.slice(0,e)}k.isFunction(a)?(b=a,a=void 0):a&&"object"===typeof a&&(d="POST");0<h.length&&k.ajax({url:c,type:d||"GET",dataType:"html",data:a}).done(function(a){f=
arguments;h.html(g?k("\x3cdiv\x3e").append(k.parseHTML(a)).find(g):a)}).always(b&&function(a,c){h.each(function(){b.apply(this,f||[a.responseText,c,a])})});return this};k.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){k.fn[b]=function(a){return this.on(b,a)}});k.expr.pseudos.animated=function(a){return k.grep(k.timers,function(c){return a===c.elem}).length};k.offset={setOffset:function(a,b,d){var c=k.css(a,"position"),f=k(a),h={};"static"===c&&(a.style.position=
"relative");var e=f.offset();var g=k.css(a,"top");var m=k.css(a,"left");("absolute"===c||"fixed"===c)&&-1<(g+m).indexOf("auto")?(m=f.position(),g=m.top,m=m.left):(g=parseFloat(g)||0,m=parseFloat(m)||0);k.isFunction(b)&&(b=b.call(a,d,k.extend({},e)));null!=b.top&&(h.top=b.top-e.top+g);null!=b.left&&(h.left=b.left-e.left+m);"using"in b?b.using.call(a,h):f.css(h)}};k.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(c){k.offset.setOffset(this,a,c)});var c;if(c=
this[0]){if(!c.getClientRects().length)return{top:0,left:0};var b=c.getBoundingClientRect();var d=c.ownerDocument;c=d.documentElement;d=d.defaultView;return{top:b.top+d.pageYOffset-c.clientTop,left:b.left+d.pageXOffset-c.clientLeft}}},position:function(){if(this[0]){var c=this[0],b={top:0,left:0};if("fixed"===k.css(c,"position"))var d=c.getBoundingClientRect();else{var f=this.offsetParent();d=this.offset();a(f[0],"html")||(b=f.offset());b={top:b.top+k.css(f[0],"borderTopWidth",!0),left:b.left+k.css(f[0],
"borderLeftWidth",!0)}}return{top:d.top-b.top-k.css(c,"marginTop",!0),left:d.left-b.left-k.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===k.css(a,"position");)a=a.offsetParent;return a||Ka})}});k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;k.fn[a]=function(d){return ca(this,function(a,d,f){if(k.isWindow(a))var h=a;else 9===a.nodeType&&(h=a.defaultView);if(void 0===f)return h?h[b]:
a[d];h?h.scrollTo(c?h.pageXOffset:f,c?f:h.pageYOffset):a[d]=f},a,d,arguments.length)}});k.each(["top","left"],function(a,b){k.cssHooks[b]=I(D.pixelPosition,function(a,c){if(c)return c=u(a,b),Ma.test(c)?k(a).position()[b]+"px":c})});k.each({Height:"height",Width:"width"},function(a,b){k.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){k.fn[d]=function(f,h){var e=arguments.length&&(c||"boolean"!==typeof f),g=c||(!0===f||!0===h?"margin":"border");return ca(this,function(c,b,f){return k.isWindow(c)?
0===d.indexOf("outer")?c["inner"+a]:c.document.documentElement["client"+a]:9===c.nodeType?(b=c.documentElement,Math.max(c.body["scroll"+a],b["scroll"+a],c.body["offset"+a],b["offset"+a],b["client"+a])):void 0===f?k.css(c,b,g):k.style(c,b,f,g)},b,e?f:void 0,e)}})});k.fn.extend({bind:function(a,b,d){return this.on(a,null,b,d)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,d,f){return this.on(b,a,d,f)},undelegate:function(a,b,d){return 1===arguments.length?this.off(a,"**"):this.off(b,
a||"**",d)}});k.holdReady=function(a){a?k.readyWait++:k.ready(!0)};k.isArray=Array.isArray;k.parseJSON=JSON.parse;k.nodeName=a;"function"===typeof define&&define.amd&&define("jquery",[],function(){return k});var mc=g.jQuery,nc=g.$;k.noConflict=function(a){g.$===k&&(g.$=nc);a&&g.jQuery===k&&(g.jQuery=mc);return k};l||(g.jQuery=g.$=k);return k});window.ContextHubJQ=window.jQuery.noConflict(!0);
(function(){Function.prototype.bind||(Function.prototype.bind=function(g){var l=this,e=[].slice.call(arguments,1),b=function(){if(this instanceof b){var a=function(){};a.prototype=l.prototype;a=new a;var d=l.apply(a,e.concat([].slice.call(arguments)));a=Object(d)===d?d:a}else a=l.apply(g,e.concat([].slice.call(arguments)));return a};return b})})();
(function(g){g.ContextHub=g.ContextHub||{};var l=function(b,a){return(g.ContextHubKernelConfig.debug||a)&&b?Function.prototype.bind.call(b,g.console):function(){}},e=function(b){var a=g.console||{},d=function(){};ContextHub.console={log:l(a.log),warn:l(a.warn),info:l(a.info),error:l(a.error,!0),debug:l(a.debug),time:l(a.time),timeEnd:l(a.timeEnd),timeStamp:l(a.timeStamp)};b=b||"info";"info"===b&&(ContextHub.console.info=d,ContextHub.console.debug=d);"debug"===b&&(ContextHub.console.log=d,ContextHub.console.warn=
d)};e();ContextHub.debug=function(b,a){"undefined"!==typeof b&&(g.ContextHubKernelConfig.debug=!0===b,e(a));return!!g.ContextHubKernelConfig.debug}})(window);
(function(g,l){l.ContextHub=l.ContextHub||{};l.ContextHub.Utils=l.ContextHub.Utils||{};l.ContextHub.Utils.JSON=l.ContextHub.Utils.JSON||{};var e=function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},b=function(a){var b={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return'"'+a.replace(/["\\\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(a){var d=b[a];return d?d:e(a)})+'"'},
a=function(d){var f=g.type(d);"object"===f&&g.isArray(d)&&(f="array");switch(f){case "null":case "boolean":return String(d);case "undefined":break;case "array":var e=[];for(f=0;f<d.length;f++)e.push(a(d[f])||"null");return"["+e.join(",")+"]";case "number":return String(isFinite(d)?d:"null");case "string":return b(d);case "date":e=d.getUTCFullYear();f=ContextHub.Shared.pad(d.getUTCMonth()+1);var l=ContextHub.Shared.pad(d.getUTCDate()),n=ContextHub.Shared.pad(d.getUTCHours()),x=ContextHub.Shared.pad(d.getUTCMinutes()),
G=ContextHub.Shared.pad(d.getUTCSeconds());d=ContextHub.Shared.pad(d.getUTCMilliseconds(),3);return'"'+e+"-"+f+"-"+l+"T"+n+":"+x+":"+G+"."+d+'Z"';case "regexp":return"{}";case "function":break;default:f=[];for(e in d)Object.prototype.hasOwnProperty.call(d,e)&&(l=typeof e,"number"===l||"string"===l)&&(n=d[e],l=typeof n,"function"!==l&&"undefined"!==l&&f.push(b(e)+":"+a(n)));return"{"+f.join(",")+"}"}},d=function(a){a=String(a).replace(/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
e);var b=a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");return/^[\],:{}\s]*$/.test(b)?eval("("+a+")"):{}},f=l.JSON&&JSON.stringify&&JSON.parse;ContextHub.Utils.JSON.stringify=f?JSON.stringify:a;ContextHub.Utils.JSON.parse=function(a){try{var b=(f?JSON.parse:d)(a)}catch(r){b={}}return b}})(ContextHubJQ,window);ContextHub.console.log("[loading] contexthub.constants - ContextHub.constants.js");
(function(g){ContextHub.Constants=g.extend(!0,ContextHub.Constants,{EVENT_NAMESPACE:"ch",EVENT_ALL_STORES_READY:"all-stores-ready",EVENT_STORES_PARTIALLY_READY:"stores-partially-ready",EVENT_STORE_REGISTERED:"store-registered",EVENT_STORE_READY:"store-ready",EVENT_STORE_UPDATED:"store-updated",PERSISTENCE_CONTAINER_NAME:"ContextHubPersistence",SERVICE_RAW_RESPONSE_KEY:"/_/raw-response",SERVICE_RESPONSE_TIME_KEY:"/_/response-time",SERVICE_LAST_URL_KEY:"/_/url",IS_CONTAINER_EXPANDED:"/_/container-expanded"});
ContextHub.console.time("contexthub.js");ContextHub.console.timeStamp("contexthub.start")})(ContextHubJQ);ContextHub.console.log("[loading] contexthub.constants - ContextHub.constants.deprecated.js");
(function(g){window.ContextHub=window.ContextHub||{};ContextHub.Constants=g.extend(!0,ContextHub.Constants,{EVENT_INITIALIZED:ContextHub.Constants.EVENT_ALL_STORES_READY,EVENT_REGISTER:ContextHub.Constants.EVENT_STORE_REGISTERED,EVENT_DATA_UPDATE:ContextHub.Constants.EVENT_STORE_UPDATED,CONTAINER_VISIBLE:ContextHub.Constants.IS_CONTAINER_EXPANDED,EVENT_CONFIG_LOADED:""})})(ContextHubJQ);
(function(g,l){l.ContextHub.Shared=l.ContextHub.Shared||{};ContextHub.Shared.pad=function(b,a){b=String(b);a=(a||2)-b.length;0<a&&(b=String(Math.pow(10,Math.min(a,20))).slice(1)+b);return b};var e={};ContextHub.Shared.timers={start:function(b){b=b||"id"+Math.random();e[b]=(new Date).getTime();return b},finish:function(b){return(b=e[b])?(new Date).getTime()-b:0}};ContextHub.Shared.timestamp=function(){var b=new Date,a=b.getYear()+1900,d=ContextHub.Shared.pad(b.getMonth()+1),f=ContextHub.Shared.pad(b.getDate()),
e=ContextHub.Shared.pad(b.getHours()),g=ContextHub.Shared.pad(b.getMinutes()),l=ContextHub.Shared.pad(b.getSeconds());b=ContextHub.Shared.pad(b.getMilliseconds(),3);return a+"-"+d+"-"+f+" "+e+":"+g+":"+l+"."+b};ContextHub.Shared.uuid=function(){function b(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b()};ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.shared - ContextHub.Shared.js")})(ContextHubJQ,
window);ContextHubJQ(function(){ContextHub.console.log(ContextHub.Shared.timestamp(),"[event] DOM ready")});ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.shared - ContextHub.Shared.CookieContainer.js");
(function(g,l){l.ContextHub.Shared=l.ContextHub.Shared||{};l.ContextHub.Shared.CookieContainer={};var e=l.ContextHub.Shared.CookieContainer,b=function(a){a=(ContextHub.Utils.Cookie.getItem(g.trim(a))||"").split(/\|/);var b={};g.each(a,function(a,d){(d=d.match(/(^.*?):=(.*)/))&&3===d.length&&(d.shift(),a=d.shift(),d=d.shift(),b[a]=decodeURIComponent(d))});return b};e.setItem=function(a,d,f){a=g.trim(a);var e=b(a),m=[];0>=a.length||(null===f||"undefined"===typeof f?delete e[d]:e[d]=f,g.each(e,function(a,
b){m.push(a+":\x3d"+encodeURIComponent(b))}),ContextHub.Utils.Cookie.setItem(a,m.join("|")))};e.getItem=function(a,d){return b(a)[d]};e.removeItem=function(a,b){e.setItem(a,b,null)}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.utils - ContextHub.Utils.cookie.js");
(function(g,l){l.ContextHub.Utils=l.ContextHub.Utils||{};var e={path:"/",expires:void 0,domain:void 0,secure:!1,trimUndefined:!0},b=function(a,d){var f=g.type(d);"object"===f&&g.isArray(d)&&(f="array");switch(f){case "regexp":return d.test(a);case "string":return a===d;case "function":return!0===d(a);case "array":var e=!1;g(d).each(function(d,f){e=b(a,f);return!e});return e;default:return!1}},a=function(a){var d="undefined"===typeof a,f=l.document.cookie?l.document.cookie.split(/;/):[],e=[];g(f).each(function(f,
m){f=decodeURIComponent(g.trim(m.split(/=/)[0]));f.length&&-1===g.inArray(f,e)&&(d||b(f,a))&&e.push(f)});return e.sort()},d=function(a,b,d){if("undefined"===typeof a)return!1;var f=g.type(b);d=g.extend(!0,{},e,d);b=!d.trimUndefined||"undefined"!==f&&"null"!==f?b:"";switch(g.type(d.expires)){case "date":break;case "number":f=new Date;f.setDate(f.getDate()+d.expires);d.expires=f;break;default:d.expires=void 0}a=[encodeURIComponent(a),"\x3d",encodeURIComponent(b),d.expires?"; expires\x3d"+d.expires.toUTCString():
"",d.domain?"; domain\x3d"+d.domain:"",d.path?"; path\x3d"+d.path:"",d.secure?"; secure":""].join("");return l.document.cookie=a},f=function(a){var b=l.document.cookie?l.document.cookie.split(/;/):[],d=null;g(b).each(function(b,f){b=decodeURIComponent(g.trim(f.split(/=/).slice(1).join("\x3d")));decodeURIComponent(g.trim(f.split(/=/)[0]))===a&&(d=b);return null===d});return d},n=function(a,b){d(a,"",g.extend({},b,{expires:-1}))};ContextHub.Utils.Cookie={setItem:d,getItem:f,getAllItems:function(b){var d=
{};g(a(b)).each(function(a,b){a=f(b);var e=g.type(a);"undefined"!==e&&"null"!==e&&(d[b]=a)});return d},getKeys:a,exists:function(a){return null!==f(a)},removeItem:n,vanish:function(b,d){g(a(b)).each(function(a,b){n(b,d)})}}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.utils - ContextHub.Utils.json.js");
(function(g,l){l.ContextHub.Utils=l.ContextHub.Utils||{};var e=function(a){var b=null;"string"===typeof a&&(b=a.split(/(?:\s*\/+\s*)+/),""===b[0]&&b.shift(),b.length&&""===b[b.length-1]&&b.pop());return b},b=function(a,b){var d=null;if(b=e(b))for(d=a,a=0;a<b.length;a++)if(d=d[b[a]],null===d||"undefined"===typeof d){d=null;break}return d},a=function(a,b,d){b=e(b);d&&(a=g.extend(!0,{},a));if(b){var f={object:!0,array:!0},l=a,m=[a];g.each(b.slice(0,-1),function(a,b){l=l[b];m.push(l);return!0===f[g.type(l)]});
if(l)for(delete l[b.slice(-1)],b.pop(),m.pop();m&&b&&0<m.length&&0<b.length;){d=b.pop();l=m.pop();var n=l[d],q=g.type(n);if("object"!==q&&"array"!==q||!g.isEmptyObject(n))break;else delete l[d]}}return a},d=/^\[object (DIV|DOM|CSS|HTML|NamedNode|Node|Window)/,f=function(a){return a&&(a instanceof l.Node||a instanceof g||"function"===typeof a.css||"function"===typeof a.toString&&d.test(a.toString()))?!0:!1},n=function(a,b,d,e,l){b=b||"/";l=l||0;var m=[],q=g.type(a);"object"===q&&f(a)&&(q="invalid");
if("object"===q||"array"===q){e&&(a=ContextHub.Utils.JSON.tree.cleanup(a));for(var r in a)if(a.hasOwnProperty(r)){q=a[r];var t=b+r,x=g.type(q);m.push(t);"object"===x&&f(q)&&(x="invalid");"object"!==x&&"array"!==x||g.merge(m,n(q,t+"/",null,e,l+1))}}return 0===l?"function"===typeof d?m.sort(d):m.sort():m};g.extend(ContextHub.Utils.JSON,{tree:{sanitizeKey:e,setItem:function(a,b,d,f){b=e(b);f&&(a=g.extend(!0,{},a));if(b){var l=a,m={};g.each(b,function(a,b){m=l;a=g.type(l[b]);"object"!==a&&"array"!==a&&
(l[b]={});l=l[b]});m[b.slice(-1)]=d}return a},getItem:b,removeItem:a,getKeys:n,cleanup:function(d,f){f&&(d=g.extend(!0,{},d));f=n(d,null,function(a,b){var d=a.split(/\//).length,f=b.split(/\//).length;return d!==f?d>f?-1:1:a===b?0:a>b?1:-1});g.each(f,function(f,e){f=b(d,e);var l=g.type(f);"object"!==l&&"array"!==l||!g.isEmptyObject(f)||(d=a(d,e))});return d},addAllItems:function(a,b){return g.extend(!0,{},a,b)}}})})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.utils - ContextHub.Utils.eventing.js");
(function(g,l){l.ContextHub.Utils=l.ContextHub.Utils||{};var e=function(){var a=g.grep([l.requestAnimationFrame,l.msRequestAnimationFrame,l.mozRequestAnimationFrame,l.webkitRequestAnimationFrame,l.oRequestAnimationFrame],g.isFunction).shift();if(!a){var b=0;a=function(a){var d=(new Date).getTime(),f=Math.max(0,16-(d-b)),e=l.setTimeout(function(){a(d+f)},f);b=d+f;return e}}return a}();(function(){var a=g.grep([l.cancelAnimationFrame,l.cancelRequestAnimationFrame,l.msCancelRequestAnimationFrame,l.mozCancelRequestAnimationFrame,
l.webkitCancelRequestAnimationFrame,l.oCancelRequestAnimationFrame],g.isFunction).shift();a||(a=function(a){l.clearTimeout(a)});return a})();var b={},a={},d=function(a,b,d){a=(a||"").replace(/^ *| *$/g,"");if(a.length){d=d||{};d.hasOwnProperty("defer")||(d.defer=this.config.defer);var f=d.defer;d=d._||{};a="/"+this.config.namespace+"/"+a;var e=ContextHub.Utils.JSON.tree.getItem(this.queue,a)||{};e.hasOwnProperty("executeAt")||(e.executeAt=null);e.hasOwnProperty("data")||(e.data=[]);for(var l in d)d.hasOwnProperty(l)&&
"undefined"===typeof e[l]&&(e[l]=d[l]);l=(new Date).getTime()+f;if(!e.executeAt||0===f||e.executeAt>l)e.executeAt=l;g.isEmptyObject(b)||e.data.push(b);this.queue=ContextHub.Utils.JSON.tree.setItem(this.queue,a,e);this.eventingCounter=f?this.eventingCounter:0;b=!0===this.queueIsEmpty;this.queueIsEmpty=!1;b&&this.eventingMonitor()}},f=function(){return this.queue},n=function(a,b){a.list.push(b.key);a.hash[b.key]=b},m=function(a){for(var b=g.extend(!0,{},a,{data:[]}),d={},f=function(a,b,f){var e=a.key||
"temp"+Math.random(),l=d[e],m=(l||{}).old||null;d[e]=g.extend(!0,{},a);d[e]._idx=parseFloat(b+"."+(f||0));l&&(d[e].old=m)},e=0;e<a.data.length;e++){var l=a.data[e],m=ContextHub.Utils.JSON.tree.getKeys(l.old),q=ContextHub.Utils.JSON.tree.getKeys(l.value);if(m.length||q.length){var r="/"===l.key?"":l.key,t=1,x;for(x=0;x<m.length;x++,t++){var z=m[x];f({key:r+z,value:null,old:ContextHub.Utils.JSON.tree.getItem(l.old,z),action:"remove"},e,t)}for(x=0;x<q.length;x++,t++)z=q[x],f({key:r+z,value:ContextHub.Utils.JSON.tree.getItem(l.value,
z),old:ContextHub.Utils.JSON.tree.getItem(l.old||{},z),action:"set"},e,t)}else m=!(!l.key||!l.action)&&!/^\/_\//.test(l.key),q=d[l.key]||{},m&&q.old===l.value?delete d[l.key]:f(l,e)}d=g.map(d,function(a){return a}).sort(function(a,b){return a._idx-b._idx});a={set:{list:[],hash:{}},removed:{list:[],hash:{}},all:{list:[],hash:{}}};g.each(d,function(a,b){delete b._idx;b.key&&b.action&&(n(this.keys.all,b),"set"===b.action&&n(this.keys.set,b),"remove"===b.action&&n(this.keys.removed,b))}.bind({keys:a}));
b.data=d;b.keys=a;return b},r=function(a){0!==a.indexOf(this.config.namespace+"-")&&(a=this.config.namespace+"-"+a);-1!==a.indexOf(".")&&(a=a.split(/\./).shift());return!0===b[a]},q=function(){this.running&&!this.queueIsEmpty&&(0===this.eventingCounter++%this.periodicity&&g.each(this.queue[this.config.namespace]||{},function(a,d){if(!d.paused&&(new Date).getTime()>d.executeAt){var f=this.config.namespace+"-"+a,e=d.duration?"("+d.duration+") ":"",n=ContextHub.debug(),q=g(this.config.broadcast);if(!this.windowBroadcast.initialized){var r=
l;var t=l.parent;try{for(;r.location.origin===t.location.origin&&(r=t,t=t.parent,r!==l.top););}catch(Z){}try{this.windowBroadcast.top=this.config.broadcast===r?null:r}catch(Z){}this.windowBroadcast.initialized=!0}r=this.windowBroadcast.top;d=m(d);d.event=f;d.overlay&&(d=g.extend(!0,d,d.overlay));delete (this.queue[this.config.namespace]||{})[a];this.queueIsEmpty=g.isEmptyObject(this.queue[this.config.namespace]);if(!d.muteWhenNoData||d.muteWhenNoData&&0<d.data.length){t=f.split(/:/);a=a.split(/:/);
for(var x=t.length;0<x;x--){d.channel=a.slice(0,x).join(":");var z=t.slice(0,x).join(":");q.trigger(z,d);if(r&&r.document){var G=r.document.createEvent("Event");G.initEvent(z,!0,!0);G.data=d;r.dispatchEvent(G)}n&&ContextHub.console.debug(ContextHub.Shared.timestamp(),z,"-",d);b[z]=!0}ContextHub.console.log(ContextHub.Shared.timestamp(),"[event]",f,e+"-",d)}}}.bind(this)),e(this.eventingMonitor))},t=function(){this.running=!0;this.eventingMonitor()},x=function(){this.running=!1},G=function(){return this.running},
z=function(){this.queue={}},E=function(a,b,d){this.queue=ContextHub.Utils.JSON.tree.setItem(this.queue,"/"+this.config.namespace+"/"+a+"/"+b,d)},B=function(a){E.call(this,a,"executeAt",0)},L=function(a){E.call(this,a,"paused",!0)},R=function(a){E.call(this,a,"paused",void 0)},U=function(a){return!0===ContextHub.Utils.JSON.tree.getItem(this.queue,"/"+this.config.namespace+"/"+a+"/paused")},W=function(a,b,d){d=d?"."+d:"";a="string"===typeof a?a.split(/ /):a;for(var f=0;f<a.length;f++){var e=a[f];0!==
e.indexOf(b+"-")&&(a[f]=b+"-"+e+d)}return a.join(" ")},C=function(b,d,f,e){b=W(b,this.config.namespace,f);g(this.config.broadcast).on(b,d);a[b]=!0;if(e){var l=!1,m=this;g.each(b.split(/ /),function(a,b){l=r.call(m,b);return!0!==l});l&&d()}},H=function(b,d,f,e){var l=!1;b=W(b,this.config.namespace,f);if(e){var m=this;g.each(b.split(/ /),function(a,b){l=r.call(m,b);return!0!==l})}l?d():(g(this.config.broadcast).one(b,d),a[b]=!0)},N=function(b,d){b=W(b,this.config.namespace,d);g(this.config.broadcast).off(b);
delete a[b]},La=function(){for(var b in a)a.hasOwnProperty(b)&&ContextHub.eventing.off(b);a={}};ContextHub.Utils.Eventing=function(b){this.config=g.extend(!0,{},ContextHub.Utils.Eventing.defaultConfig,b);this.eventingCounter=0;this.periodicity=Math.floor(Math.max(16,this.config.periodicity)/16);this.eventingMonitor=q.bind(this);this.windowBroadcast={top:null,initialized:!1};this.queue={};this.config.autoStart?t.call(this):this.running=!1;return{log:this.log,trigger:d.bind(this),getQueue:f.bind(this),
isRunning:G.bind(this),enableEventing:t.bind(this),disableEventing:x.bind(this),alreadyTriggered:r.bind(this),clearQueue:z.bind(this),flush:B.bind(this),pause:L.bind(this),resume:R.bind(this),isPaused:U.bind(this),once:H.bind(this),on:C.bind(this),off:N.bind(this),unbindAllHandlers:La.bind(this),namespace:this.config.namespace,broadcast:this.config.broadcast,handledEvents:a}};ContextHub.Utils.Eventing.defaultConfig={autoStart:!0,defer:100,periodicity:192,namespace:ContextHub.Constants.EVENT_NAMESPACE,
broadcast:l}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.utils - ContextHub.Utils.persistence.js");
(function(g,l){function e(a,b,d){this.cachedTree=null;return g.extend(!0,{},{name:a,isSupported:d||function(){return!0},getInterface:function(d){d=b.call(this,d);return{name:a,getItem:d.getItem,setItem:d.setItem,removeItem:d.removeItem,getKeys:d.getKeys,getTree:d.getTree}},_self:this})}l.ContextHub.Utils=l.ContextHub.Utils||{};var b=/^\/*store($|\/)/,a=/^\/*store\/(emulators|surferinfo|segmentation)($|\/)/;e.prototype.setItem=function(d,f,e,g){if((e||"").match(b)&&!(e||"").match(a)&&ContextHub.isOptedOut())return!1;
f=this.cachedTree||f();f=ContextHub.Utils.JSON.tree.setItem(f,e,g);d(f);this.cachedTree=f;return!0};e.prototype.getItem=function(a,b){this.cachedTree=a=this.cachedTree||a();return ContextHub.Utils.JSON.tree.getItem(a,b)};e.prototype.removeItem=function(d,f,e){if((e||"").match(b)&&!(e||"").match(a)&&ContextHub.isOptedOut())return!1;f=this.cachedTree||f();f=ContextHub.Utils.JSON.tree.removeItem(f,e);d(f);this.cachedTree=null;return!0};var d=new e("null",function(){return{setItem:function(){return!1},
getItem:function(){return{}},removeItem:function(){},getKeys:function(){return[]},getTree:function(){return{}}}}),f=function(){var a=!1;g(g.merge([this.config.mode],this.config.fallback||[])).each(function(b,d){d&&d.isSupported()&&(a=!0,this.config.mode=d);return!a}.bind(this));a||(this.config.mode=d);return a};ContextHub.Utils.Persistence=function(a){this.config=g.extend(!0,{},ContextHub.Utils.Persistence.defaultConfig,a);a=this.config.mode;a={initialized:f.call(this),usingFallback:this.config.mode!==
a,window:this.config.window,container:this.config.container};g.extend(a,this.config.mode.getInterface.call(this.config.mode._self,this.config));return a};ContextHub.Utils.Persistence.prototype.PersistenceMode=e;ContextHub.Utils.Persistence.Modes={};var n=function(a,b){var d=e.prototype.setItem.bind(this,a,b),f=e.prototype.getItem.bind(this,b);a=e.prototype.removeItem.bind(this,a,b);return{setItem:d,getItem:f,removeItem:a,getKeys:function(){var a=b();return ContextHub.Utils.JSON.tree.getKeys(a)},getTree:b}};
ContextHub.Utils.Persistence.Modes.LOCAL=new e("local",function(a){var b=a.container,d=a.window.localStorage;return n.call(this,function(a){a=ContextHub.Utils.JSON.stringify(a);d.setItem(b,a)},function(){var a=null;try{a=d.getItem(b)}catch(x){a=null}a=ContextHub.Utils.JSON.parse(a);return"object"===g.type(a)?a:{}})},function(){var a="contexthub.test."+this.name;try{var b=l.localStorage;b.setItem(a,a);var d=b.getItem(a)===a;b.removeItem(a)}catch(t){d=!1}return d});ContextHub.Utils.Persistence.Modes.SESSION=
new e("session",function(a){var b=a.container,d=a.window.sessionStorage;return n.call(this,function(a){a=ContextHub.Utils.JSON.stringify(a);d.setItem(b,a)},function(){var a=d.getItem(b);a=ContextHub.Utils.JSON.parse(a);return"object"===g.type(a)?a:{}})},function(){var a="contexthub.test."+this.name;try{var b=l.sessionStorage;b.setItem(a,a);var d=b.getItem(a)===a;b.removeItem(a)}catch(t){d=!1}return d});ContextHub.Utils.Persistence.Modes.COOKIE=new e("cookie",function(a){var b=a.container,d=ContextHub.Utils.Cookie;
return n.call(this,function(a){a=ContextHub.Utils.JSON.stringify(a);d.setItem(b,a)},function(){var a=d.getItem(b);a=ContextHub.Utils.JSON.parse(a);return"object"===g.type(a)?a:{}})},function(){var a="contexthub.test."+this.name;l.document.cookie=a+"\x3d1";var b=-1!==l.document.cookie.indexOf(a);l.document.cookie=a+"\x3d; expires\x3dThu, 01-Jan-1970 00:00:01 GMT";return b});ContextHub.Utils.Persistence.Modes.WINDOW=new e("window",function(a){var b=a.container,d=a.window;return n.call(this,function(a){var f=
ContextHub.Utils.JSON.parse(d.name);f[b]=a;d.name=ContextHub.Utils.JSON.stringify(f)},function(){var a=ContextHub.Utils.JSON.parse(d.name)[b];return"object"===g.type(a)?a:{}})});ContextHub.Utils.Persistence.defaultConfig={container:ContextHub.Constants.PERSISTENCE_CONTAINER_NAME,window:l,mode:ContextHub.Utils.Persistence.Modes.LOCAL,fallback:[ContextHub.Utils.Persistence.Modes.SESSION,ContextHub.Utils.Persistence.Modes.WINDOW]}})(ContextHubJQ,window);
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.utils - ContextHub.Utils.storeCandidates.js");
(function(g,l){l.ContextHub.Utils=l.ContextHub.Utils||{};var e={},b=function(){return!0};ContextHub.Utils.storeCandidates={registerStoreCandidate:function(a,d,f,g){a={store:a,priority:f,applies:g||b};e[d]=e[d]||[];d=e[d];d.push(a);d.sort(function(a,b){return b.priority-a.priority})},getStoreFromCandidates:function(a){var b=e[a.type]||[],f;for(f=0;f<b.length;f++){var g=b[f];if(g.applies(g.store,g.priority))return g.store}!0===a.required&&ContextHub.console.error('No suitable store implementation found for type: "'+
a.type+'".')},getRegisteredCandidates:function(a){var b=e;a&&(b=b[a]||[]);return b},getSupportedStoreTypes:function(){var a=[];g.each(e,function(b){a.push(b)});return a.sort()}}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.utils - ContextHub.Utils.inheritance.js");
(function(g){g.ContextHub.Utils=g.ContextHub.Utils||{};ContextHub.Utils.inheritance={inherit:function(g,e){g.prototype=new e;g.prototype.constructor=e;var b={},a;g.prototype.uber=function(d){b[d]=b[d]||0;var f,g,l;if(f=b[d]){for(l=e.prototype;f;)l=l.constructor.prototype,f--;l&&l[d]===a&&(l=l.constructor.prototype||{});f=l[d]}else{for(l=this;l&&!l.hasOwnProperty(d);)l=l.__proto__||l.constructor.prototype;f=l[d];f===this[d]&&(f=(l.__proto__||l.constructor.prototype)[d])}b[d]++;a=f;"function"===typeof f&&
(g=f.apply(this,Array.prototype.slice.apply(arguments,[1])));a=null;b[d]--;return g};return g},newInstance:function(g,e){return new (g.bind.apply(g,[null].concat([].slice.call(e))))}}})(window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.kernel - ContextHub.js");
(function(g,l){"undefined"===typeof l.ContextHubKernelConfig&&ContextHub.console.error("[-] ContextHub configuration is not set!");l.ContextHub=g.extend({version:"0.4.18-20190304-1526"},l.ContextHub);var e={},b=[],a=[],d=new ContextHub.Utils.Persistence,f=new ContextHub.Utils.Eventing(l.ContextHubKernelConfig.eventing),n=null,m=function(a){var b=ContextHub.persistence,d=ContextHub.Utils.JSON.tree.sanitizeKey(a);if(d){var f=d.shift();"store"===f&&(f=d.shift());if(f=ContextHub.getStore(f))b=f,a="/"+
d.join("/")}return{storage:b,storeProperty:a}},r=function(a){var b={},d=0,f=[];g.each(a,function(a,e){e&&(a=ContextHub.Utils.JSON.tree.sanitizeKey(e),"store"===a[0]?e="/"+a.slice(1).join("/"):a.unshift("store"),a="/"+a.join("/"),a=ContextHub.getItem(a),null!==a&&(d++,b=ContextHub.Utils.JSON.tree.setItem(b,e,a),f.push(e)))});b._length=d;b._keys=f;return b};g.extend(ContextHub,{persistence:d,eventing:f,registerStore:function(a,b){if("object"===g.type(b)&&(e=e||{},!e[a])){e[a]=b;ContextHub.console.timeStamp('registering "'+
a+'"');var d=b.getKeys(),f={keys:{all:{hash:{},list:d}}};g.each(d,function(a,b){f.keys.all.hash[b]=!0});this.eventing.trigger(ContextHub.Constants.EVENT_STORE_REGISTERED+":"+a,{},{defer:0,_:{action:"store-registered",store:a,registeredAt:(new Date).getTime(),overlay:f}});b.queryService||b.announceReadiness()}},getAllStores:function(){return e},getStore:function(a){return"string"===g.type(a)&&a.length?ContextHub.Utils.JSON.tree.getItem(e,a):null},set:function(a,b){this.setItem("/store/"+a,b)},get:function(a){return this.getItem("/store/"+
a)},getItem:function(a){a=m(a);return a.storage.getItem(a.storeProperty)},setItem:function(a,b){a=m(a);a.storage.setItem(a.storeProperty,b)},removeItem:function(a){a=m(a);a.storage.removeItem(a.storeProperty)},cleanAllStores:function(){var a=f.isPaused();this.eventing.pause();g.each(e,function(a,b){b.clean()});a||this.eventing.resume()},resetAllStores:function(a){var b=f.isPaused();ContextHub.isOptedOut(!0);ContextHub.eventing.pause();g.each(e,function(b,d){d.reset(a)});b||ContextHub.eventing.resume()},
sync:function(a,d,f,e){"string"===g.type(a)&&(a=[a]);var n=[];g.each(a,function(a,b){a="/"+ContextHub.Utils.JSON.tree.sanitizeKey(b).join("/");n.push(a)});a=n;d=d||function(){};f=f||function(){};var m=r(a);if(m._length===a.length)d(m);else{var q=0,t=!1;m=function(b){if(t)return!0;var e=r(a),n=null;"undefined"===g.type(b)&&(n=f);e._length===a.length&&(n=d,l.clearTimeout(q));n&&(t=!0,n(e));return t};q=l.setTimeout(m,e);b.push(m)}},bind:function(b,d,f,e){"string"===g.type(b)&&(b=[b]);var n=[];g.each(b,
function(a,b){a="/"+ContextHub.Utils.JSON.tree.sanitizeKey(b).join("/");n.push(a)});b=n;d=d||function(){};f=f||function(){};var m=r(b),q=!0;m._length===b.length&&(q=!1,d(m));var t=0;m=function(a,e){if(e){var n={};a=!0;g.each(e,function(a){n=ContextHub.Utils.JSON.tree.setItem(n,a,!0)});for(e=0;e<b.length;e++)if(ContextHub.Utils.JSON.tree.getItem(n,b[e])){a=!1;break}if(a)return}e=r(b);a=f;e._length===b.length&&(a=d,l.clearTimeout(t));a(e)};q&&(t=l.setTimeout(m,e));a.push(m)},isOptedOut:function(a){a&&
(n=null);null===n&&(n=null!==ContextHub.Utils.Cookie.getItem("cq-opt-out"));return n}});ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED,function(d,f){g.each(b||[],function(a,d){d&&d(a)&&(delete b[a],b=g.grep(b,g.isFunction))});if((a||[]).length){var e={};f.keys&&g.each(f.keys.all.list,function(a,b){e["/"+f.store+b]=!0});g.each(a||[],function(a,b){b&&b(a,e)})}},"sync-bind")})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.kernel - task.stores-initialization-watcher.js");
(function(g,l){var e={},b=l.setTimeout(function(){var a={};g.each(l.ContextHubKernelConfig.stores,function(b){e[b]||(a[b]=!0)});ContextHub.eventing.trigger(ContextHub.Constants.EVENT_STORES_PARTIALLY_READY,{},{defer:0,_:{wasReadyAt:(new Date).getTime(),storesReady:e,storesNotReady:a}});ContextHub.eventing.off(ContextHub.Constants.EVENT_STORE_READY,"initialization-watcher")},l.ContextHubKernelConfig.initializationTimeout);ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_READY,function(a,d){var f=
e[d.store]=!0;g.each(l.ContextHubKernelConfig.stores,function(a,b){!e[a]&&b.required&&(f=!1)});f&&(l.clearTimeout(b),ContextHub.console.timeStamp("contexthub initialized"),ContextHub.eventing.off(a.type,"initialization-watcher"),ContextHub.eventing.trigger(ContextHub.Constants.EVENT_ALL_STORES_READY,{},{defer:0,_:{wasReadyAt:(new Date).getTime(),stores:e}}))},"initialization-watcher")})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.generic-stores - ContextHub.Store.Core.js");
(function(g,l){l.ContextHub.Store=l.ContextHub.Store||{};var e=new ContextHub.Utils.Persistence.prototype.PersistenceMode("memory",function(b){var a=b.container,d=b.storage,f=function(){var b=("object"===g.type(d)?d:{})[a];return"object"===g.type(b)?b:{}};b=function(b){d="object"===g.type(d)?d:{};d[a]=b};var e=ContextHub.Utils.Persistence.prototype.PersistenceMode.prototype;return{setItem:e.setItem.bind(this,b,f),getItem:e.getItem.bind(this,f),removeItem:e.removeItem.bind(this,b,f),getKeys:function(){return ContextHub.Utils.JSON.tree.getKeys(f())},
getTree:f}});ContextHub.Store.Core=function(){};ContextHub.Store.Core.prototype.init=function(b,a){this.config=g.extend(!0,{},ContextHub.Store.Core.defaultConfig,a);this.name=b;this.eventChannel=ContextHub.Constants.EVENT_STORE_UPDATED+":"+this.name;this.storeDataKey="/store/"+this.name;this.data={};this.references={};this.config.persistence||(this.config.persistence=new ContextHub.Utils.Persistence({container:"data",mode:e,storage:this.data}));this.config.eventing||(b=function(){},this.config.eventing=
{trigger:b,isPaused:b,pause:b,resume:b});this.persistence=this.config.persistence;this.eventing=this.config.eventing;b=this.isEventingPaused();this.pauseEventing();g.each(this.config.initialValues||{},function(a,b){this.getItem(a)||this.setItem(a,b)}.bind(this));b||this.resumeEventing()};ContextHub.Store.Core.defaultConfig={eventDeferring:32,eventing:ContextHub.eventing,persistence:ContextHub.persistence};ContextHub.Store.Core.prototype.clean=function(){this.removeItem("/")};ContextHub.Store.Core.prototype.reset=
function(b){var a=this.isEventingPaused();this.pauseEventing();b||this.clean();this.addAllItems(this.config.initialValues||{});a||this.resumeEventing()};ContextHub.Store.Core.prototype.setItem=function(b,a,d){b=this.resolveReference(b);var f=this.getItem(b),e=!0,l=typeof a;typeof f===l&&("string"===l||"number"===l||"boolean"===l?e=f!==a:(e=ContextHub.Utils.JSON.stringify(f),l=ContextHub.Utils.JSON.stringify(a),e=e.length!==l.length||e!==l));e&&this.persistence.setItem(this.storeDataKey+"/"+b,a)&&
!(d||{}).silent&&this.eventing.trigger(this.eventChannel,{key:b,value:a,old:f,action:"set"},g.extend(!0,{defer:this.config.eventDeferring,_:{store:this.name,muteWhenNoData:!0}},d));return e};ContextHub.Store.Core.prototype.getItem=function(b){b=this.resolveReference(b);return this.persistence.getItem(this.storeDataKey+"/"+b)};ContextHub.Store.Core.prototype.removeItem=function(b,a){b=this.resolveReference(b);var d=!1,f=this.getItem(b);null!==f&&(d=!0,this.persistence.removeItem(this.storeDataKey+
"/"+b)&&!(a||{}).silent&&this.eventing.trigger(this.eventChannel,{key:b,value:null,old:f,store:this.name,action:"remove"},g.extend(!0,{defer:this.config.eventDeferring,_:{store:this.name,muteWhenNoData:!0}},a)));return d};ContextHub.Store.Core.prototype.getKeys=function(b){var a=this.persistence.getTree();a=ContextHub.Utils.JSON.tree.getItem(a,this.storeDataKey)||{};b||delete a._;return ContextHub.Utils.JSON.tree.getKeys(a)};ContextHub.Store.Core.prototype.getTree=function(b){var a=this.persistence.getItem(this.storeDataKey)||
{};b||delete a._;return a};ContextHub.Store.Core.prototype.addAllItems=function(b,a){var d=g.type(b),f=this,e=!1;"object"!==d&&"array"!==d||g.each(b,function(b,d){b=f.setItem(b,d,a);e=e||b});return e};ContextHub.Store.Core.prototype.addReference=function(b,a){b=ContextHub.Utils.JSON.tree.sanitizeKey(b);var d=ContextHub.Utils.JSON.tree.sanitizeKey(a);a=!1;b&&d&&(b="/"+b.join("/"),d="/"+d.join("/"),b!==d&&(a=!0,this.references[b]=d));return a};ContextHub.Store.Core.prototype.removeReference=function(b){var a=
ContextHub.Utils.JSON.tree.sanitizeKey(b);b=!1;a&&(b=!0,a="/"+a.join("/"),delete this.references[a]);return b};ContextHub.Store.Core.prototype.getReferences=function(){return this.references};ContextHub.Store.Core.prototype.resolveReference=function(b,a){var d="/"+ContextHub.Utils.JSON.tree.sanitizeKey(b).join("/");if(!g.isEmptyObject(this.references)&&b){b=a||5;for(var f=d;0<b&&f;){b--;f=ContextHub.Utils.JSON.tree.sanitizeKey(d);var e="";a=f.slice(0);for(var l=0;l<f.length&&!this.references[e];l++)e+=
"/"+f[l],a.shift();if(f=this.references[e])f=f+"/"+a.join("/"),f="/"+ContextHub.Utils.JSON.tree.sanitizeKey(f).join("/");d=f||d}}return d};ContextHub.Store.Core.prototype.pauseEventing=function(){this.eventing&&this.eventing.pause(this.eventChannel)};ContextHub.Store.Core.prototype.resumeEventing=function(){this.eventing&&this.eventing.resume(this.eventChannel)};ContextHub.Store.Core.prototype.isEventingPaused=function(){return this.eventing&&this.eventing.isPaused(this.eventChannel)};ContextHub.Store.Core.prototype.announceReadiness=
function(){var b=this.name,a=null;ContextHub.console.timeStamp('"'+b+'" ready');if(this instanceof ContextHub.Store.JSONPStore){var d=this.getKeys();a={keys:{all:{hash:{},list:d}}};g.each(d,function(b,d){a.keys.all.hash[d]=!0})}this.eventing.trigger(ContextHub.Constants.EVENT_STORE_READY+":"+b,{},{defer:0,_:{action:"ready",store:b,wasReadyAt:(new Date).getTime(),duration:this.duration||0,overlay:a}})};ContextHub.Store.Core.prototype.onUpdate=function(b,a){var d=this.eventChannel;if("function"===typeof a)ContextHub.eventing.on(d,
a.bind(this),b);else ContextHub.eventing.off(d,b)}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.generic-stores - ContextHub.Store.SessionStore.js");
(function(g,l){l.ContextHub.Store=l.ContextHub.Store||{};ContextHub.Store.SessionStore=function(){};ContextHub.Store.SessionStore.defaultConfig={eventDeferring:32,persistence:null,eventing:ContextHub.eventing};ContextHub.Utils.inheritance.inherit(ContextHub.Store.SessionStore,ContextHub.Store.Core);ContextHub.Store.SessionStore.prototype.init=function(e,b){this.config=g.extend(!0,{},this.config,ContextHub.Store.SessionStore.defaultConfig,b);this.uber("init",e,this.config)}})(ContextHubJQ,window);
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.generic-stores - ContextHub.Store.PersistedStore.js");
(function(g,l){l.ContextHub.Store=l.ContextHub.Store||{};ContextHub.Store.PersistedStore=function(){};ContextHub.Store.PersistedStore.defaultConfig={eventDeferring:32,persistence:ContextHub.persistence};ContextHub.Utils.inheritance.inherit(ContextHub.Store.PersistedStore,ContextHub.Store.Core);ContextHub.Store.PersistedStore.prototype.init=function(e,b){this.config=g.extend(!0,{},this.config,ContextHub.Store.PersistedStore.defaultConfig,b);this.uber("init",e,this.config)}})(ContextHubJQ,window);
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.generic-stores - ContextHub.Store.JSONPStore.js");
(function(g,l){l.ContextHub.Store=l.ContextHub.Store||{};ContextHub.Store.JSONPStore=function(){};ContextHub.Utils.inheritance.inherit(ContextHub.Store.JSONPStore,ContextHub.Store.Core);ContextHub.Store.JSONPStore.prototype.init=function(e,b){this.config=g.extend(!0,{},this.config,ContextHub.Store.JSONPStore.defaultConfig,b);b=(e||"").replace(/[^a-zA-Z0-9]/g,"");if(0===b.length||b!==e){b="x"+b;for(var a=0,d=0;d<e.length;d++)a=~~((a<<5)-a+e.charCodeAt(d));a=1E4*Math.sin(a);b+=(a-Math.floor(a)).toString(36).substr(2,
5)}this.callbackName=b;this.uber("init",e,this.config);this.setUpdateInterval()};ContextHub.Store.JSONPStore.defaultConfig={eventDeferring:32,persistence:null,eventing:ContextHub.eventing,service:null};ContextHub.Store.JSONPStore.prototype.getServiceDetails=function(){return this.config.service};ContextHub.Store.JSONPStore.prototype.configureService=function(e,b){this.config.service=b?e:g.extend(!0,{},this.config.service,e)};ContextHub.Store.JSONPStore.prototype.resolveParameter=function(e){var b=
"boolean"===g.type(e)?String(e):e,a=b||"";e=["ContextHub.Paths."];"string"===g.type(b)&&(b=a.match(/\$\{(contexthub|variable):[^}]+}/g))&&g.each(b,function(b,f){b=f.slice(2,-1).split(/:/);var d=b.shift(),e=b.shift(),r=null;"contexthub"===d&&(r=ContextHub.persistence.getItem(e));"variable"===d&&e&&g.each(this.allowedPrefix,function(a,b){(a=0===e.indexOf(b))&&(r=ContextHub.Utils.JSON.tree.getItem(l,e.replace(/\./g,"/")));return!a});a=a.replace(f,r||"")}.bind({allowedPrefix:e}));return a};ContextHub.Store.JSONPStore.prototype.getServiceURL=
function(e){var b=this.getServiceDetails(),a=[],d=[];if("object"!==g.type(b))return null;if(b.jsonp){var f=!0===b.jsonp?"callback":(""+b.jsonp).replace(/[^a-zA-Z0-9_$]/g,"");b.params=b.params||{};b.params[f]="ContextHub.Callbacks."+this.callbackName}b.port=b.port&&80===b.port?"":b.port;b.host?("undefined"===typeof b.secure||"auto"===b.secure?a.push("//"):a.push(b.secure?"https://":"http://"),a.push(b.host),a.push(b.port?":"+b.port:"")):a.push(l.location.protocol+"//"+l.location.host);b.path=b.path||
"/";f=""+(e?this.resolveParameter(b.path):b.path);a.push(f);g.each(b.params||{},function(a,b){d.push(encodeURIComponent(a)+"\x3d"+encodeURIComponent(e?this.resolveParameter(b):b))}.bind(this));d.length&&(a.push(-1===f.indexOf("?")?"?":"\x26"),a.push(d.join("\x26")));return a.join("")};ContextHub.Store.JSONPStore.prototype.queryService=function(e){var b=this.getServiceURL(!0);if(b){var a=this.config.service.jsonp||this.config.service.script,d=this.isEventingPaused(),f=this;e&&this.removeItem("_",{silent:!0});
e=this.getItem(ContextHub.Constants.SERVICE_RESPONSE_TIME_KEY)||0;var n=this.getItem(ContextHub.Constants.SERVICE_LAST_URL_KEY);e+this.config.service.ttl>(new Date).getTime()&&n===b?(this.duration="cached",this.announceReadiness()):(this.setItem(ContextHub.Constants.SERVICE_LAST_URL_KEY,b),l.ContextHub.Callbacks=l.ContextHub.Callbacks||{},ContextHub.Callbacks[this.callbackName]=this.callbackFunction.bind(this),b={url:b,timeout:this.config.service.timeout,async:this.config.service.synchronous?!1:!0,
method:this.config.service.method||"GET"},a&&g.extend(b,{dataType:"script",cache:!0}),this.pauseEventing(),this.duration=0,ContextHub.Shared.timers.start(this.name),b=g.ajax(b),a||b.done(function(a,b,d){a=ContextHub.Utils.JSON.parse(d.responseText);ContextHub.Callbacks[f.callbackName](a)}),b.fail(function(a){f.failureHandler(a)}),b.always(function(){d||f.resumeEventing();f.announceReadiness()}))}};ContextHub.Store.JSONPStore.prototype.successHandler=function(e){return e};ContextHub.Store.JSONPStore.prototype.failureHandler=
function(e){ContextHub.console.log('There was an error while accessing JSONP service in the store "'+this.name+'", configuration: ',(this.config||{}).service,", error: ",e)};ContextHub.Store.JSONPStore.prototype.callbackFunction=function(e){this.duration=ContextHub.Shared.timers.finish(this.name)+"ms";this.setItem(ContextHub.Constants.SERVICE_RESPONSE_TIME_KEY,(new Date).getTime());e=this.successHandler(e);e=g.extend(!0,e instanceof Array?[]:{},e);this.setItem(ContextHub.Constants.SERVICE_RAW_RESPONSE_KEY,
e)};ContextHub.Store.JSONPStore.prototype.getRawResponse=function(){return this.getItem(ContextHub.Constants.SERVICE_RAW_RESPONSE_KEY)||{}};ContextHub.Store.JSONPStore.prototype.reset=function(e){this.uber("reset",e);this.queryService(!1)};ContextHub.Store.JSONPStore.prototype.setUpdateInterval=function(e){e=isNaN(e)?this.config.pollInterval:e;this.intervalHandler&&(l.clearInterval(this.intervalHandler),this.intervalHandler=null);if(0<e){var b=this;this.intervalHandler=l.setInterval(function(){b.queryService(!0)},
e)}}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.generic-stores - ContextHub.Store.PersistedJSONPStore.js");
(function(g,l){l.ContextHub.Store=l.ContextHub.Store||{};ContextHub.Store.PersistedJSONPStore=function(){};ContextHub.Store.PersistedJSONPStore.defaultConfig={eventDeferring:32,persistence:ContextHub.persistence};ContextHub.Utils.inheritance.inherit(ContextHub.Store.PersistedJSONPStore,ContextHub.Store.JSONPStore);ContextHub.Store.PersistedJSONPStore.prototype.init=function(e,b){this.config=g.extend(!0,{},this.config,ContextHub.Store.PersistedJSONPStore.defaultConfig,b);this.uber("init",e,this.config)}})(ContextHubJQ,
window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.Constants.js");
(function(g){g.extend(!0,ContextHub.Constants,{EVENT_SEGMENT_REGISTERED:"segment-engine:segment-registered",EVENT_SEGMENT_UNREGISTERED:"segment-engine:segment-unregistered",EVENT_SEGMENT_UPDATED:"segment-engine:segment-updated",EVENT_SCRIPT_REGISTERED:"segment-engine:script-registered",EVENT_SCRIPT_UNREGISTERED:"segment-engine:script-unregistered",EVENT_SCRIPT_UPDATED:"segment-engine:script-updated",EVENT_TEASER_REGISTERED:"segment-engine:teaser-registered",EVENT_TEASER_UNREGISTERED:"segment-engine:teaser-unregistered",
EVENT_TEASER_LOADED:"segment-engine:teaser-loaded"})})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.js");
(function(g,l){l.ContextHub.SegmentEngine={version:"1.1.12-20190304-1523"};ContextHub.SegmentEngine.getResolvedSegments=function(e){return ContextHub.SegmentEngine.SegmentManager.getResolvedSegments(e)};ContextHub.SegmentEngine.getSegment=function(e){return ContextHub.SegmentEngine.SegmentManager.getSegment(e)};ContextHub.SegmentEngine.getComparisonOperators=function(){return ContextHub.SegmentEngine.OperatorManager.getAllOperators()};ContextHub.SegmentEngine.getObjectValue=function(e){return null===
e||void 0===e?null:e instanceof ContextHub.SegmentEngine.Operator?e.isResolved():e instanceof ContextHub.SegmentEngine.Property?e.getValue():e instanceof ContextHub.SegmentEngine.ScriptReference?e.execute():e instanceof ContextHub.SegmentEngine.SegmentReference?e.isResolved():e}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.Property.js");
(function(g,l){l.ContextHub.SegmentEngine=l.ContextHub.SegmentEngine||{};ContextHub.SegmentEngine.Property=function(e){var b=ContextHub.SegmentEngine.Property;if(!(this instanceof b))return ContextHub.Utils.inheritance.newInstance(b,arguments);e=ContextHub.Utils.JSON.tree.sanitizeKey(e);this.key="/"+e.join("/");this.storeName=e.shift();this.itemName=e.join("/")};ContextHub.SegmentEngine.Property.prototype.info={className:"Property",updateEvent:ContextHub.Constants.EVENT_STORE_UPDATED};ContextHub.SegmentEngine.Property.prototype.getKey=
function(){return this.key};ContextHub.SegmentEngine.Property.prototype.getStoreName=function(){return this.storeName};ContextHub.SegmentEngine.Property.prototype.getItemName=function(){return this.itemName};ContextHub.SegmentEngine.Property.prototype.getValue=function(){return ContextHub.get(this.key)};ContextHub.SegmentEngine.Property.prototype.toString=function(){return this.info.className+'("'+this.getKey()+'") -\x3e '+this.getValue()}})(ContextHubJQ,window);
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.Operator.js");
(function(g,l){l.ContextHub.SegmentEngine=l.ContextHub.SegmentEngine||{};ContextHub.SegmentEngine.Operator=function(e,b){var a=ContextHub.SegmentEngine.Operator;if(!(this instanceof a))return ContextHub.Utils.inheritance.newInstance(a,arguments);b=[].slice.call(arguments,1);this.operatorName=e;this.operatorArguments=b};ContextHub.SegmentEngine.Operator.prototype.getOperatorName=function(){return this.operatorName};ContextHub.SegmentEngine.Operator.prototype.getOperatorArguments=function(){return this.operatorArguments};
ContextHub.SegmentEngine.Operator.prototype.isResolved=function(){var e=!1,b=!0,a=this.getOperatorName(),d=/^and(\.|$)/.test(a),f=/^or(\.|$)/.test(a),l=this.getOperatorArguments();if((d||f)&&2>l.length){var m=l.length;0===m&&(l.push(null),l.push(null));1===m&&l.push(d?!0:null)}m=ContextHub.SegmentEngine.getObjectValue(l[0]);var r=g.type(m);r=ContextHub.SegmentEngine.OperatorManager.getOperator(a,r);var q=function(a){d&&!1===a&&(b=e=!1);f&&!0===a&&(e=!0,b=!1)};q(m);var t=l.length?l.slice(1):[null];
if(r&&b){var x=d||f?l.length:2;a=r.operatorName;t=[];for(var G=1;G<x&&b;G++){var z=ContextHub.SegmentEngine.getObjectValue(l[G]);t.push(z);q(z)}b&&(l=[m].concat([].slice.call(t)),e=r.handler.apply(this,l))}ContextHub.console.debug("    comparing:",m,a,t.length?t.join(" "+a+" "):t+"","\x3d",e);this._resolution=[a,e,[].concat.call([m],t)];return e};ContextHub.SegmentEngine.Operator.prototype.traverse=function(e,b){var a=[],d=function(d){if(!d||"function"===typeof d.isResolved)if("undefined"===typeof b||
"function"===typeof b&&b(d))a.push(d),"function"===typeof e&&e(d)};d(this);ContextHub.SegmentEngine.OperatorManager.getOperator(this.operatorName)&&g.each(this.getOperatorArguments(),function(f,l){l instanceof ContextHub.SegmentEngine.Operator?g.merge(a,l.traverse(e,b)):d(l)});return a};ContextHub.SegmentEngine.Operator.prototype.toString=function(){var e='Operator("'+this.getOperatorName()+'"';g.each(this.getOperatorArguments(),function(b,a){e+=", "+a});return e+=") -\x3e "+this.isResolved()}})(ContextHubJQ,
window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.OperatorManager.js");
(function(g,l){l.ContextHub.SegmentEngine=l.ContextHub.SegmentEngine||{};var e={};ContextHub.SegmentEngine.OperatorManager={};ContextHub.SegmentEngine.OperatorManager.register=function(b,a){"string"===typeof b&&b.length&&!/\.$/.test(b)&&(e[b]={operatorName:b,handler:a})};ContextHub.SegmentEngine.OperatorManager.unregister=function(b){delete e[b]};ContextHub.SegmentEngine.OperatorManager.unregisterAllOperators=function(){e={}};ContextHub.SegmentEngine.OperatorManager.getAllOperators=function(){return e};
ContextHub.SegmentEngine.OperatorManager.getOperator=function(b,a){var d=(b||"").split(".",2);b=d.shift();d=d.shift()||"";return e[b+"."+d]||e[b+"."+a]||e[b]||null}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.Segment.js");
(function(g,l){l.ContextHub.SegmentEngine=l.ContextHub.SegmentEngine||{};ContextHub.SegmentEngine.Segment=function(b,a){var d=ContextHub.SegmentEngine.Segment;if(!(this instanceof d))return ContextHub.Utils.inheritance.newInstance(d,arguments);d=b||{};"string"===typeof d?d={path:b}:d.length&&(d={name:d.shift(),path:d.shift(),boost:d.shift()});var f=g.trim(d.name),e=g.trim(d.path),l=parseInt(g.trim(d.boost),10)||0;0===f.length&&(f=e.split("/").pop());f=f.replace(/ /g,"-").replace(/[^a-z0-9\-]/ig,"").toLowerCase();
this.title=d.name;this.name=f;this.path=e;this.boost=l;this.register(a)};ContextHub.SegmentEngine.Segment.prototype.info={className:"Segment",updateEvent:ContextHub.Constants.EVENT_SEGMENT_UPDATED};ContextHub.SegmentEngine.Segment.prototype.register=function(b){0!==this.getPath().length&&!this.isRegistered()&&b instanceof ContextHub.SegmentEngine.Operator&&(this.cachedResult=null,this.condition=b,this.registered=this.enabled=!1,ContextHub.SegmentEngine.Dependency.findAllDependencies.call(this,this.getCondition()),
ContextHub.SegmentEngine.SegmentManager.register(this))};ContextHub.SegmentEngine.Segment.prototype.unregister=function(){this.enabled=this.registered=!1;this.condition=null;this.isResolved();ContextHub.SegmentEngine.SegmentManager.unregister(this.getPath())};ContextHub.SegmentEngine.Segment.prototype.isResolved=function(){var b=!1;if(null!==this.cachedResult)return ContextHub.console.debug('[+] Segment "'+this.getPath()+'" resolution (cached):',this.cachedResult),this.cachedResult;ContextHub.console.debug('[+] Segment "'+
this.getPath()+'" resolution:');this.isEnabled()&&this.isRegistered()&&(b=this.condition.isResolved());b!==this.cachedResult&&(this.cachedResult=b,ContextHub.eventing.trigger(this.info.updateEvent,{resolved:b,key:this.getPath(),action:"set",value:b},{defer:0,_:{resolved:b,path:this.getPath()}}));return b};var e=function(b,a){var d=b._resolution;a=a||[];if(d){var f=d.shift(),l=d.shift();d=d.shift();var m=f+" ("+l+")";f={};f[m]=d;if(a instanceof Array)a.push(f);else return f}g.each(b.operatorArguments,
function(b,d){if(d instanceof ContextHub.SegmentEngine.Operator){var f=(a instanceof Array?a[a.length-1]:a)[m];f[b]=e(d,"boolean"===typeof f[b]?{}:[])}});return a};ContextHub.SegmentEngine.Segment.prototype.debug=function(){var b=this.getCondition();if(b){var a=this.isResolved();b=e(b);ContextHub.console.debug("[todo] debug: ",a,b)}else ContextHub.console.debug('[-] [SegmentEngine] Segment "'+this.getPath()+'" is invalid.')};ContextHub.SegmentEngine.Segment.prototype.isRegistered=function(){return!0===
this.registered};ContextHub.SegmentEngine.Segment.prototype.isEnabled=function(){return!0===this.enabled};ContextHub.SegmentEngine.Segment.prototype.enable=function(){this.condition instanceof ContextHub.SegmentEngine.Operator&&(this.enabled=!0)};ContextHub.SegmentEngine.Segment.prototype.disable=function(){this.enabled=!1};ContextHub.SegmentEngine.Segment.prototype.getName=function(){return this.name};ContextHub.SegmentEngine.Segment.prototype.getTitle=function(){return this.title};ContextHub.SegmentEngine.Segment.prototype.getPath=
function(){return this.path};ContextHub.SegmentEngine.Segment.prototype.getBoost=function(){return this.boost};ContextHub.SegmentEngine.Segment.prototype.getCondition=function(){return this.condition};ContextHub.SegmentEngine.Segment.prototype.getDependencies=function(){return this.dependencyList||ContextHub.SegmentEngine.Dependency.getEmptyDependencyList()};ContextHub.SegmentEngine.Segment.prototype.onUpdate=function(b,a){var d=this.info.updateEvent;if("function"===typeof a)ContextHub.eventing.on(d,
function(a,b){b&&b.keys.all.hash[this.segment]&&this.handler()}.bind({segment:this.getPath(),handler:a}),b);else ContextHub.eventing.off(d,b)};ContextHub.SegmentEngine.Segment.prototype.toString=function(){var b='("'+this.getPath()+'", '+this.getBoost()+", "+this.getCondition()+")";return this.info.className+b+" -\x3e "+this.isResolved()}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.SegmentReference.js");
(function(g,l){l.ContextHub.SegmentEngine=l.ContextHub.SegmentEngine||{};ContextHub.SegmentEngine.SegmentReference=function(e){var b=ContextHub.SegmentEngine.SegmentReference;if(!(this instanceof b))return ContextHub.Utils.inheritance.newInstance(b,arguments);this.segmentPath=g.trim(e)};ContextHub.SegmentEngine.SegmentReference.prototype.info={className:"SegmentReference",updateEvent:ContextHub.Constants.EVENT_SEGMENT_UPDATED};ContextHub.SegmentEngine.SegmentReference.prototype.getSegmentPath=function(){return this.segmentPath};
ContextHub.SegmentEngine.SegmentReference.prototype.isResolved=function(){var e=!1,b=ContextHub.SegmentEngine.SegmentManager.getSegment(this.getSegmentPath());b&&(e=b.isResolved());return e};ContextHub.SegmentEngine.SegmentReference.prototype.toString=function(){return this.info.className+'("'+this.getSegmentPath()+'") -\x3e '+this.isResolved()}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.SegmentManager.js");
(function(g,l){l.ContextHub.SegmentEngine=l.ContextHub.SegmentEngine||{};var e={};ContextHub.SegmentEngine.SegmentManager={};ContextHub.SegmentEngine.SegmentManager.info={registerEvent:ContextHub.Constants.EVENT_SEGMENT_REGISTERED,unregisterEvent:ContextHub.Constants.EVENT_SEGMENT_UNREGISTERED};ContextHub.SegmentEngine.SegmentManager.register=function(b){if(!(b instanceof ContextHub.SegmentEngine.Segment&&b.getCondition()))return!1;e[b.getPath()]=b;b.enabled=!0;b.registered=!0;ContextHub.eventing.trigger(ContextHub.SegmentEngine.SegmentManager.info.registerEvent,
{key:b.getPath(),action:"set",value:"registered"},{defer:0});ContextHub.SegmentEngine.Dependency.dependencyMonitor(b,!0);b.isResolved();return!0};ContextHub.SegmentEngine.SegmentManager.unregister=function(b){if(b=b instanceof ContextHub.SegmentEngine.Segment?b:this.getSegment(b))b.registered=!1,b.disable(),delete e[b.getPath()],ContextHub.SegmentEngine.Dependency.dependencyMonitor(b,!1),b.cachedResult=null,b.dependencyList=ContextHub.SegmentEngine.Dependency.getEmptyDependencyList(),b.isResolved(),
ContextHub.eventing.trigger(ContextHub.SegmentEngine.SegmentManager.info.unregisterEvent,{segment:b,key:b.getPath(),action:"remove",value:"unregistered"},{defer:0})};ContextHub.SegmentEngine.SegmentManager.unregisterAllSegments=function(){g.each(e,function(b,a){a.unregister()})};ContextHub.SegmentEngine.SegmentManager.getAllSegments=function(){return e};ContextHub.SegmentEngine.SegmentManager.getSegment=function(b){return e[b]||null};ContextHub.SegmentEngine.SegmentManager.getResolvedSegments=function(b){var a=
!0===(b||{}).returnLookup,d=a?{}:[];b=ContextHub.Shared.timers.start();g.each(e,function(b,e){e.isResolved()&&(a?d[e.getPath()]=e:d.push(e))});ContextHub.console.log(ContextHub.Shared.timestamp(),"[+] checking resolved segments ("+ContextHub.Shared.timers.finish(b)+"ms)");return d};ContextHub.SegmentEngine.SegmentManager.getUnresolvedSegments=function(b){var a=!0===(b||{}).returnLookup,d=a?{}:[];b=ContextHub.Shared.timers.start();g.each(e,function(b,e){e.isResolved()||(a?d[e.getPath()]=e:d.push(e))});
ContextHub.console.log(ContextHub.Shared.timestamp(),"[+] checking unresolved segments ("+ContextHub.Shared.timers.finish(b)+"ms)");return d};ContextHub.SegmentEngine.SegmentManager.invalidateCache=function(){for(var b in e)e.hasOwnProperty(b)&&(e[b].cachedResult=null);return ContextHub.SegmentEngine.SegmentManager.getResolvedSegments()}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.ScriptReference.js");
(function(g,l){l.ContextHub.SegmentEngine=l.ContextHub.SegmentEngine||{};ContextHub.SegmentEngine.ScriptReference=function(e,b){var a=ContextHub.SegmentEngine.ScriptReference;if(!(this instanceof a))return ContextHub.Utils.inheritance.newInstance(a,arguments);b=[].slice.call(arguments,1);this.scriptName=g.trim(e);this.scriptArguments=b;this.cachedResult=null;this.dependencyList=ContextHub.SegmentEngine.Dependency.getEmptyDependencyList();for(a=0;a<this.scriptArguments.length;a++)this.dependOn(this.scriptArguments[a]);
ContextHub.SegmentEngine.Dependency.dependencyMonitor(this,!0)};ContextHub.SegmentEngine.ScriptReference.prototype.info={className:"ScriptReference",updateEvent:ContextHub.Constants.EVENT_SCRIPT_UPDATED};ContextHub.SegmentEngine.ScriptReference.prototype.dependOn=function(e){ContextHub.SegmentEngine.Dependency.addDependency.call(this,e)};ContextHub.SegmentEngine.ScriptReference.prototype.getScriptName=function(){return this.scriptName};ContextHub.SegmentEngine.ScriptReference.prototype.getScriptHandler=
function(){return ContextHub.SegmentEngine.ScriptManager.getScript(this.getScriptName())};ContextHub.SegmentEngine.ScriptReference.prototype.getScriptArguments=function(){return this.scriptArguments};ContextHub.SegmentEngine.ScriptReference.prototype.getDependencies=function(){return this.dependencyList||ContextHub.SegmentEngine.Dependency.getEmptyDependencyList()};ContextHub.SegmentEngine.ScriptReference.prototype.execute=function(){var e=null,b=this.getScriptHandler();if(null!==this.cachedResult)return this.cachedResult;
if("function"===typeof b){var a=this.getScriptArguments(),d=[];g.each(a,function(a,b){a=ContextHub.SegmentEngine.getObjectValue(b);d.push(a)});try{e=b.apply(this,d)}catch(f){ContextHub.console.error('[-] [SegmentEngine] User script "'+this.getScriptName()+'" failed:',f),e=null}}this.cachedResult!==e&&(this.cachedResult=e,ContextHub.eventing.trigger(this.info.updateEvent+":"+this.getScriptName(),{script:this,key:this.getScriptName(),action:"set",resolved:e,value:e},{defer:0,_:{result:e,scriptName:this.getScriptName()}}));
return e};ContextHub.SegmentEngine.ScriptReference.prototype.isResolved=function(){return this.execute()};ContextHub.SegmentEngine.ScriptReference.prototype.toString=function(){var e=this.info.className+'("'+this.getScriptName()+'"';g.each(this.getScriptArguments(),function(b,a){"string"===typeof a&&(a='"'+a+'"');e+=", "+a});return e+=") -\x3e "+this.execute()}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.ScriptManager.js");
(function(g,l){l.ContextHub.SegmentEngine=l.ContextHub.SegmentEngine||{};var e={};ContextHub.SegmentEngine.ScriptManager={};ContextHub.SegmentEngine.ScriptManager.register=function(a,b){"string"===typeof a&&a.length&&"function"===typeof b&&(e[a]=b,ContextHub.eventing.trigger(ContextHub.Constants.EVENT_SCRIPT_REGISTERED,{key:a,action:"set",value:"registered"},{defer:0}))};ContextHub.SegmentEngine.ScriptManager.unregister=function(a){this.isRegistered(a)&&ContextHub.eventing.trigger(ContextHub.Constants.EVENT_SCRIPT_UNREGISTERED,
{key:a,action:"remove",value:"unregistered"},{defer:0});delete e[a]};ContextHub.SegmentEngine.ScriptManager.unregisterAllScripts=function(){g.each(this.getAllScripts(),function(a){this.unregister(a)}.bind(this))};ContextHub.SegmentEngine.ScriptManager.getAllScripts=function(){return e};var b=function(a){ContextHub.console.error('[-] [SegmentEngine] User script "'+a+'" not found.');return function(){return null}};ContextHub.SegmentEngine.ScriptManager.getScript=function(a){return e[a]||b(a)};ContextHub.SegmentEngine.ScriptManager.isRegistered=
function(a){return!!e[a]}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine - ContextHub.SegmentEngine.Dependency.js");
(function(g,l){l.ContextHub.SegmentEngine=l.ContextHub.SegmentEngine||{};ContextHub.SegmentEngine.Dependency={};ContextHub.SegmentEngine.Dependency.allowedDependencies=[ContextHub.SegmentEngine.SegmentReference,ContextHub.SegmentEngine.ScriptReference,ContextHub.SegmentEngine.Property];ContextHub.SegmentEngine.Dependency.getEmptyDependencyList=function(){var b={};g.each(ContextHub.SegmentEngine.Dependency.allowedDependencies,function(a,d){b[d.prototype.info.className]={keys:[],updateEvent:null}});
return b};ContextHub.SegmentEngine.Dependency.addDependency=function(b){if(b){this.dependencyList=this.dependencyList||ContextHub.SegmentEngine.Dependency.getEmptyDependencyList();var a=null;if(b instanceof ContextHub.SegmentEngine.Property){var d=b.getKey();a=d.replace(/(^\/|\/$)/g,"").split(/\//).shift()||null}else d=b instanceof ContextHub.SegmentEngine.ScriptReference?b.getScriptName():b instanceof ContextHub.SegmentEngine.SegmentReference?b.getSegmentPath():null;if(d){var f=this.dependencyList[b.info.className];
f[d]||(f[d]=!0,f.keys.push(d));f.variant=b.info.className;f.updateEvent=b.info.updateEvent;a&&(f.stores=f.stores||{},f.stores[a]=!0)}}};ContextHub.SegmentEngine.Dependency.findAllDependencies=function(b){var a=(b||{}).operatorArguments;if(a){b=Math.min(a.length,/^(and|or)(\.|$)/.test(b.operatorName)?Number.MAX_VALUE:2);var d;for(d=0;d<b;d++){var f=a[d];f instanceof ContextHub.SegmentEngine.Operator?ContextHub.SegmentEngine.Dependency.findAllDependencies.call(this,f):ContextHub.SegmentEngine.Dependency.addDependency.call(this,
f)}}};var e=function(b,a){b=this.getDependencies();var d=null;a.channel===ContextHub.SegmentEngine.SegmentReference.prototype.info.updateEvent?d=b.SegmentReference:a.channel===ContextHub.SegmentEngine.ScriptReference.prototype.info.updateEvent?d=b.ScriptReference:a.channel===ContextHub.SegmentEngine.Property.prototype.info.updateEvent?d=b.Property:ContextHub.console.error("[-] [SegmentEngine] Unsupported event type:",a.channel);d&&ContextHub.SegmentEngine.Dependency.isMatching(a,d)&&(this.cachedResult=
null,this.isResolved())};ContextHub.SegmentEngine.Dependency.dependencyMonitor=function(b,a){if(b instanceof ContextHub.SegmentEngine.Segment||b instanceof ContextHub.SegmentEngine.ScriptReference){var d=(b.getPath||b.getScriptName).call(b).replace(/[^a-z]/ig,""),f=b.getDependencies(),g=[],l;for(l in f)if(f.hasOwnProperty(l)){var r=f[l];r.keys.length&&g.push(r.updateEvent)}if(g.length)if(g=g.join(" "),a)ContextHub.eventing.on(g,e.bind(b),d);else ContextHub.eventing.off(g,d)}};ContextHub.SegmentEngine.Dependency.isMatching=
function(b,a){var d=ContextHub.SegmentEngine.Dependency[(a||{}).variant+"Handler"];return"function"===typeof d?d.call(this,b,a):!1};ContextHub.SegmentEngine.Dependency.SegmentReferenceHandler=function(b,a){for(var d=0;d<a.keys.length;d++)if(b.keys.all.hash[a.keys[d]])return!0;return!1};ContextHub.SegmentEngine.Dependency.ScriptReferenceHandler=function(b,a){for(var d=0;d<a.keys.length;d++)if(b.keys.all.hash[a.keys[d]])return!0;return!1};ContextHub.SegmentEngine.Dependency.PropertyHandler=function(b,
a){if(a.stores[b.store])for(var d=0;d<a.keys.length;d++){var f=a.keys[d];f=f.substr(f.indexOf("/",1));if(b.keys.all.hash[f])return!0}return!1}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.operators - Operator.and.js");(function(){ContextHub.SegmentEngine.OperatorManager.register("and",function(g,l){return!(!g||!l)})})();ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.operators - Operator.or.js");
(function(){ContextHub.SegmentEngine.OperatorManager.register("or",function(g,l){return!(!g&&!l)})})();ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.operators - Operator.equal.js");
(function(g){var l=function(e){"boolean"!==typeof e&&(e=/^true$/i.test(g.trim(String(e))));return e};ContextHub.SegmentEngine.OperatorManager.register("equal",function(e,b){return e===b});ContextHub.SegmentEngine.OperatorManager.register("equal.string",function(e,b){e=String(e);b=String(b);return e===b});ContextHub.SegmentEngine.OperatorManager.register("equal.number",function(e,b){e=Number(String(e)||void 0);b=Number(String(b)||void 0);return e===b});ContextHub.SegmentEngine.OperatorManager.register("equal.boolean",
function(e,b){e=l(e);b=l(b);return e===b});ContextHub.SegmentEngine.OperatorManager.register("equal.date",function(e,b){e=new Date(e||void 0);b=new Date(b||void 0);return Number(e)===Number(b)});ContextHub.SegmentEngine.OperatorManager.register("equal.regexp",function(e,b){var a=!1;"string"===typeof e&&b&&(b instanceof RegExp||(b=new RegExp(b)),a=b.test(e));return a})})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.operators - Operator.not-equal.js");
(function(g){var l=function(e){return function(){return!e.apply(this,arguments)}};g.each(ContextHub.SegmentEngine.OperatorManager.getAllOperators(),function(e,b){/^equal(\.|$)/.test(e)&&ContextHub.SegmentEngine.OperatorManager.register("not-"+e,l(b.handler))})})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.operators - Operator.less-than.js");
(function(){ContextHub.SegmentEngine.OperatorManager.register("less-than",function(g,l){return g<l});ContextHub.SegmentEngine.OperatorManager.register("less-than.string",function(g,l){g=String(g);l=String(l);return g<l});ContextHub.SegmentEngine.OperatorManager.register("less-than.number",function(g,l){g=Number(String(g)||void 0);l=Number(String(l)||void 0);return g<l});ContextHub.SegmentEngine.OperatorManager.register("less-than.date",function(g,l){g=new Date(g||void 0);l=new Date(l||void 0);return Number(g)<
Number(l)})})();ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.operators - Operator.less-than-or-equal.js");
(function(g){var l=function(a,b){ContextHub.console.error("[-] [SegmentEngine] Comparison operator not found:",a+(b?"."+b:""));return function(){return!1}},e=function(a,b){return(ContextHub.SegmentEngine.OperatorManager.getOperator(a,b)||{}).handler||l(a,b)},b=function(a){var b=e("less-than",a),f=e("equal",a);return function(){return b.apply(this,arguments)||f.apply(this,arguments)}};g.each(ContextHub.SegmentEngine.OperatorManager.getAllOperators(),function(a){if(/^less-than(\.|$)/.test(a)){var d=
a.split(".",2);a=d.shift();d=d.shift();a=a.replace("less-than","less-than-or-equal");d&&(a+="."+d);ContextHub.SegmentEngine.OperatorManager.register(a,b(d))}})})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.operators - Operator.greater-than.js");
(function(){ContextHub.SegmentEngine.OperatorManager.register("greater-than",function(g,l){return g>l});ContextHub.SegmentEngine.OperatorManager.register("greater-than.string",function(g,l){g=String(g);l=String(l);return g>l});ContextHub.SegmentEngine.OperatorManager.register("greater-than.number",function(g,l){g=Number(String(g)||void 0);l=Number(String(l)||void 0);return g>l});ContextHub.SegmentEngine.OperatorManager.register("greater-than.date",function(g,l){g=new Date(g||void 0);l=new Date(l||
void 0);return Number(g)>Number(l)})})();ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.operators - Operator.greater-than-or-equal.js");
(function(g){var l=function(a,b){ContextHub.console.error("[-] [SegmentEngine] Comparison operator not found:",a+(b?"."+b:""));return function(){return!1}},e=function(a,b){return(ContextHub.SegmentEngine.OperatorManager.getOperator(a,b)||{}).handler||l(a,b)},b=function(a){var b=e("greater-than",a),f=e("equal",a);return function(){return b.apply(this,arguments)||f.apply(this,arguments)}};g.each(ContextHub.SegmentEngine.OperatorManager.getAllOperators(),function(a){if(/^greater-than(\.|$)/.test(a)){var d=
a.split(".",2);a=d.shift();d=d.shift();a=a.replace("greater-than","greater-than-or-equal");d&&(a+="."+d);ContextHub.SegmentEngine.OperatorManager.register(a,b(d))}})})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - PageInteraction.js");
(function(g,l){l.ContextHub.SegmentEngine.PageInteraction=l.ContextHub.SegmentEngine.PageInteraction||{};ContextHub.SegmentEngine.PageInteraction={};ContextHub.SegmentEngine.PageInteraction.info={propertyHolder:"data-contexthub-property",processorHolder:"data-processor",defaultHolder:"data-default-value"};ContextHub.SegmentEngine.PageInteraction.getPropertyPlaceholders=function(e){var b="["+ContextHub.SegmentEngine.PageInteraction.info.propertyHolder+(e?'^\x3d"%1"]':"]");e=g([b.replace(/%1/,"/"+e),
b.replace(/%1/,e)].join(", "));var a=[];g.each(e,function(b,f){b=ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder(f);b.isValid()&&a.push(b)});return a}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - PageInteraction.PropertyPlaceholder.js");
(function(g,l){l.ContextHub.SegmentEngine.PageInteraction=l.ContextHub.SegmentEngine.PageInteraction||{};var e=function(){var b=this.element.attr(ContextHub.SegmentEngine.PageInteraction.info.propertyHolder);this.element&&b?(b=ContextHub.Utils.JSON.tree.sanitizeKey(b),this.storeName=b.shift(),this.propertyName="/"+b.join("/"),this.keyName="/"+this.storeName+this.propertyName,this.defaultValue=g.trim(this.element.attr(ContextHub.SegmentEngine.PageInteraction.info.defaultHolder)||""),this.processors=
[],g.each((this.element.attr(ContextHub.SegmentEngine.PageInteraction.info.processorHolder)||"").split(/,/),function(a,b){a=g.trim(b);a.length&&this.processors.push(a)}.bind(this))):(this.defaultValue=this.propertyName=this.keyName=this.storeName=null,this.processors=[])};ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder=function(b){var a=ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder;if(!(this instanceof a))return ContextHub.Utils.inheritance.newInstance(a,arguments);this.element=
g(b);e.call(this)};ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder.prototype.update=function(b){e.call(this);var a=this.getValueProcessors();b||(b=ContextHub.get(this.getKey()));b&&""!==b||(b=this.getDefaultValue());for(var d=0;d<a.length;d++){var f=ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.getProcessor(a[d]);b=g.trim(f.handler.call(this,b))}this.element.val()!==b&&this.element.text(b)};ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder.prototype.getPropertyName=
function(){e.call(this);return this.propertyName||""};ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder.prototype.getKey=function(){e.call(this);return this.keyName||""};ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder.prototype.getDefaultValue=function(){e.call(this);return this.defaultValue||""};ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder.prototype.getValueProcessors=function(){return this.processors||[]};ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder.prototype.isValid=
function(){return!!this.propertyName}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - PageInteraction.PropertyProcessor.js");
(function(g,l){l.ContextHub.SegmentEngine.PageInteraction=l.ContextHub.SegmentEngine.PageInteraction||{};var e={};ContextHub.SegmentEngine.PageInteraction.PropertyProcessor={};ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.register=function(a,b){"string"===typeof a&&a.length&&(e[a]={processorName:a,handler:b})};ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.unregister=function(a){delete e[a]};ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.unregisterAllProcessors=
function(){e={}};ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.getAllProcessors=function(){return e};var b={processorName:"default",handler:function(a){return a}};ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.getProcessor=function(a){return e[a]||b}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - PageInteraction.Teaser.js");
(function(g,l){l.ContextHub.SegmentEngine.PageInteraction=l.ContextHub.SegmentEngine.PageInteraction||{};var e={analytics:1,design:1,disabled:1,preview:1,read_only:1},b=function(a){var b=a;if("ui"===ContextHub.Constants.MODE){var f=/[?&]wcmmode=([^&#]*)/.exec(l.location.href);f=f&&1<f.length?(f[1]||"").toLowerCase():ContextHub.Utils.Cookie.getItem("wcmmode");e[f]&&(b+=(-1===a.indexOf("?")?"?":"\x26")+"wcmmode\x3d"+f)}return b};ContextHub.SegmentEngine.PageInteraction.Teaser=function(a){var b=ContextHub.SegmentEngine.PageInteraction.Teaser;
if(!(this instanceof b))return ContextHub.Utils.inheritance.newInstance(b,arguments);a=a||{};this.details={locationId:g.trim(a.locationId),variants:a.variants||[],strategy:g.trim(a.strategy),trackingURL:g.trim(a.trackingURL)};this.register()};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.info={className:"Teaser",loadEvent:ContextHub.Constants.EVENT_TEASER_LOADED};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.register=function(){this.details.locationId.length&&this.details.variants.length&&
!this.isRegistered()&&(this.registered=ContextHub.SegmentEngine.PageInteraction.TeaserManager.register(this))};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.unregister=function(){this.registered=!1;ContextHub.SegmentEngine.PageInteraction.TeaserManager.unregister(this)};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.updatePlaceholder=function(){var a=this.getBestCandidate(),d=null;if(a){var f=this.currentlyLoaded||{};d=b(a.url);if(f.path===a.path&&f.url===d)return}a?(this.currentlyLoaded=
g.extend(!0,{},a,{url:d}),this.getVariantContent(d,function(b){g("#"+this.details.locationId).html(b);ContextHub.eventing.trigger(ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.info.loadEvent,{teaser:this,variant:a,key:this.details.locationId,action:"set",value:"loaded"},{defer:0})}.bind(this))):delete this.currentlyLoaded};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.getVariantContent=function(a,b,f){var d=ContextHub.SegmentEngine.PageInteraction.Cache.get(a);d?b.call(this,
d.content,d.status,d.xhr):(d=g.ajax({url:a,async:!0}),d.done(function(d,f,e){ContextHub.SegmentEngine.PageInteraction.Cache.set(a,{content:d,status:f,xhr:e,url:a});b.call(this,d,f,e)}),"function"===typeof f&&d.fail(function(a){f.call(this,a)}))};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.getBestCandidate=function(){for(var a=null,b=[],f=[],e=ContextHub.SegmentEngine.SegmentManager.getResolvedSegments({returnLookup:!0}),g=this.details.variants,l=0;l<g.length;l++){var q=g[l],t=q.segments||
[],x=!1,G=!1;q.boost=0;if(0===t.length)G=x=!0;else for(var z=0;z<t.length;z++){var E=e[t[z]];"undefined"!==typeof E&&(x=!0,q.boost=Math.max(q.boost,E.boost||0))}x&&(G?f:b).push(q)}if(0===b.length||"random"===this.details.strategy)b=[].concat.call(b,f);b.length&&(b.sort(function(a,b){return b.boost-a.boost}),a=ContextHub.SegmentEngine.PageInteraction.StrategyManager.chooseCandidate(b,this.details.strategy));return a};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.getCurrentlyLoaded=function(){return this.currentlyLoaded||
null};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.isRegistered=function(){return!0===this.registered};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.getTeaserId=function(){return this.details.locationId};ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.toString=function(){var a=[];g.each(a,function(b,f){a.push(b+': "'+f+'"')});return this.info.className+"("+a.join(", ")+")"}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - PageInteraction.TeaserManager.js");
(function(g,l){l.ContextHub.SegmentEngine.PageInteraction=l.ContextHub.SegmentEngine.PageInteraction||{};var e={};ContextHub.SegmentEngine.PageInteraction.TeaserManager={};ContextHub.SegmentEngine.PageInteraction.TeaserManager.info={registerEvent:ContextHub.Constants.EVENT_TEASER_REGISTERED,unregisterEvent:ContextHub.Constants.EVENT_TEASER_UNREGISTERED};ContextHub.SegmentEngine.PageInteraction.TeaserManager.register=function(b){if(!(b instanceof ContextHub.SegmentEngine.PageInteraction.Teaser))return!1;
e[b.getTeaserId()]=b;ContextHub.eventing.trigger(ContextHub.SegmentEngine.PageInteraction.TeaserManager.info.registerEvent,{teaser:b,key:b.getTeaserId(),action:"set",value:"registered"},{defer:0});return!0};ContextHub.SegmentEngine.PageInteraction.TeaserManager.unregister=function(b){if(b=b instanceof ContextHub.SegmentEngine.PageInteraction.Teaser?b:this.getTeaser(b))b.registered=!1,delete e[b.getTeaserId()],ContextHub.eventing.trigger(ContextHub.SegmentEngine.PageInteraction.TeaserManager.info.unregisterEvent,
{teaser:b,key:b.getTeaserId(),action:"remove",value:"unregistered"},{defer:0})};ContextHub.SegmentEngine.PageInteraction.TeaserManager.unregisterAllTeasers=function(){g.each(e,function(b,a){a.unregister()})};ContextHub.SegmentEngine.PageInteraction.TeaserManager.getAllTeasers=function(){return e};ContextHub.SegmentEngine.PageInteraction.TeaserManager.getTeaser=function(b){return e[b]||null};ContextHub.SegmentEngine.PageInteraction.TeaserManager.refreshAllTeasers=function(b){b&&ContextHub.SegmentEngine.SegmentManager.invalidateCache();
for(var a in e)e.hasOwnProperty(a)&&e[a].updatePlaceholder()}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - PageInteraction.StrategyManager.js");
(function(g,l){l.ContextHub.SegmentEngine.PageInteraction=l.ContextHub.SegmentEngine.PageInteraction||{};var e={};ContextHub.SegmentEngine.PageInteraction.StrategyManager={};ContextHub.SegmentEngine.PageInteraction.StrategyManager.register=function(a,b,f){"string"===typeof a&&a.length&&(e[a]={strategyName:a,displayName:b,handler:f})};ContextHub.SegmentEngine.PageInteraction.StrategyManager.unregister=function(a){delete e[a]};ContextHub.SegmentEngine.PageInteraction.StrategyManager.unregisterAllStrategies=
function(){e={}};ContextHub.SegmentEngine.PageInteraction.StrategyManager.getAllStrategies=function(){return e};var b={strategyName:"default",displayName:"Default (first teaser candidate)",handler:function(a){return(a||[])[0]||null}};ContextHub.SegmentEngine.PageInteraction.StrategyManager.getStrategy=function(a){return e[a]||b};ContextHub.SegmentEngine.PageInteraction.StrategyManager.chooseCandidate=function(a,b){return ContextHub.SegmentEngine.PageInteraction.StrategyManager.getStrategy(b).handler.call(this,
a)}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - PageInteraction.Cache.js");
(function(g,l){l.ContextHub.SegmentEngine.PageInteraction=l.ContextHub.SegmentEngine.PageInteraction||{};var e={};ContextHub.SegmentEngine.PageInteraction.Cache={};ContextHub.SegmentEngine.PageInteraction.Cache.set=function(b,a){e[b]=a};ContextHub.SegmentEngine.PageInteraction.Cache.get=function(b){return e[b]||null};ContextHub.SegmentEngine.PageInteraction.Cache.getAllItems=function(){return e||{}};ContextHub.SegmentEngine.PageInteraction.Cache.clear=function(b){delete e[b]};ContextHub.SegmentEngine.PageInteraction.Cache.clearAllItems=
function(){e={}}})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - util.case-manipulation.js");
(function(){ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.register("lower-case",function(g){return String(g).toLowerCase()});ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.register("upper-case",function(g){return String(g).toUpperCase()});ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.register("title-case",function(g){return String(g).toLowerCase().replace(/(^| )+(.)/g,function(g){return g.toUpperCase()})})})();
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - util.number-formatting.js");(function(){ContextHub.SegmentEngine.PageInteraction.PropertyProcessor.register("timestamp-to-date",function(g){var l=function(e){return(9>=e?"0":"")+e};g=new Date(1E3*g);g=isNaN(g.getMilliseconds())?new Date:g;return[[g.getFullYear(),l(g.getMonth()+1),l(g.getDay())].join("-"),[l(g.getHours()),l(g.getMinutes()),l(g.getSeconds())].join(":")].join(" ")})})();
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - task.page-update-watcher.js");
(function(g,l){var e=l.MutationObserver||l.WebKitMutationObserver;if(e){var b={childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0,attributeFilter:[ContextHub.SegmentEngine.PageInteraction.info.propertyHolder,ContextHub.SegmentEngine.PageInteraction.info.defaultHolder,ContextHub.SegmentEngine.PageInteraction.info.processorHolder]};g(function(){(new e(function(a){for(var b="["+ContextHub.SegmentEngine.PageInteraction.info.propertyHolder+"]",f=[],e=0;e<
a.length;e++){var l=a[e];g.merge(f,g(l.addedNodes).filter(b));l.attributeName&&l.target&&f.push(l.target)}g.each(g.unique(f),function(a,b){a=ContextHub.SegmentEngine.PageInteraction.PropertyPlaceholder(b);a.isValid()&&a.update()})})).observe(l.document.body,b)})}g(function(){var a=ContextHub.SegmentEngine.PageInteraction.getPropertyPlaceholders();g.each(a,function(a,b){b.isValid()&&b.update()})})})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - task.data-update-watcher.js");
(function(g){ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED,function(l,e){l=ContextHub.SegmentEngine.PageInteraction.getPropertyPlaceholders((e||{}).store);g.each(l,function(b,a){var d=a.getPropertyName();b=this.eventData.keys.set.hash[d];d=this.eventData.keys.removed.hash[d];var f=b?b.value:void 0;(b||d)&&a.update(f)}.bind({eventData:e}))},"page-interaction",!0)})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - task.teaser-update.js");
(function(g){var l=0,e=function(){var a=ContextHub.SegmentEngine.PageInteraction.TeaserManager.getAllTeasers();g.each(a,function(a,b){b.isRegistered()&&b.updatePlaceholder()})},b=function(){80<=(new Date).getTime()-l?(e(),l=0):window.requestAnimationFrame(b)};ContextHub.eventing.once([ContextHub.Constants.EVENT_ALL_STORES_READY,ContextHub.Constants.EVENT_STORES_PARTIALLY_READY],function(){var a=[ContextHub.Constants.EVENT_SEGMENT_UPDATED,ContextHub.Constants.EVENT_STORE_UPDATED+":campaign",ContextHub.Constants.EVENT_TEASER_REGISTERED];
ContextHub.eventing.off(a,"teaser-updater");ContextHub.eventing.on(a,function(){var a=0===l;l=(new Date).getTime()+80;a&&b()},"teaser-updater",!0)},"teaser-initialization",!0)})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - strategy.first.js");(function(){ContextHub.SegmentEngine.PageInteraction.StrategyManager.register("first","First candidate",function(g){return(g||[])[0]||null})})();
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - strategy.last.js");(function(){ContextHub.SegmentEngine.PageInteraction.StrategyManager.register("last","Last candidate",function(g){var l;g&&(l=g[g.length-1]);return l||null})})();ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.segment-engine.page-interaction - strategy.random.js");
(function(){ContextHub.SegmentEngine.PageInteraction.StrategyManager.register("random","Random",function(g){var l;g&&(l=g[Math.floor(Math.random()*g.length)]);return l||null})})();ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.contexthub.geolocation - store.geolocation-basic.js");
(function(g,l){var e={html5coordinatesDiscoveryAPI:{timeout:3E4,ttl:9E5,highAccuracy:!1},initialValues:{latitude:37.331375,longitude:-121.893992}},b=function(a,b){this.config=g.extend(!0,{},e,b);this.init(a,this.config);g.extend(this.config.html5coordinatesDiscoveryAPI,{location:this.config.initialValues});this.updateLocationModule()};ContextHub.Utils.inheritance.inherit(b,ContextHub.Store.PersistedStore);b.prototype.getCoordinates=function(){var a=g.Deferred();if(!l.navigator.geolocation)return a.reject();
var b=this.config.html5coordinatesDiscoveryAPI;l.navigator.geolocation.getCurrentPosition(a.resolve,a.reject,{maximumAge:b.ttl,timeout:b.timeout,enableHighAccuracy:b.highAccuracy});return a.promise()};b.prototype.loadCurrentLocation=function(){var a=this;g.when(this.getCoordinates()).then(function(b){a.loadLocation(b.coords||{})})};b.prototype.loadLocation=function(a){a=a||{};g.isNumeric(a.latitude)&&g.isNumeric(a.longitude)&&(this.storeLocation(a,{}),this.updateLocationModule())};b.prototype.storeLocation=
function(a,b){a=g.extend(b,a);this.setItem("latitude",parseInt(1E6*a.latitude,10)/1E6);this.setItem("longitude",parseInt(1E6*a.longitude,10)/1E6)};b.prototype.areCoordinatesSet=function(){return g.isNumeric(this.getItem("latitude"))&&g.isNumeric(this.getItem("longitude"))};b.prototype.updateLocationModule=function(){var a=this,b=!0;b&&!this.areCoordinatesSet()&&(b=!1);b||g.when(this.getCoordinates()).then(function(b){a.storeLocation(b.coords||{},a.config.html5coordinatesDiscoveryAPI.location)},function(){a.storeLocation({},
a.config.html5coordinatesDiscoveryAPI.location)})};ContextHub.Utils.storeCandidates.registerStoreCandidate(b,"contexthub.geolocation",10,function(){var a=ContextHub.Utils.JSON.tree.getItem(l.ContextHubKernelConfig||{},"stores/geolocation/config/geocoder")||{enabled:!1};return"geolocation"in l.navigator&&!a.enabled})})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.contexthub.geolocation - store.geolocation.js");
(function(g,l){var e={service:{jsonp:!1,timeout:1E3,ttl:18E5,secure:"https:"===l.location.protocol,host:"maps.googleapis.com",port:80,path:"/maps/api/geocode/json"},geocoder:{enabled:!1},eventDeferring:16,html5coordinatesDiscoveryAPI:{timeout:3E4,ttl:9E5,highAccuracy:!1},signatureGenerator:ContextHub.Paths.CONTEXTHUB_PATH+"/geolocation.signature.json",initialValues:{defaultLocation:{latitude:37.331375,longitude:-121.893992,address:{country:"United States",countryCode:"US",city:"San Jose",street:"Almaden Blvd",
streetNumber:"151",region:"CA",name:"151 Almaden Blvd, San Jose, CA 95113, USA",postalCode:"95113"},addressDetailsOf:{latitude:37.331375,longitude:-121.893992}}}},b=function(a,b){this.config=g.extend(!0,{},e,b);g.extend(this.config.service,{params:{sensor:!1,latlng:"${contexthub:/store/"+a+"/latitude},${contexthub:/store/"+a+"/longitude}"}});this.init(a,this.config);this.useGeocoder=!0===this.config.geocoder.enabled&&"ui"===ContextHub.Constants.MODE;d(this);this.useGeocoder||(this.announceReadiness(),
this.removeItem("/address"));ContextHub.eventing.on("ui-container-opened",function(){this.queryService(!1,!0)}.bind(this),"geocoder-trigger",!0);this.queryService(!1,!0)},a=function(a){a&&a.loadLocation({latitude:a.getItem("latitude"),longitude:a.getItem("longitude")})},d=function(b){var d={latitude:!0,longitude:!0};b.onUpdate("data-synchronization",function(f,e){if(l.ClientContext){var m=!1;b.synchronizationLock=!0;g.each(e.keys.all.hash,function(a,b){a=a.replace(/^\//,"");-1===a.indexOf("_/")&&
(ClientContext.set("geolocation/"+a,b.value),m=m||d[a])});delete b.synchronizationLock;m&&a(b)}});var f=function(a){a&&a.addListener("update",function(a,d){b.synchronizationLock||"string"!==typeof d||(a=this.getProperty(d),b.setItem(d,a))})};if(l.CQ_Analytics&&CQ_Analytics.ClientContextMgr){var e=function(){var a=CQ_Analytics.ClientContextMgr.getRegisteredStore("geolocation");if(a){var d={generatedThumbnail:!0};b.synchronizationLock=!0;g.each(b.getKeys(),function(f,e){f=e.replace(/^\//,"");e=b.getItem(e);
"object"!==typeof e&&(d[f]=!0,a.setProperty(f,e))});g.each(a.getData(),function(b){d[b]||a.removeProperty(b)});delete b.synchronizationLock}return a};if(CQ_Analytics.ClientContextMgr.getRegisteredStore("geolocation")){var q=e();f(q)}else CQ_Analytics.ClientContextMgr.addListener("storeregister",function(a,b){"geolocation"===b.STORENAME&&(a=e(),f(a))})}};ContextHub.Utils.inheritance.inherit(b,ContextHub.Store.PersistedJSONPStore);b.prototype.getCoordinates=function(){var a=g.Deferred();if(!l.navigator.geolocation)return a.reject();
l.navigator.geolocation.getCurrentPosition(a.resolve,a.reject,{maximumAge:this.config.html5coordinatesDiscoveryAPI.ttl,timeout:this.config.html5coordinatesDiscoveryAPI.timeout,enableHighAccuracy:this.config.html5coordinatesDiscoveryAPI.highAccuracy});return a.promise()};b.prototype.generateSignature=function(a,b){if(this.useGeocoder&&ContextHub.UI&&ContextHub.UI.Container.isExpanded()){var d=this.getItem("addressDetailsOf")||{},f=this.getItem("latitude"),e=this.getItem("longitude");if(d.latitude!==
f||d.longitude!==e)if((d=this.config.initialValues.defaultLocation)&&f===d.latitude&&e===d.longitude)this.setItem("address",d.address),this.setItem("addressDetailsOf",d.addressDetailsOf);else{delete this.config.service.params.client;delete this.config.service.params.signature;delete this.config.service.params.channel;f=this.getServiceURL(!0);f=f.replace(/^https?:\/\/[^/]*/,"");var l=this;g.ajax({url:this.config.signatureGenerator,method:"get",dataType:"json",cache:!1,data:{url:f}}).done(function(d,
f,e){e&&e.responseJSON?(d=l.config.service.params,d.client=e.responseJSON.client||"",d.channel=e.responseJSON.channel||"",d.signature=e.responseJSON.signature||"",a()):"function"===typeof b&&b()}).fail(b)}}};b.prototype.loadCurrentLocation=function(){var a=this;g.when(this.getCoordinates()).then(function(b){a.loadLocation(b.coords||{})})};b.prototype.loadLocation=function(a){a=a||{};(e.initialValues.latitude!==a.latitude||e.initialValues.longitude!==a.longitude)&&g.isNumeric(a.latitude)&&g.isNumeric(a.longitude)&&
(this.storeLocation(a,{}),this.queryService(!1,!0))};b.prototype.successHandler=function(a){if(a&&"OK"===a.status){var b=null,d=null,f=null,e=null,l=null,x=null,G=null,z=null;g.each((a.results||[]).reverse(),function(a,m){m=m||{};z=m.formatted_address||z;g.each(m.address_components||[],function(a,m){a=m.types||[];-1!==g.inArray("administrative_area_level_1",a)&&(x=m.short_name||x);-1!==g.inArray("country",a)&&(b=m.long_name||b,d=m.short_name||d);-1!==g.inArray("locality",a)&&(f=m.short_name||f);-1!==
g.inArray("route",a)&&(e=m.short_name||e);-1!==g.inArray("street_number",a)&&(l=m.short_name||l);-1!==g.inArray("postal_code",a)&&(G=m.short_name||G)})});this.setItem("address",{country:b||"",countryCode:d||"",city:f||"",street:e||"",streetNumber:l||"",region:x||"",name:z||"",postalCode:G||""});this.setItem("addressDetailsOf",{latitude:this.getItem("latitude"),longitude:this.getItem("longitude")})}return a};b.prototype.failureHandler=function(a){ContextHub.console.log("Error while getting geolocation information:",
a)};b.prototype.storeLocation=function(a,b){a=g.extend(b,a);this.setItem("latitude",parseInt(1E6*a.latitude,10)/1E6);this.setItem("longitude",parseInt(1E6*a.longitude,10)/1E6)};b.prototype.areCoordinatesSet=function(){return g.isNumeric(this.getItem("latitude"))&&g.isNumeric(this.getItem("longitude"))};b.prototype.queryService=function(a,b){var d=this;b&&!this.areCoordinatesSet()&&(b=!1);b?this.generateSignature(function(){d.uber("queryService",a)}):g.when(this.getCoordinates()).then(function(b){d.storeLocation(b.coords||
{},d.config.initialValues.defaultLocation);d.generateSignature(function(){d.uber("queryService",a)})},function(b){d.failureHandler(b);d.storeLocation({},d.config.initialValues.defaultLocation);d.generateSignature(function(){d.uber("queryService",a)})})};ContextHub.Utils.storeCandidates.registerStoreCandidate(b,"contexthub.geolocation",30,function(a){var b=null;this.store!==a&&(b=ContextHub.Utils.storeCandidates.getStoreFromCandidates({type:"contexthub.geolocation",required:!0}));return"geolocation"in
l.navigator&&!b})})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] cq.contexthub - store.clientcontext-backedstore.js (clientcontext connector)");
(function(g){window.ContextHub.Store=window.ContextHub.Store||{};ContextHub.Store.ClientContextBackedStore=function(){};ContextHub.Utils.inheritance.inherit(ContextHub.Store.ClientContextBackedStore,ContextHub.Store.PersistedJSONPStore);ContextHub.Store.ClientContextBackedStore.defaultConfig={mappingConfig:{propertyMapping:{},mapOtherProperties:!0,replicateToClientContext:!0}};ContextHub.Store.ClientContextBackedStore.prototype.init=function(l,e){this.uber("init",l,e);this.config=g.extend(!0,{},this.config,
ContextHub.Store.ClientContextBackedStore.defaultConfig,e)};ContextHub.Store.ClientContextBackedStore.prototype.successHandler=function(l){var e=this.isEventingPaused(),b=this.config.mappingConfig.clientContextStoreName,a={},d;if(!this.preventSelfUpdating){this.preventSelfUpdating=!0;l=l||function(a,b){return b};this.pauseEventing();this.setItem("/",{});g.each(this.config.mappingConfig.propertyMapping,function(f,e){a[e]=!0;d=ClientContext.get(b+"/"+e);d=l(e,d);this.setItem("/"+f,d)}.bind(this));if(this.config.mappingConfig.mapOtherProperties){var f=
ClientContext.get(b).data||{};g.each(f,function(b,d){a[b]||(d=l(b,d),this.setItem("/"+b,d))}.bind(this))}e||this.resumeEventing();this.preventSelfUpdating=!1}};ContextHub.Store.ClientContextBackedStore.prototype.failureHandler=function(g){};ContextHub.Store.ClientContextBackedStore.prototype.queryService=function(g,e){var b=this.config.mappingConfig.clientContextStoreName,a=this,d=function(){var d=ClientContext.get(b),g=a.isEventingPaused();a.pauseEventing();d?(d.addListener("update",function(){!0!==
a.preventSelfUpdating&&a.successHandler(e)}),a.successHandler(e)):a.failureHandler();g||a.resumeEventing();a.announceReadiness()};ClientContext.get(b)?d():CQ_Analytics.ClientContextMgr.addListener("storeregister",function(a,e){e.STORENAME===b&&d()})};ContextHub.Store.ClientContextBackedStore.prototype.setItem=function(g,e){this.uber("setItem",g,e);if(this.config.mappingConfig.replicateToClientContext&&!0!==this.preventSelfUpdating&&(g=g.replace(/^\//,""),g.length)){var b=this.config.mappingConfig.propertyMapping[g];
!b&&this.config.mappingConfig.mapOtherProperties&&(b=g);b&&ClientContext.set(this.config.mappingConfig.clientContextStoreName+"/"+b,e)}};ContextHub.Store.ClientContextBackedStore.prototype.removeItem=function(g){this.uber("removeItem",g);if(this.config.mappingConfig.replicateToClientContext&&!0!==this.preventSelfUpdating){var e=g.replace(/^\//,"");e.length&&(g=this.config.mappingConfig.propertyMapping[e],!g&&this.config.mappingConfig.mapOtherProperties&&(g=e),g&&(e=CQ_Analytics.StoreRegistry.getStore(this.config.mappingConfig.clientContextStoreName))&&
e.removeProperty(g))}}})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.contexthub.geolocation - store.clientcontext-geolocation.js (clientcontext connector)");
(function(g){var l={mappingConfig:{clientContextStoreName:"geolocation",propertyMapping:{},mapOtherProperties:!0,replicateToClientContext:!0}},e=function(b,a){this.config=g.extend(!0,{},l,a);this.init(b,this.config);this.queryService(!0)};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.ClientContextBackedStore);e.prototype.loadLocation=function(b){var a=ClientContext.get(this.config.mappingConfig.clientContextStoreName);a&&(a.setProperties(b),a.fireEvent("update"))};e.prototype.reset=function(){var b=
ClientContext.get(this.config.mappingConfig.clientContextStoreName);b&&b.reset()};ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"contexthub.geolocation",20,function(){return!!window.ClientContext})})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.contexthub.surferinfo - store.surferinfo.js");
(function(g,l){function e(a,b){this.init(a,b);this.config=g.extend({},this.config,b);this.readData()}var b,a=function(a,d){var f={};f[a]=d;b=g.extend(!0,b,f);return f},d=function(){var a,b="Opera Chromium Chrome Safari Edge Trident MSIE Firefox AppleWebKit".split(" "),d=l.navigator.userAgent;(a=d.match(new RegExp("( |^)("+b.join("|")+")(/| )[0-9.]*","ig")))?(a=g.map(a,function(a){a=g.trim(a).split(/[\/ ]/);return{version:a.pop(),family:a.pop()}}),a=a.sort(function(a,d){return a.family===d.family?
a.version<d.version?-1:1:g.inArray(a.family,b)<g.inArray(d.family,b)?-1:1}),a=a.shift(),"Trident"===a.family&&(a.family="MSIE",a.version={"7.0":"11","6.0":"10","5.0":"9","4.0":"8"}[a.version])):a={version:"Unresolved",family:"Unresolved"};return g.extend(a,{userAgent:d})};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.PersistedStore);e.prototype.readData=function(){b={};var f=this.getItem("display"),e=l.devicePixelRatio||1;if(!f){f=l.screen.colorDepth;var m={width:l.screen.width*e,height:l.screen.height*
e},r=Math.pow(2,f),q=g("\x3cdiv\x3e").css({width:"1in",visibility:"hidden",position:"absolute",top:0,left:0});q.appendTo(g("body"));var t=q.innerWidth();q.detach();var x=l.orientation;"undefined"===typeof x?(q=l.screen.width>l.screen.height?"landscape":"portrait",x="normal"):-90===x||90===x?(q="landscape",x=90===x?"left":"right"):(q="portrait",x=0===x?"normal":"upside-down");f=a("display",{resolution:m,devicePixelRatio:e,colorDepth:f,nrOfColors:r,pixelsPerInch:t,orientation:{mode:q,direction:x}}).display.resolution}this.getItem("window")||
(e=a("window",{dimension:{width:g(l).innerWidth()*e,height:g(l).innerHeight()*e}}).window.dimension,a("window",{percentageUsage:Math.floor(e.width*e.height/(f.width*f.height)*100)/100}));this.getItem("browser")||a("browser",d());e=null;f=l.navigator.userAgent;t=f.match(/mobile|touch/i);q=f.match(/tablet/i);x=f.match(/iphone/i);var G=f.match(/ipod/i),z=f.match(/ipad/i),E=f.match(/htc/i),B=f.match(/(BlackBerry)([^/]*)\/([0-9.]*)/i),L=f.match(/GT-([^ ]*)/),R=f.match(/ipad|ipod|iphone/i);m=f.match(/android/i);
var U=f.match(/windows/i),W=f.match(/(mobile|tablet);/i)&&f.match(/; rv:/i);r="Desktop";x||G||m&&t||U&&t||B&&t||W&&t?r="Mobile":(z||m&&q||U&&q||B&&q||W&&q)&&(r="Tablet");if(R){e="iOS";var C=R.shift();var H=(f.match("OS ([0-9_]*)")||[""]).pop().replace(/_/g,".")}!e&&U&&(e="windows");!e&&E&&(e="Android",C=E.shift(),H=(f.match("HTC[_ /]([^ _;-]*)")||[""]).pop());!e&&B&&4===B.length&&(e="Blackberry",C=B.slice(1,3).join(" "),H=B.pop());!e&&L&&(H=L.pop(),e="Android",C="Samsung "+({I90:"Galaxy S",I91:"Galaxy S II",
I93:"Galaxy S III",I95:"Galaxy S IV",N70:"Note",N71:"Note II",P31:"Tab",P51:"Tab II"}[H.slice(0,3)]||"GT-"+H),H=(f.match("Android ([0-9.]*)")||[H]).pop());!e&&m&&(e="Android",C="Unresolved",H=(f.match("Android ([0-9.]*)")||[""]).pop());e||(e="Desktop",C="PC",H="");C={category:r,type:e,model:C,version:H};this.getItem("device")||a("device",C);this.getItem("isMobile")||a("isMobile","desktop"!==C.type);if(!this.getItem("os")){C=null;H=l.navigator.userAgent;if(H.match(/Mac OS X|Macintosh/)){C="Mac OS X";
var N=(H.match(/(Mac OS X|CPU OS) ([0-9_]*)/)||[""]).pop().replace(/_/g,".");N=(H.match(/iPod|iPad|iPhone/)?"iOS ":"")+N}C||-1===H.indexOf("Windows")||(C="Windows",N={"NT 10.0":"10","NT 6.3":"8.1","NT 6.2":"8","NT 6.1":"7","NT 6.0":"Vista","NT 5.2":"XP x64","NT 5.1":"XP","NT 5.01":"2000 SP1","NT 5.0":"2000","NT 4.0":"NT 4.0",98:"98","NT 95":"95","NT CE":"CE"}[H.match(/Windows (.+?);/).pop()],"98"===N&&-1!==H.indexOf("Win 9x 4.90")&&(N="ME"));!C&&H.match(/Linux/)&&(C="Linux",N=null);!C&&H.match(/Android/)&&
(C="Android",N=(H.match("Android ([0-9.]*)")||[""]).pop());a("os",{name:C||"Unresolved",version:N||"Unresolved"})}N=new Date;b.year=N.getFullYear();b.month=N.getMonth()+1;b.day=N.getDate();b.hour=N.getHours();b.minutes=N.getMinutes();this.addAllItems(b,{defer:0})};e.prototype.reset=function(a){this.uber("reset",a);this.readData()};ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"contexthub.surferinfo",0)})(ContextHubJQ,this);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.granite.profile - store.profile.js");
(function(g){var l={service:{jsonp:!1,timeout:1E3,path:"${contexthub:/store/profile/path}.infinity.json"},initialValues:{path:ContextHub.Constants.ANONYMOUS_HOME||"/home/users/a/anonymous"}},e=function(a){a=(new Date(a)).getTime();return~~((Date.now()-a)/315576E5)},b=function(a,b){this.config=g.extend(!0,{},l,b);this.init(a,this.config);this.onUpdate("age-update",function(a,b){var d=b.keys.set.hash["/birthday"];if(d){var f=this;window.setTimeout(function(){f.setItem("age",e(d.value))},50)}});this.queryService(!1)};
ContextHub.Utils.inheritance.inherit(b,ContextHub.Store.PersistedJSONPStore);b.prototype.successHandler=function(a){this.pauseEventing();var b=this.getItem("path");b&&(b=Granite.HTTP.externalize(b));var f=g.extend(!0,{},a.profile),l=!!ContextHub.Utils.JSON.tree.getItem(f,"/photos/primary/image"),m=/\/(jcr|sling|):/;g.each(ContextHub.Utils.JSON.tree.getKeys(f),function(a,b){b.match(m)&&(f=ContextHub.Utils.JSON.tree.removeItem(f,b))});f=ContextHub.Utils.JSON.tree.setItem(f,"path",b);l&&(f=ContextHub.Utils.JSON.tree.setItem(f,
"avatar",b+"/profile/photos/primary/image"));f.birthday&&(f=ContextHub.Utils.JSON.tree.setItem(f,"age",e(f.birthday)));f.authorizableId=f.authorizableId||a["rep:authorizableId"];a="anonymous";f.givenName&&f.familyName?a=parent.Granite.I18n.get("{0} {1}",[f.givenName,f.familyName],"name display order: {0} is the given (first) name, {1} the family (last) name"):f.givenName?a=f.givenName:f.familyName?a=f.familyName:f.authorizableId&&(a=f.authorizableId);f=ContextHub.Utils.JSON.tree.setItem(f,"displayName",
a);this.setItem("/",f);a="anonymous"===f.displayName?"anonymous":f.authorizableId;ContextHub.Shared.CookieContainer.setItem("SessionPersistence","PROFILEDATA",a?"authorizableId\x3d"+a:null);this.resumeEventing()};b.prototype.loadProfile=function(a){var b=ContextHub.getStore("profile");b.setItem("path",a?Granite.HTTP.externalize(a):a);b.queryService(!0)};ContextHub.Utils.storeCandidates.registerStoreCandidate(b,"granite.profile",0)})(ContextHubJQ);
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.granite.profile - store.clientcontext-profile.js (clientcontext connector)");
(function(g){var l={mappingConfig:{clientContextStoreName:"profile",propertyMapping:{displayName:"formattedName",path:"path",avatar:"avatar"},mapOtherProperties:!0,replicateToClientContext:!0}},e=function(a,b){"path"===a&&"string"===typeof b&&(b=b.replace(/\/profile$/,""));return b},b=function(a,b){this.config=g.extend({},!0,l,b);this.init(a,this.config);this.queryService(!0,e)};ContextHub.Utils.inheritance.inherit(b,ContextHub.Store.ClientContextBackedStore);b.prototype.loadProfile=function(a){a=
(a||"").split("/").pop();a.length&&ClientContext.get(this.config.mappingConfig.clientContextStoreName).loadProfile(a)};b.prototype.reset=function(){var a=ClientContext.get(this.config.mappingConfig.clientContextStoreName);a&&a.reset()};ContextHub.Utils.storeCandidates.registerStoreCandidate(b,"granite.profile",10,function(){return!!window.ClientContext})})(ContextHubJQ);
(function(g,l){g.Granite=g.Granite||{};g.Granite.author=g.Granite.author||{};var e=function(b){this.document=b;this._getRules()};e.getNativeDevice=function(){var b=g.innerWidth||document.documentElement.clientWidth,a=g.innerHeight||document.documentElement.clientHeight,d=g.screen.width,f=g.screen.height;var e=document.body;var l=document.createElement("div");e.appendChild(l);l.style.width="1in";var r=document.defaultView.getComputedStyle(l,null).getPropertyValue("width");e.removeChild(l);e=parseFloat(r);
b={type:"screen",width:b,height:a,"device-width":d,"device-height":f,"device-pixel-ratio":1,resolution:e,scan:"progressive",grid:!1,color:g.screen.colorDepth,"color-index":g.screen.pixelDepth,monochrome:0};b["aspect-ratio"]=b.width/b.height;b.orientation=b.width>b.height?"landscape":"portrait";b["device-aspect-ratio"]=b["device-width"]/b["device-height"];return b};e.prototype={};Object.defineProperty(e.prototype,"appliedStyleSheet",{get:function(){for(var b=!0,a=this._appliedStyleSheet;a&&(a=a.parentNode);)if(a===
this.document){b=!1;break}if(!this._appliedStyleSheet||b)b=this.document,a=b.createElement("style"),a.appendChild(b.createTextNode("")),b.head.appendChild(a),this._appliedStyleSheet=a;return this._appliedStyleSheet}});e.prototype._getRules=function(){var b=[],a=e.parser.getMediaRules(this.document),d,f;for(d=0;d<a.length;d++){var g=[];var l=e.parser.parseMediaRule(a[d].media.mediaText);for(f=0;f<a[d].cssRules.length;f++)g.push(a[d].cssRules[f].cssText);b.push({mediaText:a[d].media.mediaText,cssRules:g,
parsed:l,mediaRule:a[d]})}this.rules=b};e.prototype.removeMediaRules=function(){for(var b=0;b<this.rules.length;b++)for(;this.rules[b].mediaRule.cssRules[0];)this.rules[b].mediaRule.deleteRule(0)};e.prototype.clear=function(){document.head.removeChild(this.appliedStyleSheet);this.appliedStyleSheet=null};e.prototype.restore=function(){var b,a;document.head.removeChild(this.appliedStyleSheet);this.appliedStyleSheet=null;for(b=0;b<this.rules.length;b++)try{var d=this.rules[b];for(a=0;a<d.cssRules.length;a++)d.mediaRule.insertRule(d.cssRules[a],
d.mediaRule.cssRules.length)}catch(f){}};e.prototype.applyDevice=function(b){var a,d;this.clear();this.removeMediaRules();this.appliedStyleSheet.sheet.insertRule("html, body { width: "+b.width+"px; }",0);for(a=0;a<this.rules.length;a++)try{var f=this.rules[a];if(e.parser.matchDevice(f.parsed,b))for(d=0;d<f.cssRules.length;d++)this.appliedStyleSheet.sheet.insertRule(f.cssRules[d],this.appliedStyleSheet.sheet.cssRules.length)}catch(n){}};e.prototype.prepareDevice=function(b){var a={type:b.type||"screen",
"device-pixel-ratio":b["device-pixel-ratio"]||1,resolution:b.resolution||96,scan:b.scan||"progressive",grid:!!b.grid,color:b.color||8,"color-index":b["color-index"]||0,monochrome:b.monochrome||0};a.width=Math.floor(b.width/a["device-pixel-ratio"]);a.height=Math.floor(b.height/a["device-pixel-ratio"]);a["device-width"]=b["device-width"]||a.width;a["device-height"]=b["device-height"]||a.height;a["aspect-ratio"]=b["aspect-ratio"]||b.width/b.height;a.orientation=b.orientation||(b.width>b.height?"landscape":
"portrait");a["device-aspect-ratio"]=b["device-aspect-ratio"]||b["device-width"]/b["device-height"];return a};g.Granite.author.MediaEmulator=e})(this);
(function(g,l){function e(a){var b=Number(a);b||(a=a.match(/^(\d+)\s*\/\s*(\d+)$/),b=a[1]/a[2]);return b}function b(a){var b=parseFloat(a);switch(String(a).match(r)[1]){case "dpcm":return b/2.54;case "dppx":return 96*b;default:return b}}function a(a){var b=parseFloat(a);switch(String(a).match(m)[1]){case "em":return 16*b;case "rem":return 16*b;case "cm":return 96*b/2.54;case "mm":return 96*b/2.54/10;case "in":return 96*b;case "pt":return 72*b;case "pc":return 72*b/12;default:return b}}var d=/^(?:(only|not)?\s*([_a-z][_a-z0-9-]*)|(\([^\)]+\)))(?:\s*and\s*(.*))?$/i,
f=/^\(\s*([_a-z-][_a-z0-9-]*)\s*(?::\s*([^\)]+))?\s*\)$/,n=/^(?:(min|max)-)?(.+)/,m=/(em|rem|px|cm|mm|in|pt|pc)?\s*$/,r=/(dpi|dpcm|dppx)?\s*$/;Granite.author.MediaEmulator.parser={getMediaRules:function(a){a=a.styleSheets;var b=[];for(var d=0;d<a.length;d++)try{var e=a[d];var f=e.cssRules;for(var g=0;g<(f?f.length:0);g++){var l=f[g];l.type===CSSRule.MEDIA_RULE&&b.push(l)}}catch(L){}return b},parseMediaRule:function(a){return a.split(",").map(function(a){a=a.trim().match(d);var b=((a[3]||"")+(a[4]||
"")).trim().match(/\([^\)]+\)/g),e={};e.not=!!a[1]&&"not"===a[1].toLowerCase();e.type=a[2]?a[2].toLowerCase():"all";e.expressions=b?b.map(function(a){a=a.match(f);var b=a[1].toLowerCase().match(n);return{modifier:b[1],feature:b[2],value:a[2]}}):[];return e})},matchDevice:function(d,f){for(var g,l,m=0;m<d.length;m++)if(g=d[m],l="all"===g.type||f.type===g.type,!(l&&g.not||!l&&!g.not)&&((l=g.expressions.every(function(d){var g=d.feature,l=d.modifier;d=d.value;var m=f[g];if(!m)return!1;switch(g){case "orientation":case "scan":return m.toLowerCase()===
d.toLowerCase();case "width":case "height":case "device-width":case "device-height":d=a(d);m=a(m);break;case "resolution":d=b(d);m=b(m);break;case "aspect-ratio":case "device-aspect-ratio":case "device-pixel-ratio":d=e(d);m=e(m);break;case "grid":case "color":case "color-index":case "monochrome":d=parseInt(d,10)||1,m=parseInt(m,10)||0}switch(l){case "min":return m>=d;case "max":return m<=d;default:return m===d}}))&&!g.not||!l&&g.not))return!0}}})(this);
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.granite.emulators - store.emulators.js");
(function(g){var l={defaultEmulators:[{id:"ipad",title:"iPad",type:"tablet",platform:"iOS",platformVersion:"5.1.1",width:768,height:1024,canRotate:!0,orientation:"Portrait","device-pixel-ratio":1},{id:"ipad-2",title:"iPad 2",type:"tablet",platform:"iOS",platformVersion:"8.1.3",width:768,height:1024,canRotate:!0,orientation:"Portrait","device-pixel-ratio":1},{id:"ipad-3",title:"iPad 3 / 4 / Air",type:"tablet",platform:"iOS",platformVersion:"8.1.3",width:1536,height:2048,canRotate:!0,orientation:"Portrait",
"device-pixel-ratio":2},{id:"iphone-4",title:"iPhone 4",type:"mobile",platform:"iOS",platformVersion:"7.1.2",width:640,height:960,canRotate:!0,orientation:"Portrait","device-pixel-ratio":2},{id:"iphone-5",title:"iPhone 5",type:"mobile",platform:"iOS",platformVersion:"8.1.3",width:640,height:1136,canRotate:!0,orientation:"Portrait","device-pixel-ratio":2},{id:"iphone-6",title:"iPhone 6",type:"mobile",platform:"iOS",platformVersion:"8.1.3",width:750,height:1334,canRotate:!0,orientation:"Portrait","device-pixel-ratio":2},
{id:"iphone-6-plus",title:"iPhone 6 Plus",type:"mobile",platform:"iOS",platformVersion:"8.1.3",width:1080,height:1920,canRotate:!0,orientation:"Portrait","device-pixel-ratio":3},{id:"galaxy-s4",title:"Samsung Galaxy S4",type:"mobile",platform:"Android",platformVersion:"4.4.2 KitKat",width:1080,height:1920,canRotate:!0,orientation:"Portrait","device-pixel-ratio":3}]},e=function(b,a){this.config=g.extend(!0,{},l,a);a=this.getSupportedEmulators();g.extend(!0,this.config,{initialValues:{devices:a,currentDeviceId:a[0].id,
orientations:[{id:"landscape",title:"Landscape"},{id:"portrait",title:"Portrait"}]}});this.init(b,this.config);this.mediaEmulator=null;window.Granite&&Granite.author&&Granite.author.MediaEmulator&&(this.mediaEmulator=new Granite.author.MediaEmulator(window.document));this.emulateDevice(this.getItem("currentDeviceId")||"native")};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.PersistedStore);e.prototype.detectNativeDevice=function(){var b=window.innerWidth||document.documentElement.clientWidth,
a=window.innerHeight||document.documentElement.clientHeight,d=b>a?"Landscape":"Portrait",e=ContextHub.get("surferinfo/os/name")||"",g=ContextHub.get("surferinfo/os/version")||"";return{id:"native",title:"Native",type:"screen",width:b,height:a,orientation:d,platform:e,platformVersion:g,canRotate:!/mac os x|windows/i.test(e)}};e.prototype.getSupportedEmulators=function(){return g.merge([this.detectNativeDevice()],this.config.defaultEmulators)};e.prototype.emulateDevice=function(b){var a=b?this.getDeviceById(b):
ContextHub.get("emulators/currentDevice");a&&this.mediaEmulator&&(this.setItem("currentDeviceId",a.id),this.setItem("currentDevice",a),"native"===b?this.mediaEmulator.restore():this.mediaEmulator.applyDevice(a),this.eventing.trigger("emulating-device:"+a.id,{device:a}));return a};e.prototype.getDeviceById=function(b){var a=null,d=this.getItem("devices")||[];g.each(d,function(d,e){e.id===b&&(a=e);return null===a});return a};e.prototype.reset=function(){this.uber("reset");var b=this.getItem("currentDeviceId");
this.emulateDevice(b)};ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"granite.emulators",0)})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.aem.analyticsdata - store.analyticsdata.js");(function(g){var l={},e=function(b,a){this.init(b,this.config);this.config=g.extend(!0,{},l,a)};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.SessionStore);ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"aem.analyticsdata",0)})(ContextHubJQ);
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.aem.pagedata - store.pagedata.js");
(function(g){var l={forceExperienceCookie:"cq-forceexperience",service:{jsonp:!1,timeout:1E3,path:"${variable:ContextHub.Paths.RESOURCE_PATH}.pagedata.json"}},e=function(b,a){this.config=g.extend(!0,{},l,a);this.init(b,this.config);this.queryService(!0)};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.PersistedJSONPStore);e.prototype.successHandler=function(b){this.setItem("/",b||{})};e.prototype.setExperience=function(b){ContextHub.Utils.Cookie.setItem(this.config.forceExperienceCookie,b,
{path:"/"})};e.prototype.getExperience=function(){return ContextHub.Utils.Cookie.getItem(this.config.forceExperienceCookie)};e.prototype.clearExperience=function(){ContextHub.Utils.Cookie.removeItem(this.config.forceExperienceCookie)};ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"aem.pagedata",0)})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.aem.segmentation - store.segmentation.js");
(function(g){var l={service:{script:!0,timeout:3E3,path:window.ContextHub.Paths.SEGMENTATION_PATH+".seg.js"}},e=function(a,b){this.config=g.extend(!0,{},l,b);this.init(a,this.config);this.refreshData();ContextHub.eventing.on(ContextHub.Constants.EVENT_SEGMENT_UPDATED,function(){requestAnimationFrame(this.refreshData.bind(this))}.bind(this));ContextHub.isOptedOut()?this.announceReadiness():this.reloadSegments()};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.PersistedJSONPStore);e.prototype.reset=
function(a){ContextHub.SegmentEngine.SegmentManager.unregisterAllSegments();this.uber("reset",a)};e.prototype.queryService=function(a){ContextHub.isOptedOut()||this.uber("queryService",a)};e.prototype.reloadSegments=function(){this.reset()};var b=function(a){a=parseInt(a,10)||0;if(0>=a)a="No segment";else if(5>=a)a=a+" segment"+(1<a?"s":"");else{var b=5*Math.floor(a/5);a=(a===b?"":"More than ")+b+" segments"}return a};e.prototype.refreshData=function(){var a=[];g.each(ContextHub.SegmentEngine.getResolvedSegments(),
function(b,d){if(b=d.getPath()){var e=b+".html";d={label:d.getTitle()||d.getName()||b,link:e,path:b};a.push(d)}});var d=a.length;this.setItem("segments",a);this.setItem("summary",b(d));return a};e.prototype.getResolvedSegments=function(){return ContextHub.SegmentEngine.SegmentManager.getResolvedSegments()};e.prototype.getUnresolvedSegments=function(){return ContextHub.SegmentEngine.SegmentManager.getUnresolvedSegments()};ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"aem.segmentation",
0,function(){return!!ContextHub.SegmentEngine})})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.campaign.metadata - store.campaign.metadata.js");
(function(g,l){var e={service:{jsonp:!1,ttl:0,secure:"auto",host:document.location.host,port:80,path:Granite.HTTP.externalize(Granite.HTTP.getPath()+"/_jcr_content.campaign.metadata.json")},persistence:ContextHub.Utils.Persistence({mode:ContextHub.Utils.Persistence.Modes.WINDOW})},b=g("#campaignContextHub");b.length&&(e.service.method=b.data("metadata-method")||"GET",l=b.data("path"))&&(e.service.path=Granite.HTTP.externalize(l+"/_jcr_content.campaign.metadata.json"));l=function(a,b){this.config=
g.extend(!0,{},e,b);this.dataAvailable=!1;this.init(a,this.config);this.setItem("/",{},{silent:!0});this.queryService(!0)};ContextHub.Utils.inheritance.inherit(l,ContextHub.Store.JSONPStore);g.extend(l.prototype,{isOldMetaDataFormat:function(){var a=this.getItem("/_/version");return!!a&&1===a},isDataAvailable:function(){return this.dataAvailable},getMetadataVariable:function(a){function b(a,d){var e=d.indexOf(".");-1==e&&(e=d.length);var f=d.substring(0,e);return a.hasOwnProperty(f)?e==d.length?a[f]:
b(a[f].content,d.substring(e+1)):null}return b(this.getTree(),a)},getFilteredTree:function(a){function b(d){for(var e in d)if(d.hasOwnProperty(e))if(d[e].type&&!a(d[e]))delete d[e];else if(d[e].content){d[e].content=b(d[e].content);var f=!0,g;for(g in d[e].content)if(d[e].content.hasOwnProperty(g)){f=!1;break}f&&delete d[e]}return d}var e=g.extend(!0,{},this.getTree());return b(e)},convertToColumnViewFormat:function(a){function b(a,d){var e=[],f;for(f in a)a.hasOwnProperty(f)&&(e.push(a[f]),a[f].key=
f);e.sort(function(a,b){return a.hasOwnProperty("order")&&b.hasOwnProperty("order")?a.order<b.order?-1:1:a.hasOwnProperty("order")?1:a.label.localeCompare(b.label)});a=[];for(f=0;f<e.length;f++){var g=e[f],l=d+(d?".":"")+g.key,n={_links:{self:{href:l,title:g.label}},properties:{}};g.tag&&(n.value=g.tag);g.type&&(n.type=g.type);if(g.content){n.icon="tags";n.hasChildren=!0;g=b(g.content,l);if(!g.length)continue;n._embedded={items:g}}else n.icon="tag";a.push(n)}return a}return{_links:{self:{href:"foo"}},
_embedded:{items:b(a,"")}}},successHandler:function(a){if(a){this.dataAvailable=!0;var b=a.hasOwnProperty("schema")?1:2;this.setItem("/_/version",b);this.setItem("/",a)}return a},failureHandler:function(a){ContextHub.console.log("Error while getting mcm campaign metadata information:",a)}});ContextHub.Utils.storeCandidates.registerStoreCandidate(l,"campaign.metadata",0,function(){return 0<b.length&&!!b.attr("data-register")})})(ContextHubJQ,window);
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.campaign.seeddata - store.campaign.seeddata.js");
(function(g,l){var e=!1;l=(new RegExp(/(^[a-zA-Z0-9\/_-]+)*(\.[a-zA-Z]+)?/)).exec(document.location.pathname);var b="";l&&(b=l[1]+"/_jcr_content.campaign.seeddata.json");var a={service:{jsonp:!1,ttl:0,secure:"auto",host:document.location.host,port:80,path:b+"/${contexthub:/store/profile/campaign/seedId}"},persistence:ContextHub.Utils.Persistence({mode:ContextHub.Utils.Persistence.Modes.WINDOW})};l=function(b,e){this.config=g.extend(!0,{},a,e);this.init(b,this.config)};ContextHub.Utils.inheritance.inherit(l,
ContextHub.Store.JSONPStore);g.extend(l.prototype,{successHandler:function(a){a&&this.setItem("/",a);return a},failureHandler:function(a){ContextHub.console.log("Error while getting mcm campaign seeddata information:",a)},queryService:function(a){e&&this.uber("queryService",a)}});ContextHub.Utils.storeCandidates.registerStoreCandidate(l,"campaign.seeddata",0,function(){var a=g("#campaignContextHub").eq(0);if(a=0<a.length&&!!a.attr("data-register"))ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED+
":profile",function(a,b){if(a=ContextHub.getStore("seeddata")){a.setItem("/",{});if(b=ContextHub.getStore("profile"))b=b.getItem("/"),e=!!(b&&b.campaign&&b.campaign.seedId);e&&a.queryService(!1)}});return a})})(ContextHubJQ,window);
(function(g,l){function e(a,d){this.config=g.extend({},b,d);this.init(a,this.config);var e=this,l=1;ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED+":profile",function(a,b){e.setItem("tickle",l++)});ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED+":cart",function(a,b){e.setItem("tickle",l++)})}var b={maxCount:20};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.PersistedStore);e.prototype.recent=function(a,b){var d=this.getItem("products")||[],e=[],g=ContextHub.getStore("cart");
g||(b=!1);for(var l=d.length-1;0<=l&&0<a;l--){var q=d[l];b&&g.containsProduct(q.path)||(e.push(q),a--)}return e};e.prototype.record=function(a,b,e,g){for(var d=JSON.parse(JSON.stringify(this.getItem("products")||[])),f=0;f<d.length;f++)if(d[f].path==a){d.splice(f,1);break}d.length==this.config.maxCount&&d.shift();d.push({path:a,title:b,image:e,price:g});this.setItem("products",d)};e.prototype.remove=function(a){for(var b=JSON.parse(JSON.stringify(this.getItem("products")||[])),e=0;e<b.length;e++)if(b[e].path==
a){b.splice(e,1);break}this.setItem("products",b)};e.prototype.reset=function(a){this.uber("reset",a);this.setItem("products",[])};ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"commerce.abandonedproducts",0)})(ContextHubJQ,this);
(function(g){function l(b,a){this.config=g.extend(!0,{},e,a);this.init(b,this.config);var d=this,f=1;ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED+":cart",function(a,b){d.setItem("tickle",f++)})}var e={maxCount:20};ContextHub.Utils.inheritance.inherit(l,ContextHub.Store.PersistedStore);l.prototype.recent=function(b,a){var d=this.getItem("products")||[],e=[],g=ContextHub.getStore("cart");g||(a=!1);for(var l=d.length-1;0<=l&&0<b;l--){var r=d[l];a&&g.containsProduct(r.path)||(e.push(r),
b--)}return e};l.prototype.record=function(b,a,d,e){for(var f=JSON.parse(JSON.stringify(this.getItem("products")||[])),g=0;g<f.length;g++)if(f[g].path==b){f.splice(g,1);break}f.length==this.config.maxCount&&f.shift();f.push({path:b,title:a,image:d,price:e});this.setItem("products",f)};l.prototype.reset=function(b){this.uber("reset",b);this.setItem("products",[])};ContextHub.Utils.storeCandidates.registerStoreCandidate(l,"commerce.recentlyviewed",0)})(ContextHubJQ);
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.commerce.cart - store.cart.js");
(function(g){function l(a){if(a){var b=a.lastIndexOf("#");-1<b&&(a=a.substring(0,b));b=a.lastIndexOf(".html");-1<b&&(a=a.substring(0,b))}return a}g.extend(!0,{HTTP:{externalize:function(a){return a}}},window.top.window.Granite);var e={service:{jsonp:!1,timeout:1E3,ttl:0,path:"${resourcePath}.commerce.cart.json"}},b=function(a,b){this.config=g.extend({},e,b);this.init(a,this.config);this.queryService(!1);var d=this;ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED+":segmentation",function(a,
b){d.resolvePromotions()})};ContextHub.Utils.inheritance.inherit(b,ContextHub.Store.PersistedJSONPStore);b.prototype.getServiceDetails=function(){this.config.service.path&&(this.config.service.path=this.config.service.path.replace(/\${resourcePath}/g,ContextHub.Paths.RESOURCE_PATH));return this.config.service};b.prototype.queryService=function(a,b){var d=this.getServiceURL(!0);if(d){a&&this.removeItem("_",{silent:!0});a={ignorePost:!0};b&&(a=this.getTree());window.ContextHub=g.extend({Callbacks:{}},
window.ContextHub);ContextHub.Callbacks[this.name]=this.callbackFunction.bind(this);b=this.config.service.timeout;var e=this,l=e.isEventingPaused();e.pauseEventing();this.duration=0;ContextHub.Shared.timers.start(this.name);g.ajax({url:d,type:"POST",data:{cart:ContextHub.Utils.JSON.stringify(a)},timeout:b}).done(function(a,b,d){ContextHub.Callbacks[e.name](ContextHub.Utils.JSON.parse(d.responseText));e.eventing.trigger("push-success:"+e.name)}).fail(function(a){e.failureHandler(a)}).always(function(){l||
e.resumeEventing();e.announceReadiness()})}};b.prototype.successHandler=function(a){var b=this.getItem("_");this.setItem("/",a);this.setItem("_",b);this.updateSimulatedPrice()};b.prototype.setSimulatedPrice=function(a){this.getItem("/_/simulatedTotalPrice")||this.setItem("/_/referenceTotalPrice",this.getItem("totalPriceFloat"),{silent:!0});this.setItem("/_/simulatedTotalPrice",a,{silent:!0});this.uber("setItem","totalPriceFloat",a);this.setItem("totalPrice",this.getItem("totalPrice").replace(/[0-9]+\.[0-9]+/,
parseFloat(a).toFixed(2)))};b.prototype.updateSimulatedPrice=function(){var a=this.getItem("/_/simulatedTotalPrice");a&&this.getItem("/_/referenceTotalPrice")==this.getItem("totalPriceFloat")?this.setSimulatedPrice(a):this.setItem("/_/simulatedTotalPrice",null,{silent:!0})};b.prototype.addProductToCart=function(a,b,e,g,l){var d=JSON.parse(JSON.stringify(this.getItem("entries")||[]));d.push({title:e,quantity:1,path:a,pagePath:b,thumbnail:g,priceFormatted:l});this.setItem("entries",d);ContextHub.getStore("abandonedproducts")&&
ContextHub.getStore("abandonedproducts").record(b,e,g,l)};b.prototype.updateQuantity=function(a,b){var d=JSON.parse(JSON.stringify(this.getItem("entries")||[]));d.length>=a&&d[a].quantity!=b&&(d[a].quantity=b,this.setItem("entries",d))};b.prototype.addSimulatedPromotion=function(a,b){for(var d=this.getItem("/_/simulatedPromotions")||[],e=!1,g=0;g<d.length;g++)if(d[g].path==a){e=!0;break}e||(d.push({path:a,title:b}),this.setItem("/_/simulatedPromotions",d,{silent:!0}),this.resolvePromotions())};b.prototype.removeSimulatedPromotion=
function(a){for(var b=this.getItem("/_/simulatedPromotions")||[],e=-1,g=0;g<b.length;g++)if(b[g].path==a){e=g;break}0<=e&&(b.splice(e,1),this.setItem("/_/simulatedPromotions",b,{silent:!0}),this.resolvePromotions())};b.prototype.getSimulatedPromotions=function(){return this.getItem("/_/simulatedPromotions")};b.prototype.addVoucher=function(a){for(var b=this.getItem("vouchers")||[],e=!1,g=0;g<b.length;g++)if(b[g].code==a){e=!0;break}e||(b.push({code:a}),this.setItem("vouchers",b))};b.prototype.removeVoucher=
function(a){for(var b=this.getItem("vouchers")||[],e=-1,g=0;g<b.length;g++)if(b[g].path==a){e=g;break}0<=e&&(b.splice(e,1),this.setItem("vouchers",b))};b.prototype.setItem=function(a,b,e){if(0==a.indexOf("entries")||0==a.indexOf("promotions")||0==a.indexOf("vouchers")){var d="/"+(ContextHub.Utils.JSON.tree.sanitizeKey(a)||[]).join("/");d=this.getItem(d);var f=d===b;f||(d=ContextHub.Utils.JSON.stringify(d),f=ContextHub.Utils.JSON.stringify(b),f=d===f);!1===f&&(d=function(){this.queryService(!1,!0)}.bind(this),
ContextHub.eventing.once(ContextHub.Constants.EVENT_STORE_UPDATED+":cart",d,"commerceRemoteSync"))}this.uber("setItem",a,b,e)};b.prototype.containsProduct=function(a,b){var d=a?l(a):null,e=this.getItem("entries")||[];b||(b=1);for(var g=0;g<e.length;g++){var r=e[g],q=r.page||r.pagePath||"";q=l(q);if((!a||q==d)&&(!b||r.quantity>=b))return!0}return!1};b.prototype.containsPromotion=function(a,b){a=a?l(a):null;var d=this.getItem("promotions")||[];b||(b="FIRED");for(var e=0;d&&e<d.length;e++){var g=d[e];
if((g.path?l(g.path):null)==a&&b==g.status)return!0}return!1};b.prototype.resolvePromotions=function(){var a=this.getItem("promotionsMap");if(a){var b=ContextHub.SegmentEngine.SegmentManager.getResolvedSegments({returnLookup:!0}),e={},g,l;for(g=0;g<a.length;g++){var r=a[g].segments.split(",");for(l=0;l<r.length;l++)if(b[r[l]]){e[a[g].path]=!0;break}}a=this.getItem("/_/simulatedPromotions")||[];for(g=0;g<a.length;g++)e[a[g].path]=!0;a=JSON.parse(JSON.stringify(this.getItem("promotions")||[]));for(g=
0;g<a.length;g++)a[g].resolve||e[a[g].path]?e[a[g].path]=void 0:a.splice(g--,1);for(var q in e)e.hasOwnProperty(q)&&a.push({path:q});this.setItem("promotions",a)}};b.prototype.reset=function(a){this.uber("reset",a);this.uber("setItem","entries",[],{silent:!0});this.setItem("/_/simulatedPromotions",[],{silent:!0});this.uber("setItem","promotions",[],{silent:!0});this.uber("setItem","vouchers",[],{silent:!0});this.queryService(!1,!0)};ContextHub.Utils.storeCandidates.registerStoreCandidate(b,"commerce.cart",
0)})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.commerce.orderhistory - store.orderhistory.js");
(function(g){var l={service:{jsonp:!1,timeout:1E3,ttl:0,path:"${resourcePath}.commerce.orderhistory.json"}},e=function(b,a){this.config=g.extend({},l,a);this.init(b,this.config);this.queryService(!1);var d=this;ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED+":profile",function(a,b){d.queryService(!0)})};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.JSONPStore);e.prototype.getServiceDetails=function(){this.config.service.path&&(this.config.service.path=this.config.service.path.replace(/\${resourcePath}/g,
ContextHub.Paths.RESOURCE_PATH));return this.config.service};e.prototype.successHandler=function(b){var a=this.getItem("_");this.setItem("/",b);this.setItem("_",a)};ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"commerce.orderhistory",0)})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.commerce.relatedproducts - store.relatedproducts.js");
(function(g){var l={service:{jsonp:!1,timeout:1E3,ttl:18E5,path:"${variable:ContextHub.Paths.RESOURCE_PATH}.commerce.relatedproducts.json"}},e=function(b,a){this.config=g.extend(!0,{},l,a);this.init(b,this.config);this.cartLoaded=this.profileLoaded=!1;var d=this;this.queryService(!1);ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED+":profile",function(a,b){a=ContextHub.getStore("profile").getItem("authorizableId");d.profileLoaded?a!=d.lastAuthorizableId&&(d.lastAuthorizableId=a,d.queryService(!0)):
(d.profileLoaded=!0,d.lastAuthorizableId=a)});ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED+":cart",function(a,b){a=(ContextHub.getStore("cart").getItem("entries")||[]).length;d.cartLoaded?a!==d.lastCartEntryCount&&(d.lastCartEntryCount=a,d.queryService(!0)):(d.cartLoaded=!0,d.lastCartEntryCount=a)})};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.JSONPStore);e.prototype.successHandler=function(b){this.setItem("/",b||{})};e.prototype.products=function(b,a){for(var d=this.getTree(),
e=null,g=[],l=0;l<d.length;l++)if(d[l].type===a){e=d[l].list;break}for(l=0;e&&l<e.length&&l<b;l++)g.push(e[l]);return g};ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"commerce.relatedproducts",0)})(ContextHubJQ);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.store.commerce.smartlists - store.smartlists.js");
(function(g){var l={service:{jsonp:!1,timeout:1E3,ttl:18E5,path:"${variable:ContextHub.Paths.RESOURCE_PATH}.commerce.smartlists.json"}},e=function(b,a){this.config=g.extend(!0,{},l,a);this.init(b,this.config);this.profileLoaded=!1;var d=this;this.queryService(!1);ContextHub.eventing.on(ContextHub.Constants.EVENT_STORE_UPDATED+":profile",function(a,b){a=ContextHub.getStore("profile").getItem("authorizableId");d.profileLoaded?a!=d.lastAuthorizableId&&(d.lastAuthorizableId=a,d.queryService(!0)):(d.profileLoaded=
!0,d.lastAuthorizableId=a)})};ContextHub.Utils.inheritance.inherit(e,ContextHub.Store.JSONPStore);e.prototype.successHandler=function(b){this.setItem("/",b||{})};e.prototype.products=function(b){var a=this.getTree(),d=null,e=[];if(a)if(b)for(var g=0;g<a.length;g++){if(a[g].path===b){d=a[g].entries;break}}else a[0]&&(d=a[0].entries);for(g=0;d&&g<d.length;g++)e.push(d[g]);return e};ContextHub.Utils.storeCandidates.registerStoreCandidate(e,"commerce.smartlists",0)})(ContextHubJQ);
ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.finalize - ContextHub.store-initialization.js");
(function(g,l){var e=ContextHub;l=l.ContextHubKernelConfig||{};var b=e.Shared.timers.start();e.console.log(e.Shared.timestamp(),"[+] starting registration and initialization of the stores");g.each(l.stores||{},function(a,b){var d=e.Utils.storeCandidates.getStoreFromCandidates(b);if(d)try{var g=e.Shared.timers.start(),l=e.Shared.timestamp();e.registerStore(a,new d(a,b.config));e.console.log(l,'[+] initializing "'+a+'" store ('+e.Shared.timers.finish(g)+"ms)")}catch(r){e.console.error('Store "'+b.type+
'" (',d,") could not be initialized:",r)}});e.console.log(e.Shared.timestamp(),"[+] all stores initialized ("+e.Shared.timers.finish(b)+"ms)")})(ContextHubJQ,window);ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.finalize - ContextHub.finalization.js");
var unloadEverything=function(){if(window.ContextHub){ContextHub.eventing.disableEventing();ContextHub.eventing.unbindAllHandlers();ContextHub.SegmentEngine&&(ContextHub.SegmentEngine.SegmentManager.unregisterAllSegments(),ContextHub.SegmentEngine.ScriptManager.unregisterAllScripts());var g=ContextHub.UIFrame&&ContextHub.UIFrame[0].contentWindow;g&&g.ContextHubJQ&&(g.ContextHubJQ("*").off(),g.ContextHubJQ("html").remove());g&&(delete g.$,delete g.ContextHubJQ);delete window.ContextHubJQ;delete top.window.ContextHubJQ;
delete top.window.ContextHub}};window.onbeforeunload=unloadEverything;window.top!==window&&(window.top.onbeforeunload=unloadEverything);ContextHub.eventing.on("ui-initialized",function(){var g=ContextHub.UIFrame&&ContextHub.UIFrame[0];g&&(g.contentWindow.onbeforeunload=unloadEverything)},"unload-handler",!0);ContextHub.console.timeStamp("contexthub.stop");ContextHub.console.timeEnd("contexthub.js");ContextHub.console.log(ContextHub.Shared.timestamp(),"[loading] contexthub.ui.inject - ContextHub.UI.inject.js");
(function(g){window.injectContextHubUI=function(l,e,b,a,d,f){f=f||function(){};d=g.extend(!0,{address:"about:blank",display:"block",top:0},d);g(l).find("#contexthub-ui-iframe").remove();var n=g("\x3ciframe/\x3e").attr({id:"contexthub-ui-iframe",src:d.address}).css({border:"none",position:"fixed",width:"100%",height:"0px",left:0,top:d.top,zIndex:d.zIndex,display:d.display||"auto",transition:"left 0.5s"});n.on("load",function(){var d=n[0],f=d.contentDocument;d.contentWindow.ContextHub=e;g.each(b,function(a,
b){a=f.createElement("script");a.type="text/javascript";a.src=b;a.async=!1;f.head.appendChild(a)});g.each(a,function(a,b){a=f.createElement("link");a.rel=".less"===b.slice(-5)?"stylesheet/less":"stylesheet";a.type="text/css";a.href=b;f.head.appendChild(a)})});if(l.body)g(l.body).append(n);else g(l).on("ready",function(){g(l.body).append(n)});e.UIFrame=n;g(window).one("ch-ui-initialized",function(a,b){if(a=g.extend(!0,{data:[{}]},b).data[0].UI)window.top.ContextHub=e,window.top.ContextHub.UI=e.UI||
a});g(window).on("ch-ui-container-added",function(){if(window.ContextHub&&e.UI){f(e.UI,this.options||{});var a=e.persistence.getItem(e.Constants.IS_CONTAINER_EXPANDED);e.UI.Container.toggle({state:a})}else e.console.error("ContextHub UI initialization failed!")}.bind({options:d}))}})(ContextHubJQ);